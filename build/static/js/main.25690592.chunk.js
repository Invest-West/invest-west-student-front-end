(this["webpackJsonpinvest-west"]=this["webpackJsonpinvest-west"]||[]).push([[0],{114:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/logo.5e7ff337.png"},126:function(e,t,r){},250:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAFGBJREFUeJzt3X+sXnV9wPHPOc+t9LdlwCq0EUcoP9o6ExKIC1LUEv4bs4pL5obbxP8WB0wSdLoFtmw4DUjmSMgyFffDZJtKcZIYWmEyjGMzgNJecKDSlgKzFKG0vS29zzn7o2Oo41fvvU+/5zyf1+vPJn3OJ7kn3/N+znnOOREAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADMgar0AHRY21bnXx2D0mNAV33z6hhGVbWl54CZEADEe2/Y/8ZDTfOOqmrf2kZ9ehXNqRH1smiaxVHX9hF4GeecUv/bRy+af74IoI8s7kltuH7viW0Vv1VFdUlEvLn0PNBH7z1nXmx7aigC6CUBkMyv/uXUL00Mpz/SRPxOHfXrSs8Dffbec+ZFRIgAekkAJHHxdc2C6Xrqo200Vznww9x4IQAiRAD9U5cegNHbcN3etwxj6r4q4o8c/GE0Tj5+cN61Xz3wzWhbX6zoBQEw5t59/d5LItp7oo7TS88C404E0CcCYIxtuH7vlW1V/W3U9TGlZ4EsRAB9IQDG1Ibr914ZVfWp0nNARiKAPhAAY+jd1++9xMEfyhIBdJ0AGDPvueG5Xx5W7V+XngMQAXSbABgjF1/XLGiG9T/VUc8vPQtwmAigqwTAGBnWU1f5tT90jwigiwTAmPi1T0+9KZrmI6XnAF6aCKBrBMCYqGP6Krf7QbeJALpEAIyBX73hueVNxAdKzwG8OhFAVwiAMTBoB7/pEb/QHyKALhAAY6CN9v2lZwCOjAigNAHQcxdft29FHfGW0nMAR04EUJIA6LnpQfOO0jMAMycCKEUA9FzbVm8tPQMwOyKAEgRA37XVaaVHAGZPBHC0CYCeq6M5tfQMwNwQARxNAqD36mWlJwDmjgjgaBEAfVc1S0qPAMwtEcDRIAB6r54oPQEw90QAoyYAADpKBDBKAgCgw0QAoyIAADpOBDAKAgCgB0QAc00AAPSECGAuCQCAHhEBzBUBANAzIoC5IAAAekgEMFsCAKCnRACzIQAAekwEMFMCAKDnRAAzIQAAxoAI4EgJAIAxIQI4EgIAYIyIAF4rAQAwZk4+fnDeJ287KAJ4RQIAYAytPLYWAbwiAQAwpkQAr0QAAIwxEcDLEQAAY04E8FIEAEACIoCfJwAAkhAB/DQBAJCICOAFAgAgGRFAhAAASEkEIAAAkhIBuQkAgMREQF4CACA5EZCTAABABCQkAACICBGQjQAA4P+IgDwEAAA/QwTkIAAAZqotPcDoiIDxJwAAZmh6jAMgQgSMOwEAMEMHp0tPMHoiYHwJAIAZ2n+gKT3CUbHy2Pq8T9564C4RMF4EAMAMPXug9ARHz8oTBm8TAeNFAADM0NN7x/xHAD9HBIwXAQAwQz/ek+MSwE8TAeNDAADM0NTzEc/sy3UWIEIEjAsBADAL25/OFwARImAcCACAWXh0VxNNvisBESEC+k4AAMzCwek2fvRU0gIIEdBnAgBglh58fBjDvA0gAnpKAADM0tTzEd9/InEBhAjoIwEAMAcefGIYz07l/EHgC0RAvwgAgDnQNBH3/GAY07lPBIiAHhEAAHPk2f1tfOeH0+P8luDXRAT0gwAAmEM7nm7ju9uHpccoTgR0nwAAmGMPP9nE/duHzgSIgE4TAAAj8PCTTfz7I9N+EyACOksAAIzIY0+38Y2t0/Hs/tznAkRANwkAgBHaM9XG5snp2PpYk/psgAjoHgEAMGJNEzH5+DC+/t1D8ciPm7RPDRQB3SIAAI6SqUMR9z06jK/dPx33bx/G03vbdD8UFAHd4Q/Qcxs+nfBl5DBG5r+uihOWRPzCojqWLohYdEwdx0y0MRhUUY/xCv3Y7uauqy6af37pOTKbKD0AQGYHnm9jx+6IHbtfeHZAmmcIrCs9QHYuAQBAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgoYnSA8BMVRFRS1h6rGkj2rb0FGQlAOiVU5dXsX51FWtX1nH84oiqKj0RzFwbEc/si5h8vI07JpvYulMNcPQIAHph/ryID6yrY93pvvIzPqqIOHZRxLmrqjh31SDu3dbGTXc0sWdKCDB6VlM6b/68iI9dNHDwZ+yddXIV12wYxNIFpSchAysqnXfpujpWLXeunxxOXBZx2YWD0mOQgACg01Ytr+I83/xJZs2KKs4+RfQyWlZWOu2dqy2C5HTBasszo2UPo9PWrrSLktMZJ1VR619GyOpKpx2/uPQEUMYxE+HHgIyUAKDT3AxFZvZ/RkkA0Gm7nis9AZRx4FDEnqnSUzDOBACd9sCOpvQIUMTWna3HBDNSAoBO2zzZOg1KSpu2il9GSwDQaY/uOvyMdMjkvm1t3L9N+jJaAoDOu/nuJia9JIUktu9u48bNopfREwB03qHpiGtvG8btWxqXAxhr336kjas3NrH3oD2d0fM2QHrh0HTE5+5qYtOWNi5YW8eaFREnLKliovZKYPprOIzYvS9icmcTdz7UxsNPOvBz9AgAemXH0218/q5h6TEAes8lAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAk5HXA9FYVEbWEpceaNqJtS09BVgKAXjl1eRXrV1exdmUdxy+OqKrSE8HMtRHxzL6IycfbuGOyia071QBHjwCgF+bPi/jAujrWne4rP+OjiohjF0Wcu6qKc1cN4t5tbdx0RxN7poQAo2c1pfPmz4v42EUDB3/G3lknV3HNhkEsXVB6EjKwotJ5l66rY9Vy5/rJ4cRlEZddOCg9BgkIADpt1fIqzvPNn2TWrKji7FNEL6NlZaXT3rnaIkhOF6y2PDNa9jA6be1Kuyg5nXFSFbX+ZYSsrnTa8YtLTwBlHDMRfgzISAkAOs3NUGRm/2eUBACdtuu50hNAGQcOReyZKj0F40wA0GkP7GhKjwBFbN3ZekwwIyUA6LTNk63ToKS0aav4ZbQEAJ326K42vmEhJJl7t7Vx/zbpy2gJADrvC99qYtJLUkji0afauHGz6GX0BACdd2g64tqvDeP2La6JMt6+9V9N/MnGJvYdtKMzet4GSC8cGkZ87q5h3P5AFevX1LF2ZcQvLq1iovZKYPprehjx1N42Jne2ceeDbfzgxw78HD0CgF557CdtfOHuYekxAHrPJQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJOR1wPRWVUXUVekpYOaaNqJtS09BVgKAXlm1vIr1q6tYu7KO45ZEOP7TZ21EPLM/YnJnG3dONrFlpxrg6BEA9ML8eRGXrqvjvNNdtWJ8VBFx7MKIc1dVce6qQdy7rY2b7mhiz5QQYPSspnTe/HkRH79o4ODP2Dvr5Cqu2TCIpQtKT0IGVlQ674Pn13Hqcif7yeHEZRGXXTgoPQYJCAA6bdUbqnjbaXZTclmzooqzTxG9jJaVlU5bv9oiSE4XrLY8M1r2MDpt7Qq7KDmdcVIVlf5lhKyudFYVEcctLj0FlHHMRMTr/RiQERIAAB3lZkBGSQDQWW1E7Hqu9BRQxoFDEXumSk/BOBMAdNoDjzWlR4AiJh9vPSaYkRIAdNrmra3ToKS0aYv4ZbQEAJ32o12Hn5EOmdy3rY37tklfRksA0Hk3393EpJekkMT23W3cuFn0MnoCgM57fjri2tuGsWlL43IAY+3bj7Rx9cYm9h60pzN63gZILxyajvjsXU1s2trG+jV1rFkRccKSKibq8LAUems4jNi9L2JyZxN3PtTGw0868HP0CAB6ZfvuNj5/17D0GAC95xIAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABLyOmB6q6oi6qr0FMxG00a0bZltV/+775TaPpQmAOiVVcurWL+6irUr6zhuSYTjf7+1EfHM/ojJnW3cOdnElp2jPRq/eWUV71xdx5knVbFs4dHfPnSJ9bPnNnx6X4oVa/68iEvX1XHe6a5ajbN7t7Vx0x1N7Jma29166YKI31s/iLe88ZWXvFFtn5d2yxWLHIMKsprSefPnRXz8ooGDfwJnnVzFNRsGsXTB3H3msoURf/qeiVc9+I9q+9BVVlQ674Pn13Hqcl8UsjhxWcRlFw7m5LOqOPxZy5eW2T50mQCg01a9oYq3nWY3zWbNiirOPmX20fcrq6o486Qj/5y52j50mZWVTlu/2iKc1QWrZ788XbBm5p8xF9uHLrOH02lrV9hFszrjpGpWt3lODCJOm8Wlo9luH7rO6kpnVRFx3OLSU1DKMRMxqx/jLVt4OAJKbR+6TgAAnTWbm/Hm4gE/bgZknAkAOquNiF3PlZ6CUg4citgzNfP//8z+iEPDctuHrhMAdNoDjzWlR6CQrTvbWX2LHzYRDz0x8w+Y7fah6wQAnbZ5a+s0bFKbts4+/m7fMvPPmIvtQ5cJADrtR7sOP6OdXO7b1sb922affv/5wzYeeOzIP2eutg9dJgDovJvvbmLSS1rS2L67jRs3z130fWZTE4/95LXvP3O9fegqAUDnPT8dce1tw9i0pXE5YMx9+5E2rt7YxN6Dc/eX3jPVxtVfaeKeH776Z45i+9BVHnPRc1neBviCNx5Xxfo1daxZEXHCkiom6hff607/DIcRu/dFTO5s4s6H2nj4ydHuzqe/oYq3n1nFmSfVcdyiw/92NLfPz/I2wLImSg8AR2L77jY+f9cs7u0ite8/2cb3n2wjwil+cAkAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAABAQgIAABISAACQkAAAgIQEAAAkJAAAICEBAAAJCQAASEgAAEBCAgAAEhIAAJCQAACAhAQAACQkAAAgIQEAAAkJAABISAAAQEICAAASEgAAkJAAAICEBAAAJCQAACAhAQAACQkAAEhIAPRd07SlRwA4Uk3TDEvPkJ0A6Ls69pceAeBI1XVt7SpMAPRdE7tKjwBwpJporF2FCYDeqx8tPQHAkbN2lSYAeq6p262lZwA4UlVYu0oTAD1XR/xH6RkAjlTVtveUniE7AdBzzbC+s/QMAEdqOM/aVZoA6Llbr1y4I5q4v/QcAK9VG813vvqhRY+XniM7ATAG2rr9YukZAF6rKup/KD0DAmAsTNTNzdE0B0vPAfBqmmim2onpvys9BwJgLHzpsqW72ipuLj0HwKup2+qzGz/0+t2l50AAjI22GfxZE82B0nMAvKym2T9oq0+UHoPDBMCYuPXKhTvqqP+i9BwAL6etqz//0ocX7Sw9B4cJgDEyVS+4to3wcA2gc9omvjfvmUWfKj0HLxIAY+Trl9UHB1XzviaaqdKzALyo2ddMDH/jn6+pni89CS8SAGPmy5cv+d4gBr9beg6AiIhomrap6t/+6mVLJ0uPws8SAGPoK1cs/MeIuKL0HADtoP79Wy9f9OXSc/D/CYAxdcsVi24IEQCU0jRtW8WHNl6+6K9Kj8JLq0oPwGi96/r9v95Ww5vrqBeUngXIotnXRv3+jVcs+krpSXh5AiCBDTc8tzba+osR8ebSswBjron723r4vo1XLH2w9Ci8MpcAErjl8iVbpuoFZ0fb/rE7BIDRaPa10f7hCYsXnuPg3w/OACRz8XX7Vhyq249GtJfWUc8vPQ/Qc02zv6mqv6kjPnHLHyx+ovQ4vHYCIKl3febZ46rpiUuapnlfXddnl54H6JmmuSfq+ouD5tDff+nDy54uPQ5HTgAQG67fe2Jb1W+PtjmnjWpNtO2b6qo6PtpmYRMxUXo+oIw6Yjqqen9U7a6I6tE22q111Pccqob/+i+XL/nv0vMBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0A3/A42unnkqmzIiAAAAAElFTkSuQmCC"},366:function(e,t,r){},386:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC0FBMVEUAAAAA//8Af/8AqqoAf78AmcwAqtQAkdoAn98AjcYAmcwAotAAlNQAnNcAkdoAmcwAj88AltIAm9QAk9YAltAAm9IAlNQAmNYAk9cAl88AmtEAldMAlNUAl88AmtAAltIAmNMAlNQAl9UAltEAmdIAldMAl9QAlNUAltAAldIAl9MAlNQAltUAmNIAldMAl9QAmNIAldMAl9MAmdQAltEAmNEAldIAldMAltQAmNEAltIAl9IAldMAltMAmNQAltEAl9IAldIAltMAmNMAltQAl9EAldIAl9IAmNMAltMAl9QAltIAl9IAmNMAltMAl9QAltEAl9IAldIAltMAl9MAltQAl9EAldIAltIAl9MAltMAl9QAltIAl9IAmNIAltMAl9MAltQAl9IAmNIAltIAl9MAltMAl9QAmNIAltIAl9MAltMAl9MAldEAltIAl9IAltMAl9MAltMAltIAl9IAltIAl9MAltMAl9MAl9IAltIAl9IAltMAl9MAl9MAltIAl9IAltEAl9MAltMAltIAl9IAltIAl9MAltMAldMAl9IAltIAl9IAltMAldMAl9MAltIAl9IAltEAl9MAl9MAltMAl9IAltIAldMAl9MAltIAl9IAltEAldMAl9MAl9IAltEAldMAl9MAltMAl9IAltIAl9EAl9MAldMAl9MAltIAl9IAl9EAl9MAltMAl9IAldEAl9MAltMAl9MAldEAl9EAldMAl9MAltIAldIAl9EAldMAl9MAltMAl9IAl9EAldEAl9MAltMAl9MAl9IAldEAl9EAldMAl9MAltMAldIAl9EAldEAl9MAltMAldMAl9EAldEAl9EAltMAldMAl9IAldEAl9EAldMAl9MAl9MAldIAl9EAldEAl9MAl9MAldMAl9EAldEAl9EAltMAldMAl9MAldEAl9EAldEAldMAl9MAldMAl9EAldEAl9NBjL3XAAAA73RSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExYXGBkaGxwdHyAhIiMkJScoKSorLC4vMDE0NTY5Ojs8PT4/QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gIGCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaSlpqeoqaqsra6vsLGys7S1tre4ubu8vb/AwcLExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/jWJrzEAAAsKSURBVHja7d0LjBT1HQfw2bvjOBAqbxGrB/g4sBWwjagUqgaFiqIWtBSi1VRpY6lWq7VGom2MTa2v1ket0mpaRasmPDSkVorB2gYjRkGCPR4FxFh5Csj7dbuFiorH3u4A11vmP5+Pmujuf2Z25/fd3/xnHXaiCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSJ3NIvIpjamq6t25VmUnLXs9uWvPe/HeWCsBuFQMu7n9MKj98y6ZPenV72gPQ8epRR6S4Aa8aP255mgPQ7qbLq1J+DN72+D1rUhuAEXd0MAuL1tzybDoD0OaBoar/P1OuXZvCANQ801Xp91g8ckHqAnDyhLYK/6l1w2alLAAnT2mp7HvZNHRWqgJQ86LPf70eMGhhigLQZrrjf32Lzl5Xis2Wl+TNjjtVwetr121yagIw4gb13lePf9em5BDQ7nXf/+Szuu/adHSAn31dsfNpWTY9FR2g45wqxc5ra++VTb7NsqZ/m1erfwOqrkpDB6iYe4RSN2D5STvD7wAD1L9Bnful4BAwXJ0bNiwFARigzA07M/wAHHOMMjesukvwAahR5UJOFIB0qwk+AN0VueAxIPgAtFbkQtoFH4BWilxIi+ADUKnIhTQLPgAZRT6kdk+ZfZ5uAiAACAACgAAgAAgAAoAAIAAIAAKAACAACAACgAAgAAgAAoAAIAAIAIlWkdyXvuH1eQvWrK9o2eXYL5/izxulLQAfTXj67c9+UKmq/4gLZCBFh4DVt33phjf3+kGtrdNG97p/q2qmJQBP9n1wU/3HVvz81JeUMxUBWD8i/y123vv2jTsUNPwALDtnakNPPXbRBhUNPQDLzitwf6UZF2xW0rADsPFbSwo9PfvSrJoGHYAfzS38/PR71TTkAEyaWGzEr95W1HADsGls0SF11ytquAF4eFnxMbOmqmqoAdg6Ls6oe1Q11AA8vzrOqDcWK2ugAXgm5kxRWcMMwNbX4o17WVnDDMDMbfHGza5T1yAD8E7McVveVdcgAzA/7kCzwDADsCLuwLXqGmQA1scduEldgwxA7PscV6hrkAGIfbORw9Q1yAAcHXdgR3UNMgCx76h1vLoGGYA+cRtAZ3UNMgC9Y95S6zRlDTMAZYPjjRuirGEGIBoVa1SL85Q10AD0PynOqOHuTRlqAKKbY4wpv05Vgw3AkAHFx3z3WFUNNgDRb4q29y5jFTXgAHS/r8iAinGHK2rAAYguvrHw83d/TU2DDkA0dnShZ2+9QkkDD0B01y0N3mC54v4fq2jwAYh+8uf2+Z84esp3FDQFAYgGz7g4z6OV18w4VT1TEYCo0++nD6l3eVDr0W/c3ko5919Cr57q89TyCS++teWTc//Th5zbQi3TFIAo6jxmzI5Fiz7aVNmq8wmuAEphAHZp1qOHAqZyDoAAIAAIAAKAACAACAACgACwn/xR+qJySxYsWbp89YbtOzPNqtp0+mK3biceLgApsX7GP1+ft3Gfh7v2OaP/cQJQko/j5kxZeaYsz5Erl8vuUlbVwILZLWW77Xs5WS6bq8tmq/L8/MiKFya8lf8mNO++OznqNvjC0wSgqf3xtj03hcnssauAu0q/yyc3ijjumbx/MOSOh/b8yGDZx4tl6i3X7JLf1svFy4++srPQS1nyyCPVIy89KukByDT1BieedTBL91xedMjNP83z4MbqoncSmdFz734x4b55sT4/37imb6PunmmXOAsoJMavRef9ibAPi99JZu/fIHul//di1T/aOWXwBbOdBgbR05p/+m+rLv9mbfzl/jHwuvUCENJs6MV+L+zXgtk/9fu7ACTfnj1RN3bU6v1d9D/Dfy0AiT8ufDxkw7CHD2D1dbePqROAEKwa8uqBLfj0FXUCkOwOsLuAK8+fe6BbmPIDAUi2XBStu2jBgS//3C8FINEdIBttH1F7MNu4+68CkOxDwPUzD66F/HC5ACRY9omnD3INH14nAAnuAAtvPuitvPQXAUhuAMZuOfjN3LpDABIbgMa40dDipwQgsQFoFPfuFIBUe3+yAKTb7wQg3d6qFYA0zwGi6FkBSLfJApDuDrB0jgCkOgDRVAFIt5cEIN0dYPZGAUi1na8JQKo7QJSsAFQIQIPadmpZGW3bsGzz/i02QwACCEyfc/v2bvPJmd2bf5u6Jv6ytbmMACS7Axx2+eiue/1ndfWwbc/d9X7cpdcvStJPB5gE7uv8N37Rtd5DzS+b+f3Yy//LJDDJKh988sg8D7e48w+VMdcw3xwgwarGD2zgmeHlV2ZjrWKBDpBc5Y8NbPC5i26Kt47FApBctw0p8OSNvWKtY4UAJFa/awq2hztjrWR5VgASehpY+UDhgacPiLOWulUCkFCXFrv1/JhYqxGAhCq7ttiIczrFWc9aAUjmIaB/ddHdNTjOejYKQDKNLD7kbAEItwNkzolxmhBnRdsEIJF6tC8+pkO1AATbAb4SKyUxxvgeIJl6xxlUE2NMTgASqXucQV0FIFhd4gzqLADBOjLOoPYCEKrmbeKMaiMAoeoQa1RrZwGhahtrVEsdIFSt4h0oBCBUsaYAsS6iFIBDTpxvAg9vtB0mAIl0mACkW4tGW5OzgGR+D9Boa9IBEqlcB0i3jA4QrlyT7goBSKQy79ohQAcwCRQAHUAABEAATId8D6AD6AACoAOgA6SjJOYAKQ+AOQA6gA6gA/geQAdAB3AI0AFw4MMhAB0AHQCTQHtfB0hu/83pAA4BOkCKA5ATAB0AHcAcwCTQISCVATAJ1AEEwCTQHMAkUAcIPgBZZwE6QPCfWwFwFiAAjb33cwKQ7tPArAD4HkAAUhyAxiubs4CUB0AHSPnpgw5QSlkdwCFABxAAp4EC4CxAAErzudUBSqnOIUAHMAl0GthIrUMHSE8AHAISIMa9/b5wgMvFvHVsnD1WKQD/LxcWHVE1PN+jHc4onq2B8V5Cz+JDTknQHs009QYnnnVQiy9cVVZeXlaW2f3XZ689l8tmd/2drasrP6FN/q5cu273crsW2/XPXg9nc3sWLOsR79ax0ebarUU+U+1qDvz9TbukietRkawOEB1//AEG/cTGegUtvxrUlMn/DUw5ARAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAFAABAABAABQAAQAAQAAUAAEAAEAAEgllzwAcgqciE7gg/AJkUuZHPwAVijyIfU7mnyALynyIUsDT4A8xW5kHnBB+AdRS6kNvgALF2myg1bsiz4AETTlflQ2jlNH4BJynwo7Zwmv19AVDm3o0I34INedeF3gO3jFbohT9SloANEnWc3V+q8NvdenYI5QLT8caXO79Gmr38pOkDUfmY7xc5j5Snrm36j5SV4o1tWnK/aeYyZU4KNluR6gGenqPa+Jjxfiq1mSvJe207rruD1zB+0PkpLB4jWjlyn4p/34aiS1L9Ul4QtGObCkM/ZMHxxlKYARLOG6gF7f/6Hvh2lKwDRrEGL1P2z43+p6l/Cq4IXnv28yn9s4qDFJdt2ppRvfPidHVQ/WnlTKT8J5aV867Xjy3tVpLz8mx+6ck4pt58p8fvvdNVlnVNc/g+eeGx1aV9BpuT7oKLfsDOrU1n9JdMnvVZX6heROSR2xVE9a6rbtWiWSUnlczs2r1k6r9bVkQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwgP4L8YdkJdYJMf4AAAAASUVORK5CYII="},387:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/admin_logo.ba46fba4.png"},637:function(e,t,r){},638:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_my_dashboard.bd396a1f.png"},639:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_navigation_bar.9371ce16.png"},640:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_notifications.5cb03a6b.png"},641:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_user_management.f70fb039.png"},642:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_inviting_a_new_user_01.188cd7b9.png"},643:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_inviting_a_new_user_02.43a3a338.png"},644:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_inviting_a_new_user_03.d21bb154.png"},645:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_manage_access_requests.28fe688a.png"},646:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_manage_group_members.441a6d6f.png"},647:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_viewing_an_offer.e60ce2ca.png"},648:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_accept_reject_offer.e60ce2ca.png"},649:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_accept_reject_2_offer.ef822bde.png"},650:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_edit_offer_01.e60ce2ca.png"},651:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_edit_offer_02.6811f18b.png"},652:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_temporarily_closing_an_offer.2af2fa2e.png"},653:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_reopening_a_temporarily_closed_offer.a6df5162.png"},654:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_manage_group_admins.56a845b1.png"},655:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_explore_offers.c2b77876.png"},656:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_explore_groups.6d981bb7.png"},657:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_resources.46aab3b9.png"},658:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_settings.db022052.png"},659:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_public_offer.9199adf5.png"},660:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_restricted_offer.47d1cb14.png"},661:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_audit_log.7ba81ce1.png"},662:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_password.6b0f1016.png"},663:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_change_password.d432f2e0.png"},664:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/group_admin_help_logging_out.d5b27005.png"},665:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_my_dashboard.2972de8d.png"},666:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_navigation_bar.484f4980.png"},667:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_notifications.591a0a3c.png"},668:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_viewing_offers.e803e5a3.png"},669:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_viewing_offers_campaign.c87eedb6.png"},670:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_pitch_phase_02.ed931b04.png"},671:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_contacting_fundraiser.a655d6ac.png"},672:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_exploring_groups.2626dbb8.png"},673:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_resources.d795f034.png"},674:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_profile.161003e4.png"},675:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_editing_your_profile.7557feb5.png"},676:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_setting_up_business_profile.4f382457.png"},677:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_self_certification.316c14bd.png"},678:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_reset_password.3367ff8a.png"},679:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_change_password.ee808f9b.png"},680:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_support_01.3369ce18.png"},681:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_support_02.360ef7c1.png"},682:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/investor_help_log_out.b96d7eaf.png"},683:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_my_dashboard.2972de8d.png"},684:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_navigation_bar.c03a1c44.png"},685:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_notifications.ee71f277.png"},686:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_create_new_offer_01.7ef3c24c.png"},687:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_create_new_offer_02.e6fe49c4.png"},688:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_manage_offer.3aaa83e4.png"},689:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_edit_offer.6dc9997a.png"},690:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_replying_to_comments_in_offer_01.6baa1cf8.png"},691:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_replying_to_comments_in_offer_02.e5dcb344.png"},692:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_exploring_groups.2ddf42d1.png"},693:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_resources.394adc7a.png"},694:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_edit_profile_01.f76d41fd.png"},695:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_edit_profile_02.5ba1a9b1.png"},696:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_setting_business_profile_01.740f5dec.png"},697:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_setting_business_profile_02.4487dfd3.png"},698:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_reset_password.6e395e52.png"},699:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_change_password.a3ecf01b.png"},700:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_support_01.866d8280.png"},701:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_support_02.39aafbdc.png"},702:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/issuer_help_log_out.7f3b30bd.png"},703:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/front_page_cover_image.2b9aa708.png"},705:function(e,t,r){},706:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(34),o=r.n(i),s=r(13),c=r(14),l=r(17),d=r(16),u=r(809),p=r(414),h=r(799),j=r(62),g=r(412),b=r(2),m=r(24),f=r(52),O=r(3),x=r.n(O),v=r(6),y=r(127),A=r(93),C=r(266),P=r(782),w=r(101),S=r.n(w),_=r(156),I=r(157),E=r(122),D=r(140),T=r.n(D),k=r(35),N=r(388),R=(r(435),r(436),r(438),N.a.initializeApp({apiKey:"AIzaSyCliObyFwqT8HT_a8f-utnjap2TBxpmS_U",authDomain:"invest-west.firebaseapp.com",databaseURL:"https://invest-west.firebaseio.com",projectId:"invest-west",storageBucket:"invest-west.appspot.com",messagingSenderId:"648492737211",appId:"1:648492737211:web:d929d097148a7670"})),U=r(739),L=r(743),B=r(744),F=r(745),G=r(746),M=r(811),q=r(19),W="UPLOADING",Q="DISMISS_UPLOADING_STATUS",V=r(0),H=10,J=11,z=12,Y=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardRef,r=e.mode,n=e.progress,a=e.dismiss;return Object(V.jsxs)(U.a,{ref:t,open:0!==r,fullWidth:!0,children:[Object(V.jsx)(L.a,{children:2===r||1===r?"Uploading logo":3===r?"Uploading profile picture":5===r||4===r?"Uploading video":6===r?"Uploading documents":7===r?"Uploading business profile":r===z?"Error uploading":r===J?"Upload done":""}),Object(V.jsx)(B.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(M.a,{variant:"success",striped:!0,now:n,label:"".concat(n,"%")}),Object(V.jsx)(A.a,{variant:"body2",style:{marginTop:10},children:r!==J?"Please wait while we're uploading your files...":"Your files have successfully uploaded."})]})}),Object(V.jsx)(F.a,{children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",size:"small",disabled:r!==J&&r!==z,onClick:a,style:{margin:8},children:"Close"})})]})}}]),r}(n.Component),K=Object(q.b)((function(e){return{mode:e.uploadingStatus.mode,progress:e.uploadingStatus.progress}}),(function(e){return{dismiss:function(){return e({type:Q})}}}))(a.a.forwardRef((function(e,t){return Object(V.jsx)(Y,Object(b.a)(Object(b.a)({},e),{},{forwardedRef:t}))}))),X=r(69),Z=r(750),$=r(751),ee=r(812),te=r(752),re=r(46),ne=r.n(re),ae=r(31),ie=r.n(ae),oe=r(257),se=r.n(oe),ce=r(76),le=r.n(ce),de=r(390),ue=r.n(de),pe=r(748),he=r(749),je=r(747),ge="#000000",be="#FFFFFF",me="#D32F2F",fe="#4C8484",Oe="#FAFAFA",xe="#F5F5F5",ve="#EEEEEE",ye="#E0E0E0",Ae="#BDBDBD",Ce="#757575",Pe="#ECEFF1",we="#546E7A",Se="#455A64",_e="#58B99D",Ie="#4A9D86",Ee="#EAC545",De="#E79F3C",Te="#65C87A",ke="#55AB68",Ne="#C45C24",Re="#5197D5",Ue="#437FB4",Le="#C8473F",Be="#D65745",Fe="#B14334",Ge="#925EB1",Me="#844A87",qe="#BEC3C6",We="#38495C",Qe="#303E4E",Ve="#98A4A6",He="#818C8D",Je="#DE8DBD",ze="#CA76AA",Ye="#E99B89",Ke="#9DA282",Xe="#AF935E",Ze="#E5B547",$e="#9D473B",et=fe,tt="#E91E63",rt="#E15241",nt="#FBFBFA",at="#F7F7F6",it="#DCDEDD",ot=v.a.create({nav_link_hover:{":hover":{color:Se,textDecoration:"none",cursor:"pointer"}},nav_link_white_text_hover_without_changing_text_color:{color:be,":hover":{textDecoration:"none"}},nav_link_hover_without_changing_text_color:{":hover":{textDecoration:"none"}},page_title:{marginLeft:20,color:be},hamburger_button:{color:be,marginLeft:10},tab_title:{textTransform:"none",fontSize:"0.9em"},kick_starter_border_box:{border:"1px solid ".concat(it),boxShadow:"none"},no_text_transform:{textTransform:"none"},error_text:{color:rt},white_text:{color:be},black_text:{color:ge}});function st(e){var t=Object(je.a)({root:{background:function(e){return e.cellColor},color:e.textColor}})(e);return Object(V.jsx)(pe.a,{className:t.root,colSpan:e.colSpan,children:e.component})}var ct=a.a.forwardRef((function(e,t){return Object(V.jsx)(he.a,Object(b.a)(Object(b.a)({},e),{},{ref:t,direction:"up"}))})),lt=a.a.forwardRef((function(e,t){return Object(V.jsx)(he.a,Object(b.a)(Object(b.a)({},e),{},{ref:t,direction:"down"}))})),dt="AngelNetworkProperties",ut="Administrators",pt="ClubAttributes",ht="Users",jt="Projects",gt="ActivitiesLog",bt="InvestorSelfCertificationAgreements",mt="RequestsToJoin",ft="ContactUsEnquiries",Ot="MarketingPreferences",xt="InvitedUsers",vt="BusinessProfile",yt="AcceptedCreatePitchTermsAndConditions",At="Comments",Ct="CommentReplies",Pt="Pledges",wt="Votes",St="PledgeFAQs",_t="Notifications",It="Forums",Et="ForumThreads",Dt="ForumThreadReplies",Tt="LegalDocuments",kt="Logos",Nt="Videos",Rt="ProfilePictures",Ut="supportingDocuments",Lt="presentationDocument",Bt="cover",Ft=-2,Gt=["Please select","Ms.","Mrs.","Miss","Mr.","Dr.","Prof."],Mt=["Pre-seed","Seed","Series A","Series B","Series C"],qt=["Yes","No"],Wt=["Yes","No"],Qt=15e6,Vt=30,Ht=3e7,Jt=10,zt="-invest-west-",Yt=r(8),Kt=r.n(Yt),Xt=r(15),Zt=r(391),$t=function(){return(new Date).getTime()},er=function(e){var t=new Date,r=new Date;return t.setDate(r.getDate()+e),t.getTime()},tr=function(e){return new Date(e).toLocaleDateString()},rr=function(e){var t=new Date(e);return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString())},nr=["12345678","87654321","testPassword","testtest","abcdefgh","password","sunshine","iloveyou","password1","00000000","superman","asdfghjkl","qwertyuiop","1qaz2wsx","1q2w3e4r","qwertyui","asdfghjk","zxcvbnm,","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999"],ar=function(e){var t=0;return t=e.length<8?1:3,e.length>8&&(e.match(/[a-z]/)||e.match(/\d+/)||e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)),e.length>8&&(e.match(/[a-z]/)&&e.match(/\d+/)||e.match(/\d+/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)||e.match(/[a-z]/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)),e.length>8&&e.match(/[a-z]/)&&e.match(/\d+/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/),e.length>15&&e.match(/[a-z]/)&&e.match(/\d+/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/),-1!==nr.findIndex((function(t){return t.toLowerCase()===e.toLowerCase()}))&&(t=1),t},ir=function(e){if(!e)return null;return new Zt.QuillDeltaToHtmlConverter(e,{}).convert()},or=function(e){var t=new Date;if(e-t.getTime()<0)return 0;var r=Math.abs(e-t.getTime());return(r/864e5).toFixed(0)},sr=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Wbj4a1np5EejXhsnpv3RXQ19730",r="https://api.getAddress.io/find/".concat(t,"?api-key=").concat("Wbj4a1np5EejXhsnpv3RXQ19730","&sort=True&format=True"),e.abrupt("return",new Promise((function(e,t){fetch(r).then((function(e){return e.json()})).then((function(t){var r={apiAddresses:[],formattedAddresses:[],error:!1};return t.addresses?(t.addresses.forEach((function(e){r.apiAddresses.push(e);var t="";e.forEach((function(e,r){""!==e&&(t+=e+", ")})),","===(t=t.trim())[t.length-1]&&(t=t.slice(0,t.length-1)),r.formattedAddresses.push(t)})),e(r)):(r.error=!0,e(r))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cr=function(e){var t=0;return e&&0!==e.length?(e.forEach((function(e){""!==e.amount&&(t+=e.amount)})),t):t},lr=function(e){if(e.includes("."))return null;var t=e.split(",");if(t.length>1){var r=!1;if(t.forEach((function(e,t){0===t?(e.length>3||e.length<1)&&(r=!0):3!==e.length&&(r=!0)})),r)return null}var n=e.replace(/,/g,"");if(!0===isNaN(n))return null;var a=parseFloat(n);return a<0?null:a},dr=function(e,t){var r=e.file.name,n=r.split(zt);return n.length>1?t+zt+n[1]:t+zt+r},ur=function(e){return!e||e.startsWith("https://www.linkedin.com/in/")},pr=function(e,t){if(!t)return null;switch(e){case 1:return!t.hasOwnProperty("plainLogo")||t.hasOwnProperty("plainLogo")&&null===t.plainLogo?null:t.plainLogo[t.plainLogo.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url;case 2:return!t.hasOwnProperty("logoWithText")||t.hasOwnProperty("logoWithText")&&null===t.logoWithText?null:t.logoWithText[t.logoWithText.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url;default:return null}},hr=function(e,t){return 1!==e.type&&(3===e.type?!(5===t.status||6===t.status||-1===t.status):e.id===t.issuerID&&(t.status===Ft||0===t.status||1===t.status&&1===t.Pitch.status))},jr=function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},gr=function(e){return/^(http|https):\/\/(([a-zA-Z0-9$\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\/(([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\/([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\?([a-zA-Z0-9$\-_.+!*'(),;:@&=/?]|%[0-9a-fA-F]{2})*)?(#([a-zA-Z0-9$\-_.+!*'(),;:@&=/?]|%[0-9a-fA-F]{2})*)?)?$/.test(e)},br=function(e){return xr(e)||Cr(e)},mr=function(e){return e.status===Ft},fr=function(e){return 0===e.status},Or=function(e){return-1===e.status},xr=function(e){return 1===e.status&&1===e.Pitch.status},vr=function(e){return 2===e.status&&5===e.Pitch.status},yr=function(e){return 2===e.status&&4===e.Pitch.status||1===e.status&&4===e.Pitch.status},Ar=function(e){return 3===e.status},Cr=function(e){return 4===e.status},Pr=function(e){return 5===e.status},wr=function(e){return 6===e.status},Sr=function(e){return e.hasOwnProperty("temporarilyClosed")&&!0===e.temporarilyClosed},_r="CLOSE_FEEDBACK_SNACKBAR",Ir=function(){return{type:_r}},Er="SET_FEEDBACK_SNACKBAR_CONTENT",Dr=function(e,t,r){return{type:Er,message:e,color:t,position:r}},Tr="RESET_STATES_WHEN_SNACKBAR_CLOSED",kr="TOGGLE_EDIT_IMAGE_DIALOG",Nr=function(e){return function(t,r){t({type:kr,mode:e,user:r().auth.user})}},Rr="SET_IMAGE_EDITOR_REFERENCE",Ur="LOADING_IMAGE_FILE",Lr="IMAGE_FILES_LOADED",Br="LOADING_PREVIOUS_IMAGE",Fr="FINISHED_LOADING_PREVIOUS_IMAGE",Gr="IMAGE_ZOOM_CHANGED",Mr="CANCEL_EDITING_CURRENT_IMAGE",qr="EDITED_IMAGE_OBTAINED",Wr=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){if(!t||isNaN(t.getCroppingRect().x))return r();t.getImage().toBlob((function(t){return e(t)}),"image/jpg")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qr="CREATE_BUSINESS_PROFILE_SAVE_EDITED_IMAGE",Vr=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n,a){var i,o,s,c,l,d,u,p,h;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.mode,o=n.imgPreIndex,s=R.storage(),c=R.database(),3===i||1===i||2===i){e.next=5;break}return e.abrupt("return");case 5:if(t({type:W,mode:i,progress:0}),l=0,d="",2!==i&&1!==i){e.next=19;break}if(-1===o){e.next=15;break}return u=r.BusinessProfile.logo[o].storageID,e.next=13,s.ref(ht).child(r.id).child("".concat(kt,"/").concat(u)).delete();case 13:e.next=15;break;case 15:l=$t(),d="".concat(kt,"/").concat(l),e.next=31;break;case 19:if(3!==i){e.next=30;break}if(-1===o){e.next=26;break}return p=r.profilePicture[o].storageID,e.next=24,s.ref(ht).child(r.id).child("".concat(Rt,"/").concat(p)).delete();case 24:e.next=26;break;case 26:l=$t(),d="".concat(Rt,"/").concat(l),e.next=31;break;case 30:return e.abrupt("return");case 31:return h=s.ref(ht).child(r.id).child(d),e.abrupt("return",new Promise((function(e,n){var s=h.put(a);s.on("state_changed",(function(e){var r=e.bytesTransferred/e.totalBytes*100;t({type:W,mode:i,progress:r.toFixed(0)})}),(function(e){return t({type:W,mode:z,progress:100}),n(e)}),(function(){s.snapshot.ref.getDownloadURL().then((function(a){var s={storageID:l,url:a},d=[],u=c.ref(ht).child(r.id);2===i||1===i?(!r.BusinessProfile||r.BusinessProfile&&!r.BusinessProfile.logo?(d=[]).push(s):(d=r.BusinessProfile.logo,-1!==o?(d.splice(o,1),d.forEach((function(e){e.removed=!0})),d.push(s)):(d.forEach((function(e){e.removed=!0})),d.push(s))),u=u.child(vt).child("logo")):(r.profilePicture?(d=r.profilePicture,-1!==o?(d.splice(o,1),d.forEach((function(e){e.removed=!0})),d.push(s)):(d.forEach((function(e){e.removed=!0})),d.push(s))):(d=[]).push(s),u=u.child("profilePicture")),u.set(d).then((function(){return t({type:W,mode:J,progress:100}),t({type:kr,waitForUploading:!1}),e()})).catch((function(e){return t({type:W,mode:z,progress:100}),t({type:kr,waitForUploading:!1}),n(e)}))}))}))})));case 33:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),Hr=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderSelectedPreviousPhotoStatus=function(){var t=e.props,r=t.user,n=t.imgPreIndex,a=t.mode,i="";if(-1===n)return null;if(3===a){if(!r.profilePicture)return null;i=n!==r.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))?"This photo is a previous profile picture.":"This photo is the current profile picture."}else{if(!r.BusinessProfile||r.BusinessProfile&&!r.BusinessProfile.logo)return null;i=n!==r.BusinessProfile.logo.findIndex((function(e){return!e.hasOwnProperty("removed")}))?"This photo is a previous logo.":"This photo is the current logo."}return Object(V.jsx)(A.a,{align:"center",variant:"body2",color:"textSecondary",style:{marginTop:12},children:i})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.isMobile,n=(e.user,e.open),a=e.mode,i=e.previousPhotos,o=e.imgPreEdited,s=e.imgPreEditedLoaded,c=(e.imgPreIndex,e.imgEdited),l=e.imgZoom,d=e.onClose,u=e.setEditorReference,p=e.handleImageFilesChanged,h=e.handleImageFileError,j=e.handleSliderChanged,g=e.onPreviousImageItemClick,m=e.cancelEditingCurrentImage,f=e.viewEditedImagePreview,O=e.saveEditedImage,y=e.closeFeedbackSnackbar,P=Object(X.a)(e,["forwardedRef","isMobile","user","open","mode","previousPhotos","imgPreEdited","imgPreEditedLoaded","imgPreIndex","imgEdited","imgZoom","onClose","setEditorReference","handleImageFilesChanged","handleImageFileError","handleSliderChanged","onPreviousImageItemClick","cancelEditingCurrentImage","viewEditedImagePreview","saveEditedImage","closeFeedbackSnackbar"]);return Object(V.jsx)(U.a,Object(b.a)(Object(b.a)({ref:t,open:n,maxWidth:"sm",fullWidth:!0,fullScreen:r,onClose:d},P),{},{children:Object(V.jsx)(B.a,{style:{padding:0},children:Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{backgroundColor:at,paddingTop:6,paddingBottom:6,paddingLeft:15,paddingRight:15},children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{grow:8,children:Object(V.jsx)(A.a,{variant:"body1",children:3===a?"Upload profile picture":"Upload logo"})}),Object(V.jsx)(x.a,{grow:1,hAlignContent:"right",children:Object(V.jsx)(C.a,{onClick:d,children:Object(V.jsx)(ie.a,{fontSize:"small"})})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{padding:18},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"center",children:[Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"center",style:{marginBottom:25},children:"Upload a new photo or choose from your previous photos"}),Object(V.jsx)(le.a,{className:Object(v.b)(zr.img_drop_zone),onChange:p,onError:h,accepts:["image/png","image/jpg","image/jpeg"],maxFileSize:Ht,minFileSize:0,multiple:!0,clickable:!0,onClick:y,children:Object(V.jsxs)(x.a,{vAlignContent:"center",hAlignContent:"center",children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:8}}),"Upload photo"]})}),Object(V.jsxs)(x.a,{marginTop:22,hAlignContent:"center",style:{position:"relative",width:"100%",height:325},children:[Object(V.jsx)(ue.a,{ref:u,image:o,width:270,height:270,border:25,borderRadius:150,disableBoundaryChecks:!1,disableHiDPIScaling:!1,scale:l,style:{position:"absolute",top:0}}),s?null:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",style:{position:"absolute",width:"100%",height:"100%",top:0,zIndex:1},children:Object(V.jsx)($.a,{color:"primary"})})]}),this.renderSelectedPreviousPhotoStatus(),Object(V.jsxs)(x.a,{width:310,marginTop:15,vAlignContent:"center",children:[Object(V.jsx)(se.a,{fontSize:"small"}),Object(V.jsx)(ee.a,{min:1,max:2.5,step:.001,value:l,onChange:j,style:{marginLeft:11,marginRight:11}}),Object(V.jsx)(se.a,{fontSize:"large"})]}),Object(V.jsxs)(x.a,{marginTop:15,hAlignContent:"right",children:[Object(V.jsx)(G.a,{size:"medium",className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",onClick:function(){return m()},children:"Cancel"}),Object(V.jsx)(G.a,{size:"medium",className:Object(v.b)(ot.no_text_transform),variant:"contained",color:"secondary",disabled:!o,onClick:function(){return f()},style:{marginLeft:16,marginRight:16},children:"Preview"}),Object(V.jsx)(G.a,{size:"medium",className:Object(v.b)(ot.no_text_transform),variant:"contained",color:"primary",disabled:!o,onClick:function(){return O()},children:"Save"})]}),c?Object(V.jsx)(x.a,{marginTop:20,width:270,height:270,children:Object(V.jsx)(te.a,{src:window.URL.createObjectURL(c),roundedCircle:!0,thumbnail:!0,style:{width:"100%",height:"auto",objectFit:"scale-down"}})}):null]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})}),i?Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,style:{padding:15},children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",children:"Your photos"}),Object(V.jsx)(I.a,{noGutters:!0,style:{padding:12},children:i.sort((function(e,t){return t.storageID-e.storageID})).map((function(e,t){return Object(V.jsx)(E.a,{xs:6,sm:4,md:3,lg:3,onClick:function(){return g(t)},children:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",style:{width:"100%",padding:5},children:Object(V.jsx)(te.a,{src:e.url,className:Object(v.b)(zr.previous_img_item_selected),style:{height:128,width:128,objectFit:"contain"}},t)})},t)}))})]}):null]})})})}))}}]),r}(n.Component),Jr=Object(q.b)((function(e){return{user:e.auth.user,open:e.editImage.editImageDialogOpen,mode:e.editImage.mode,previousPhotos:e.editImage.previousPhotos,imgPreEdited:e.editImage.imgPreEdited,imgPreEditedLoaded:e.editImage.imgPreEditedLoaded,imgPreIndex:e.editImage.imgPreIndex,imgEdited:e.editImage.imgEdited,imgZoom:e.editImage.imgZoom,isMobile:e.MediaQueryState.isMobile}}),(function(e){return{onClose:function(){return e(Nr(null))},setEditorReference:function(t){return e(function(e){return{type:Rr,editor:e}}(t))},handleImageFilesChanged:function(t){return e(function(e){return function(t,r){if(!(r().manageFeedbackSnackbar.message.trim().length>0||r().manageFeedbackSnackbar.open)){t({type:Ur});var n=new Blob([e[e.length-1]],{type:"image/jpg"});t({type:Lr,blob:n})}}}(t))},handleImageFileError:function(t,r){return e(function(e,t){if(2===e.code)return{type:Er,message:"Image is too large. The maximum size is ".concat(Vt,"MB."),color:"error",position:"bottom"}}(t))},handleSliderChanged:function(t,r){return e(function(e,t){return{type:Gr,zoom:t}}(0,r))},onPreviousImageItemClick:function(t){return e(function(e){return function(t,r){t({type:Br}),fetch("https://cors-anywhere.herokuapp.com/"+r().editImage.previousPhotos[e].url).then((function(e){return e.blob()})).then((function(r){t({type:Fr,selectedIndex:e,blob:r})}))}}(t))},cancelEditingCurrentImage:function(){return e({type:Mr})},viewEditedImagePreview:function(){return e((function(e,t){var r=t().editImage.imgEditor;Wr(r).then((function(t){e({type:qr,blob:t})}))}))},saveEditedImage:function(){return e((function(e,t){1!==t().editImage.mode?Wr(t().editImage.imgEditor).then((function(r){e({type:kr,waitForUploading:!0}),Vr(e,t().auth.user,t().editImage,r)})):Wr(t().editImage.imgEditor).then((function(t){e({type:Qr,blob:t})}))}))},closeFeedbackSnackbar:function(){return e(Ir())}}}))(a.a.forwardRef((function(e,t){return Object(V.jsx)(Hr,Object(b.a)(Object(b.a)({},e),{},{forwardedRef:t}))}))),zr=v.a.create({img_drop_zone:{paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,textAlign:"center",border:"1px solid ".concat(Ae),":hover":{backgroundColor:xe,cursor:"pointer"}},previous_img_item_selected:{":hover":{border:"4px solid ".concat(et),cursor:"pointer",opacity:.9}}}),Yr=r(753),Kr=r(54),Xr=r.n(Kr),Zr="TOGGLE_EDIT_VIDEO_DIALOG",$r=function(e){return function(t,r){t({type:Zr,mode:e,user:r().auth.user})}},en="VIDEO_TYPE_CHOSEN",tn="VIDEO_URL_CHANGED",rn="VIDEO_FILE_CHANGED",nn="CREATE_BUSINESS_PROFILE_SAVE_VIDEO",an="PREVIOUS_VIDEO_SELECTED",on="CANCEL_EDITING_CURRENT_VIDEO",sn=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n,a){var i,o,s,c,l,d,u,p,h;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.mode,o=n.videoPreIndex,t({type:W,mode:i,progress:0}),s=null,-1===o){e.next=16;break}if(""===r.BusinessProfile.video[o].storageID){e.next=12;break}return"https://cors-anywhere.herokuapp.com/",e.next=8,fetch("https://cors-anywhere.herokuapp.com/"+r.BusinessProfile.video[o].url).then((function(e){return e.blob()})).then((function(e){s=e}));case 8:c=r.BusinessProfile.video[o].storageID,R.storage().ref(ht).child(r.id).child("".concat(Nt,"/").concat(c)).delete(),e.next=14;break;case 12:return l={storageID:"",dateUploaded:$t(),url:a},e.abrupt("return",new Promise((function(e,n){cn(t,r,l,o).then((function(){return e()})).catch((function(e){return n(e)}))})));case 14:e.next=16;break;case 16:if("string"!==typeof a){e.next=19;break}return d={storageID:"",dateUploaded:$t(),url:a},e.abrupt("return",new Promise((function(e,n){cn(t,r,d,o).then((function(){return e()})).catch((function(e){return n(e)}))})));case 19:return u=$t(),p="".concat(Nt,"/").concat(u),h=R.storage().ref(ht).child(r.id).child(p),e.abrupt("return",new Promise((function(e,n){var c=h.put(s||a);c.on("state_changed",(function(e){var r=e.bytesTransferred/e.totalBytes*100;t({type:W,mode:i,progress:r.toFixed(0)})}),(function(e){return t({type:W,mode:z,progress:100}),n(e)}),(function(){c.snapshot.ref.getDownloadURL().then((function(a){cn(t,r,{storageID:u,dateUploaded:u,url:a},o).then((function(){return e()})).catch((function(e){return n(e)}))}))}))})));case 23:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),cn=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n,a){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var o=[],s=R.database().ref(ht).child(r.id).child(vt).child("video");!r.BusinessProfile||r.BusinessProfile&&!r.BusinessProfile.video?(o=[]).push(n):(o=r.BusinessProfile.video,-1!==a?(o.splice(a,1),o.forEach((function(e){e.removed=!0})),o.push(n)):(o.forEach((function(e){e.removed=!0})),o.push(n))),s.set(o).then((function(){return t({type:W,mode:J,progress:100}),t({type:Zr,waitForUploading:!1}),e()})).catch((function(e){return t({type:W,mode:z,progress:100}),t({type:Zr,waitForUploading:!1}),i(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),ln=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderSelectedPreviousVideoStatus=function(){var t=e.props,r=t.user,n=t.videoPreIndex,a="";return-1===n||!r.BusinessProfile||r.BusinessProfile&&!r.BusinessProfile.video?null:(a=n!==r.BusinessProfile.video.findIndex((function(e){return!e.hasOwnProperty("removed")}))?"This video is a previous introduction video.":"This video is the current introduction video.",Object(V.jsx)(A.a,{align:"center",variant:"body2",color:"textSecondary",style:{marginTop:12},children:a}))},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.isMobile,n=e.open,a=(e.user,e.allowVideoUpload),i=e.videoTypeSelected,o=e.previousVideos,s=e.videoChosen,c=(e.videoPreIndex,e.onClose),l=e.chooseVideoType,d=e.handleVideoURLChanged,u=e.handleVideoFileChanged,p=e.handleVideoFileError,h=e.cancelEditingCurrentVideo,j=e.handlePreviousVideoItemClick,g=e.handleSaveVideo,m=e.closeFeedbackSnackbar,f=Object(X.a)(e,["forwardedRef","isMobile","open","user","allowVideoUpload","videoTypeSelected","previousVideos","videoChosen","videoPreIndex","onClose","chooseVideoType","handleVideoURLChanged","handleVideoFileChanged","handleVideoFileError","cancelEditingCurrentVideo","handlePreviousVideoItemClick","handleSaveVideo","closeFeedbackSnackbar"]);return Object(V.jsx)(U.a,Object(b.a)(Object(b.a)({ref:t,open:n,maxWidth:"sm",fullWidth:!0,fullScreen:r,onClose:c},f),{},{children:Object(V.jsx)(B.a,{style:{padding:0},children:Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{backgroundColor:at,paddingTop:6,paddingBottom:6,paddingLeft:15,paddingRight:15},children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{grow:8,children:Object(V.jsx)(A.a,{variant:"body1",children:"Upload introduction video"})}),Object(V.jsx)(x.a,{grow:1,hAlignContent:"right",children:Object(V.jsx)(C.a,{onClick:c,children:Object(V.jsx)(ie.a,{fontSize:"small"})})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{padding:18},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"center",children:[Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"center",style:{marginBottom:25},children:"Upload a new video or choose from your previous videos"}),a?Object(V.jsxs)(x.a,{children:[Object(V.jsx)(G.a,{variant:1===i?"contained":"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return l(1===i?null:1)},children:1===i?"Cancel upload a video":"Upload a video"}),Object(V.jsx)(G.a,{variant:2===i?"contained":"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return l(2===i?null:2)},style:{marginLeft:20},children:2===i?"Cancel upload a video URL":"Upload a video URL"})]}):Object(V.jsx)(G.a,{variant:2===i?"contained":"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return l(2)},children:2===i?"Cancel upload a video URL":"Upload a video URL"}),i?1===i?Object(V.jsx)(x.a,{column:!0,marginTop:20,children:Object(V.jsx)(le.a,{className:Object(v.b)(un.video_drop_zone),onChange:u,onError:p,accepts:["video/mp4"],maxFileSize:Ht,minFileSize:0,multiple:!0,clickable:!0,onClick:m,children:Object(V.jsxs)(x.a,{vAlignContent:"center",hAlignContent:"center",children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:8}}),"Upload video"]})})}):Object(V.jsx)(Yr.a,{name:"videoChosen",placeholder:"Enter your video URL",variant:"outlined",value:s&&"string"===typeof s?s:"",fullWidth:!0,onChange:d,style:{marginTop:20}}):null,s?Object(V.jsx)(x.a,{marginTop:20,hAlignContent:"center",style:{width:"100%"},children:Object(V.jsx)(Xr.a,{url:"string"===typeof s?s:window.URL.createObjectURL(s),playing:!1,controls:!0,width:"100%",height:280})}):null,this.renderSelectedPreviousVideoStatus(),s?Object(V.jsxs)(x.a,{marginTop:20,hAlignContent:"right",children:[Object(V.jsx)(G.a,{size:"medium",className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",onClick:function(){return h()},style:{marginRight:8},children:"Cancel"}),Object(V.jsx)(G.a,{size:"medium",className:Object(v.b)(ot.no_text_transform),variant:"contained",color:"primary",disabled:!s,onClick:g,style:{marginLeft:8},children:"Save"})]}):null]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:8}})}),o?Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,style:{padding:15},children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",children:"Your videos"}),Object(V.jsx)(I.a,{noGutters:!0,style:{padding:12},children:o.sort((function(e,t){return t.dateUploaded-e.dateUploaded})).map((function(e,t){return Object(V.jsx)(E.a,{xs:6,sm:4,md:4,lg:4,onClick:function(){return j(t)},children:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",style:{width:"100%",padding:10},children:Object(V.jsx)(Xr.a,{url:e.url,playing:!1,controls:!1,playsinline:!1,width:"100%",height:"auto",className:Object(v.b)(un.previous_video_item_selected)})})},t)}))})]}):null]})})})}))}}]),r}(n.Component),dn=Object(q.b)((function(e){return{user:e.auth.user,allowVideoUpload:!(!e.manageClubAttributes.clubAttributes||!e.manageClubAttributes.clubAttributes.hasOwnProperty("allowVideoUpload"))&&e.manageClubAttributes.clubAttributes.allowVideoUpload,open:e.editVideo.editVideoDialogOpen,mode:e.editVideo.mode,videoTypeSelected:e.editVideo.videoTypeSelected,videoChosen:e.editVideo.videoChosen,previousVideos:e.editVideo.previousVideos,videoPreIndex:e.editVideo.videoPreIndex,isMobile:e.MediaQueryState.isMobile}}),(function(e){return{onClose:function(){return e($r(null))},chooseVideoType:function(t){return e(function(e){return{type:en,videoType:e}}(t))},handleVideoURLChanged:function(t){return e(function(e){return{type:tn,url:e.target.value}}(t))},handleVideoFileChanged:function(t){return e(function(e){return function(t,r){if(!(r().manageFeedbackSnackbar.message.trim().length>0||r().manageFeedbackSnackbar.open)){var n=new Blob([e[e.length-1]],{type:"video/mp4"});t({type:rn,blob:n})}}}(t))},handleVideoFileError:function(t,r){return e(function(e,t){if(2===e.code)return{type:Er,message:"Video is too large. The maximum size is ".concat(Vt,"MB."),color:"error",position:"bottom"}}(t))},cancelEditingCurrentVideo:function(){return e({type:on})},handlePreviousVideoItemClick:function(t){return e(function(e){return{type:an,selectedIndex:e}}(t))},handleSaveVideo:function(){return e((function(e,t){4!==t().editVideo.mode?(e({type:Zr,waitForUploading:!0}),sn(e,t().auth.user,t().editVideo,t().editVideo.videoChosen)):e({type:nn,video:t().editVideo.videoChosen})}))},closeFeedbackSnackbar:function(){return e(Ir())}}}))(a.a.forwardRef((function(e,t){return Object(V.jsx)(ln,Object(b.a)(Object(b.a)({},e),{},{forwardedRef:t}))}))),un=v.a.create({video_drop_zone:{paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,textAlign:"center",border:"1px solid ".concat(Ae),":hover":{backgroundColor:xe,cursor:"pointer"}},previous_video_item_selected:{":hover":{border:"4px solid ".concat(et),cursor:"pointer",opacity:.9}}}),pn=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(V.jsxs)(x.a,{column:!0,hAlignContent:"center",marginTop:50,marginLeft:"10%",marginRight:"10%",children:[Object(V.jsx)(A.a,{className:Object(v.b)(hn.error_text),children:"404 Error"}),Object(V.jsx)(A.a,{className:Object(v.b)(hn.page_not_found_text),children:"Page not found"}),Object(V.jsx)(A.a,{className:Object(v.b)(hn.explain_text),children:"We are sorry, the page you requested could not be found."})]})}}]),r}(n.Component),hn=v.a.create({error_text:{fontSize:65,color:et,textAlign:"center"},page_not_found_text:{fontSize:50,fontWeight:"bold",marginTop:30,marginBottom:20,textAlign:"center"},explain_text:{fontSize:40,color:Ce,textAlign:"center"}}),jn=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:be},children:[Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsx)(x.a,{height:1,style:{backgroundColor:ye}})}),Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsx)(pn,{})})]})})}}]),r}(n.Component),gn=r(11),bn=function(e){return"anid"in e?JSON.parse(JSON.stringify(e)):null},mn=function(e){var t=e.findIndex((function(e){return e.isHomeGroup}));return-1!==t?e[t]:null},fn=["Ms.","Mrs.","Miss","Mr.","Dr.","Prof."],On=["Google","Newsletter","Linkedin","Event"],xn=function(e){return 2===e.type},vn=function(e){return 1===e.type},yn=function e(){Object(s.a)(this,e)};yn.baseGroup="/groups/:groupUserName",yn.nonGroupFront="/",yn.groupFront="".concat(yn.baseGroup),yn.nonGroupSignIn="/groups/invest-west/signin",yn.groupSignIn="".concat(yn.baseGroup,"/signin"),yn.superAdminSignIn="/signin/super-admin",yn.nonGroupSignUp="/groups/invest-west/signup",yn.groupSignUp="".concat(yn.baseGroup,"/signup/:id?"),yn.nonGroupAdminDashboard="/admin",yn.groupAdminDashboard="".concat(yn.baseGroup,"/admin"),yn.groupIssuerDashboard="".concat(yn.baseGroup,"/dashboard/issuer"),yn.groupInvestorDashboard="".concat(yn.baseGroup,"/dashboard/investor"),yn.nonGroupViewUserProfile="/view-profile/:userID",yn.groupViewUserProfile="".concat(yn.baseGroup,"/view-profile/:userID"),yn.nonGroupEditUserProfile="/edit-profile/:userID",yn.groupEditUserProfile="".concat(yn.baseGroup,"/edit-profile/:userID"),yn.nonGroupCreateOffer="/create-offer",yn.groupCreateOffer="".concat(yn.baseGroup,"/create-offer"),yn.nonGroupViewOffer="/projects/:projectID",yn.groupViewOffer="".concat(yn.baseGroup,"/projects/:projectID"),yn.nonGroupViewPledge="/pledge",yn.groupViewPledge="".concat(yn.baseGroup,"/pledge"),yn.nonGroupViewGroup="/view-group-details/:viewedGroupUserName",yn.groupViewGroup="".concat(yn.baseGroup,"/view-group-details/:viewedGroupUserName"),yn.nonGroupViewResourceDetail="/resources/:resourceName",yn.groupViewResourceDetail="".concat(yn.baseGroup,"/resources/:resourceName"),yn.nonGroupContactUs="/contact-us",yn.groupContactUs="".concat(yn.baseGroup,"/contact-us"),yn.groupHelp="".concat(yn.baseGroup,"/help"),yn.nonGroupTermsOfUse="/terms-of-use",yn.nonGroupPrivacyPolicy="/privacy-policy",yn.nonGroupRiskWarning="/risk-warning-footer",yn.nonGroupCreatePitchTermsAndConditions="/create-project-terms-and-conditions",yn.nonGroupMarketingPreferences="/marketing-preferences",yn.nonGroupAuthAction="/auth/action",yn.error404="/error/404",yn.isProtectedRoute=function(e){return e!==yn.nonGroupFront&&e!==yn.groupFront&&e!==yn.nonGroupSignIn&&e!==yn.groupSignIn&&e!==yn.nonGroupSignUp&&e!==yn.groupSignUp&&e!==yn.nonGroupContactUs&&e!==yn.groupContactUs&&e!==yn.nonGroupPrivacyPolicy&&e!==yn.nonGroupTermsOfUse&&e!==yn.nonGroupRiskWarning&&e!==yn.nonGroupCreatePitchTermsAndConditions&&e!==yn.nonGroupMarketingPreferences&&e!==yn.nonGroupAuthAction&&e!==yn.error404},yn.isRouteReservedForSuperAdmin=function(e){return e===yn.nonGroupAdminDashboard||e===yn.nonGroupViewUserProfile||e===yn.nonGroupEditUserProfile||e===yn.nonGroupCreateOffer||e===yn.nonGroupViewOffer||e===yn.nonGroupViewPledge||e===yn.nonGroupViewGroup},yn.isGroupAdminRoute=function(e){return e===yn.groupAdminDashboard},yn.isIssuerDashboardRoute=function(e){return e===yn.groupIssuerDashboard},yn.isInvestorDashboardRoute=function(e){return e===yn.groupInvestorDashboard},yn.isSignInRoute=function(e){return e===yn.nonGroupSignIn||e===yn.groupSignIn||e===yn.superAdminSignIn},yn.isSuperAdminSignInRoute=function(e){return e===yn.superAdminSignIn},yn.isSignUpRoute=function(e){return e===yn.nonGroupSignUp||e===yn.groupSignUp},yn.isErrorRoute=function(e){return e===yn.error404},yn.isSystemPublicRoute=function(e){return e===yn.nonGroupPrivacyPolicy||e===yn.nonGroupRiskWarning||e===yn.nonGroupTermsOfUse||e===yn.nonGroupCreatePitchTermsAndConditions||e===yn.nonGroupMarketingPreferences},yn.constructPublicRoute=function(e){switch(e){case"privacyPolicy":return yn.nonGroupPrivacyPolicy;case"riskWarning":return yn.nonGroupRiskWarning;case"termsOfUse":return yn.nonGroupTermsOfUse;case"createPitchTermsAndConditions":return yn.nonGroupCreatePitchTermsAndConditions;case"marketingPreferences":return yn.nonGroupMarketingPreferences}},yn.constructHomeRoute=function(e,t,r){var n="";if(!r.currentUser)return e.groupUserName?yn.groupFront.replace(":groupUserName",e.groupUserName):yn.nonGroupFront;var a=bn(r.currentUser);if(a){if(a.superAdmin)n=yn.nonGroupFront;else if(1===r.groupsOfMembership.length){var i=r.groupsOfMembership[0];n=yn.groupFront.replace(":groupUserName",i.group.groupUserName)}}else{var o=mn(r.groupsOfMembership);e.groupUserName&&r.groupsOfMembership.filter((function(t){return t.group.groupUserName===e.groupUserName})).length>0?n=yn.groupFront.replace(":groupUserName",e.groupUserName):o&&(n=yn.groupFront.replace(":groupUserName",o.group.groupUserName))}return n||yn.nonGroupFront},yn.constructSignInRoute=function(e){return e.groupUserName?yn.groupSignIn.replace(":groupUserName",e.groupUserName):yn.nonGroupSignIn},yn.constructSignUpRoute=function(e,t){return e?yn.groupSignUp.replace(":groupUserName",e).replace(t?":id?":"/:id?",null!==t&&void 0!==t?t:""):yn.nonGroupSignUp},yn.constructContactUsRoute=function(e){return e.groupUserName?yn.groupContactUs.replace(":groupUserName",e.groupUserName):yn.nonGroupContactUs},yn.constructDashboardRoute=function(e,t,r){var n="";if(!r.currentUser)return yn.constructSignInRoute(e);var a=bn(r.currentUser);if(a){if(a.superAdmin)n=yn.nonGroupAdminDashboard;else if(1===r.groupsOfMembership.length){var i=r.groupsOfMembership[0];n=yn.groupAdminDashboard.replace(":groupUserName",i.group.groupUserName)}}else{var o=mn(r.groupsOfMembership);e.groupUserName&&r.groupsOfMembership.filter((function(t){return t.group.groupUserName===e.groupUserName})).length>0?n=vn(r.currentUser)?yn.groupInvestorDashboard.replace(":groupUserName",e.groupUserName):yn.groupIssuerDashboard.replace(":groupUserName",e.groupUserName):o&&(n=vn(r.currentUser)?yn.groupInvestorDashboard.replace(":groupUserName",o.group.groupUserName):yn.groupIssuerDashboard.replace(":groupUserName",o.group.groupUserName))}return""===n?yn.constructSignInRoute(e):n+="?tab=Home"},yn.constructProjectDetailRoute=function(e,t){return(e?yn.groupViewOffer.replace(":groupUserName",e):yn.nonGroupViewOffer).replace(":projectID",t)},yn.constructCreateProjectRoute=function(e,t){var r;return r=e?yn.groupCreateOffer.replace(":groupUserName",e):yn.nonGroupCreateOffer,void 0!==t&&(t.edit?r+="?edit=".concat(t.edit):t.admin&&t.issuer&&(r+="?admin=".concat(t.admin,"&issuer=").concat(t.issuer))),r},yn.constructGroupDetailRoute=function(e,t){return(e?yn.groupViewGroup.replace(":groupUserName",e):yn.nonGroupViewGroup).replace(":viewedGroupUserName",t)},yn.constructViewResourceDetailRoute=function(e,t){return e?yn.groupViewResourceDetail.replace(":groupUserName",e).replace(":resourceName",t):yn.nonGroupViewResourceDetail.replace(":resourceName",t)};var An="/groups/:groupUserName",Cn=An,Pn="".concat(An,"/signin"),wn="".concat(An,"/admin"),Sn="/admin",_n="".concat(An,"/dashboard/issuer"),In="/dashboard/issuer",En="".concat(An,"/dashboard/investor"),Dn="/dashboard/investor",Tn=("".concat(An,"/signup/:id"),"".concat(An,"/view-profile/:userID")),kn="/view-profile/:userID",Nn="".concat(An,"/edit-profile/:userID"),Rn="/edit-profile/:userID",Un="".concat(An,"/pledge"),Ln="/pledge",Bn="".concat(An,"/create-offer"),Fn="".concat(Bn,"?edit=:projectID"),Gn=("".concat(Bn,"?admin=:adminID&issuer=:issuerID"),"/create-offer"),Mn="".concat(Gn,"?edit=:projectID"),qn="".concat(An,"/projects/:projectID"),Wn="/projects/:projectID",Qn="".concat(An,"/view-group-details/:groupID"),Vn="/view-group-details/:groupID",Hn="".concat(An,"/contact-us"),Jn="/contact-us",zn=("".concat(An,"/contact-us-2"),"".concat(An,"/help")),Yn="/help",Kn="/terms-of-use",Xn="/privacy-policy",Zn="/create-project-terms-and-conditions",$n=r(136),ea=r.n($n),ta=function e(){Object(s.a)(this,e)};ta.retrieveSystemAttributesRoute=(ta.systemAttributesBaseRoute="/system-attributes")+"/retrieve",ta.updateSystemAttributesRoute=ta.systemAttributesBaseRoute+"/update",ta.requestResetPasswordRoute=(ta.authBaseRoute="/auth")+"/request-reset-password",ta.verifyAuthRoute=ta.authBaseRoute+"/verify",ta.sendEmailRoute=(ta.emailBaseRoute="/email")+"/send",ta.createUser=(ta.usersBaseRoute="/users")+"/create",ta.retrieveUser=ta.usersBaseRoute+"/:uid/retrieve",ta.retrieveInvitedUser=ta.usersBaseRoute+"/:invitedUserID/retrieve-invited",ta.updateUser=ta.usersBaseRoute+"/update",ta.listGroupsOfMembership=ta.usersBaseRoute+"/:uid/groups-of-membership",ta.exportUsersCsvRoute=ta.usersBaseRoute+"/export",ta.listGroups=(ta.groupsBaseRoute="/groups")+"/list",ta.retrieveGroup=ta.groupsBaseRoute+"/:groupUserName",ta.addMembersToGroup=ta.groupsBaseRoute+"/:group/add-members",ta.listGroupMembers=ta.groupsBaseRoute+"/:group/list-members",ta.listProjectsRoute=(ta.projectsBaseRoute="/projects")+"/list",ta.sendProjectBackToIssuerRoute=ta.projectsBaseRoute+"/send-back-to-issuer",ta.exportProjectsToCsvRoute=ta.projectsBaseRoute+"/export",ta.addGroupAdminRoute=(ta.groupAdminsBaseRoute="/group-admins")+"/add",ta.listAccessRequestsRoute=(ta.accessRequestsBaseRoute="/access-requests")+"/list",ta.removeAccessRequestRoute=(ta.createAccessRequestRoute=ta.accessRequestsBaseRoute+"/create")+"/remove",ta.retrieveInvestorSelfCertificationRoute=(ta.investorSelfCertificationBaseRoute="/investor-self-certifications")+"/retrieve",ta.updateInvestorSelfCertificationRoute=ta.investorSelfCertificationBaseRoute+"/update",ta.uploadSingleFileRoute=(ta.fileBaseRoute="/file")+"/upload-single",ta.testRoute="/test";var ra,na=function(){function e(){Object(s.a)(this,e),this.baseUrl="https://server-platform.investwest.online"}return Object(c.a)(e,[{key:"buildUrl",value:function(t,r){var n=this.baseUrl+t+e.buildQueryParameters(r);return encodeURI(n)}},{key:"request",value:function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n,a,i){var o,s,c,l,d,u,p;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==n&&0!==n.length){t.next=2;break}throw new Error("Empty url");case 2:return o=this.buildUrl(n,void 0!==a&&null!==a&&null!==a.queryParameters?a.queryParameters:null),t.next=5,R.auth().currentUser;case 5:if(s=t.sent,t.prev=6,c=null,!s){t.next=12;break}return t.next=11,s.getIdToken();case 11:c=t.sent;case 12:return l=void 0!==i&&i?void 0!==a&&null!==a&&null!==a.requestBody?e.buildFormData(a.requestBody):null:void 0!==a&&null!==a&&null!==a.requestBody?a.requestBody:null,d={method:r,url:o,data:l,timeout:2e4},c&&(d.headers={Authorization:c},void 0!==i&&i&&(d.headers=Object(b.a)(Object(b.a)({},d.headers),{},{"Content-Type":"multipart/form-data; boundary=".concat(l._boundary)}))),t.next=17,ea.a.request(d);case 17:return u=t.sent,t.abrupt("return",this.parseResponse(u));case 21:throw t.prev=21,t.t0=t.catch(6),p=e.parseError(t.t0),console.log("Failed to request. Status code: ".concat(p.statusCode,". Cause: ").concat(p.message)),new Error(p.statusCode+" "+p.message);case 26:case"end":return t.stop()}}),t,this,[[6,21]])})));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"parseResponse",value:function(e){if(null===e)throw new Error("Null response.");if(this.isRequestSuccessful(e))return e;throw new Error("Response error.")}},{key:"isRequestSuccessful",value:function(e){return null!=e&&e.status>=200&&e.status<300}}],[{key:"buildQueryParameters",value:function(e){if(null===e)return"";var t="?";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];void 0!==n&&null!==n&&(t.endsWith("?")||(t+="&"),t+="".concat(r,"=").concat(n.toString()))}return t.endsWith("?")&&(t=""),t}},{key:"buildFormData",value:function(e){if(null===e)return null;var t=new FormData;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];void 0!==n&&null!==n&&t.append(r,n)}return t}},{key:"parseError",value:function(e){var t,r={statusCode:-1,message:""};e.response?e.response.data&&(r={statusCode:e.response.data.code,message:null!==(t=e.response.data.detail)&&void 0!==t?t:e.response.data.message}):r=e.request?{statusCode:-1,message:"Server is not responding."}:{statusCode:-1,message:"Unexpected error."};return r}}]),e}(),aa=function(e){var t=e.userID,r=e.activityType,n=e.interactedObjectLocation,a=void 0===n?null:n,i=e.interactedObjectID,o=void 0===i?null:i,s=e.activitySummary,c=e.action,l=void 0===c?null:c,d=e.value,u=void 0===d?null:d,p=R.database().ref(gt).push().key;R.database().ref(gt).child(p).set({id:p,userID:t,activityType:r,interactedObjectLocation:a,interactedObjectID:o,activitySummary:s,action:l,value:u,time:$t()}).then((function(){})).catch((function(e){}))},ia="FETCH_ACTIVITIES_BY_USER",oa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n,a,i,o,s,c,l,d,u;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userID,n=void 0===r?null:r,a=t.activityType,i=void 0===a?null:a,o=t.interactedObjectID,s=void 0===o?null:o,c=t.shouldLoadUserProfile,l=void 0!==c&&c,d=t.fetchBy,u=void 0===d?null:d,e.abrupt("return",new Promise((function(e,t){if(!u)return t("Invalid mode.");var r=R.database().ref(gt);switch(u){case ia:if(!n)return t("Invalid call. userID is null.");r=r.orderByChild("userID").equalTo(n);break;case"FETCH_ACTIVITIES_BY_TYPE":if(!i)return t("Invalid call. activityType is null.");r=r.orderByChild("activityType").equalTo(i);break;case"FETCH_ACTIVITIES_BY_INTERACTED_OBJECT":if(!s)return t("Invalid call. interactedObjectID is null.");r=r.orderByChild("interactedObjectID").equalTo(s);break;default:return t("Invalid mode.")}var a=[];r.once("value",(function(r){return r&&r.exists()&&(!r||r.val()&&0!==r.numChildren())?(r.forEach((function(e){a.push(e.val())})),l?void Promise.all(a.map((function(e){return new Promise((function(t,r){ma(e.userID).then((function(r){return e.userProfile=r,t(a)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(a)})).catch((function(e){return t(e)})):e(a)):e(a)})).catch((function(e){return t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sa="Created %project% offer.",ca=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n,a,i,o,s,c,l;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,n=void 0===r?"":r,a=t.message,i=void 0===a?"":a,o=t.userID,s=void 0===o?"":o,c=t.action,l=void 0===c?"":c,e.abrupt("return",new Promise((function(e,t){var r=R.database(),a=r.ref(_t).push().key;r.ref(_t).child(a).set({id:a,title:n,message:i,userID:s,action:l,date:$t()}).then((function(){return e()})).catch((function(e){return t("Failed to send notification.")}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),la=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=[];R.database().ref(ut).orderByChild("anid").equalTo(t).once("value",(function(t){return t&&t.exists()&&(!t||t.val()&&0!==t.numChildren())?(t.forEach((function(e){n.push(e.val())})),e(n)):e(n)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=R.database();n.ref(ut).orderByChild("email").equalTo(t.toLowerCase()).once("value",(function(a){if(a&&a.val()&&a.numChildren()>0){var i=null;return a.forEach((function(e){i=e.val()})),e({userExists:!0,userIsAnAdmin:!0,admin:i})}n.ref(ht).orderByChild("email").equalTo(t.toLowerCase()).once("value",(function(t){if(t&&t.val()&&t.numChildren()>0){var r=null;return t.forEach((function(e){r=e.val()})),e({userExists:!0,userIsAnAdmin:!1,user:r})}return e({userExists:!1})})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ua=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.abrupt("return",new Promise((function(e,n){R.database().ref(xt).orderByChild("officialUserID").equalTo(t).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return e(r);t.forEach((function(e){var t=e.val();t.hasOwnProperty("officialUserID")&&r.push({invitedUser:t,anid:t.invitedBy,userInGroupStatus:t.status})})),Promise.all(r.map((function(e){return new Promise((function(t,r){R.database().ref(dt).child(e.anid).once("value",(function(r){var n=r.val();return e.isInvestWest=n.isInvestWest,e.groupDetails=n,t(e)}))}))}))).then((function(){return e(r)})).catch((function(e){return n(e)}))})).catch((function(e){return n(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(dt).child(t).once("value",(function(t){return t&&t.exists()?e(t.val()):r("Angel network not found")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ha=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(dt).orderByChild("groupUserName").equalTo(t).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return r("No group found.");t.forEach((function(t){return e(t.val())}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ja=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=void 0===n?null:n,i=t.email,void 0===i?null:i,e.abrupt("return",new Promise((function(e,t){if(0!==r&&1!==r)return t("Incorrect mode");var n=[];(0===r?R.database().ref(dt):R.database().ref(dt).orderByChild("displayNameLower").startAt(a.toLowerCase())).once("value",(function(t){return t&&t.exists()&&(!t||t.val()&&0!==t.numChildren())?(t.forEach((function(e){var t=e.val();1===r?t.displayNameLower.includes(a.toLowerCase())&&n.push(e.val()):n.push(e.val())})),e(n)):e(n)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ga=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),n=[],e.abrupt("return",new Promise((function(e,a){r.ref(xt).orderByChild("email").equalTo(t.toLowerCase()).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return e(n);t.forEach((function(e){var t=e.val();n.push({Invitor:t.invitedBy,Invitee:t})})),Promise.all(n.map((function(e){return new Promise((function(t,a){r.ref(dt).child(e.Invitor).once("value",(function(r){var a=r.val();return e.Invitor={anid:a.anid,displayName:a.displayName,logo:a.logo},t(n)}))}))}))).then((function(){return e(n)})).catch((function(e){return a(e)}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){0===t?R.database().ref(ht).child(r).once("value",(function(t){return t&&t.exists()?e(t.val()):n("User not found")})).catch((function(e){return n("User not found")})):1===t&&R.database().ref(ut).child(r).once("value",(function(t){return t&&t.exists()?e(t.val()):n("User not found")})).catch((function(e){return n("User not found")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ma=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){if(!t)return console.warn("Null id provided"),e(null);ba(0,t).then((function(t){return e(t)})).catch((function(r){ba(1,t).then((function(t){if(t.superAdmin)return e(t);pa(t.anid).then((function(r){return t.groupDetails=r,e(t)})).catch((function(t){return console.error("Error loading group details:",t),e(null)}))})).catch((function(r){return console.warn("Admin not found for uid:",t),e(null)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=R.database(),a=n.ref(It).push().key;t.id=a,n.ref(It).child(t.id).set(t).then((function(){return e(a)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oa="LOAD_LIVE_FORUMS",xa="LOAD_DELETED_FORUMS",va=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=[];if(t!==Oa&&t!==xa)return r("Invalid mode.");R.database().ref(It).once("value",(function(a){if(!a||!a.exists()||a&&(!a.val()||0===a.numChildren()))return e(n);a.forEach((function(e){var r=e.val();t===Oa?(!r.hasOwnProperty("deleted")||r.hasOwnProperty("deleted")&&!1===r.deleted)&&n.push(r):r.hasOwnProperty("deleted")&&!0===r.deleted&&n.push(r)})),Promise.all(n.map((function(e){return new Promise((function(t,r){ma(e.author.id).then((function(r){return e.author=r,t(n)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(n)})).catch((function(e){return r(e)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ya=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(It).child(t.id).update(t).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Aa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(It).child(t).child("deleted").set(!0).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ca=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=R.database(),a=n.ref(Et).push().key;t.id=a,n.ref(Et).child(t.id).set(t).then((function(){return e(a)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(Et).child(t.id).update(t).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(Et).child(t).child("deleted").set(!0).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sa="LOAD_LIVE_THREADS",_a=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R.database(),a=[],e.abrupt("return",new Promise((function(e,i){n.ref(Et).orderByChild("forumID").equalTo(r.id).once("value",(function(r){if(!r||!r.exists()||r&&(!r.val()||0===r.numChildren()))return e(a);r.forEach((function(e){var r=e.val();t===Sa?(!r.hasOwnProperty("deleted")||r.hasOwnProperty("deleted")&&!1===r.deleted)&&a.push(r):r.hasOwnProperty("deleted")&&!0===r.deleted&&a.push(r)})),Promise.all(a.map((function(e){return new Promise((function(t,r){ma(e.author.id).then((function(r){return e.author=r,t(a)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(a)})).catch((function(e){return i(e)}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=R.database(),a=n.ref(Dt).push().key;t.id=a,n.ref(Dt).child(t.id).set(t).then((function(){return e(a)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ea=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(Dt).child(t.id).update(t).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Da=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){R.database().ref(Dt).child(t).child("deleted").set(!0).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ta=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),n=[],e.abrupt("return",new Promise((function(e,a){r.ref(Dt).orderByChild("threadID").equalTo(t.id).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return e(n);t.forEach((function(e){var t=e.val();n.push(t)})),Promise.all(n.map((function(e){return new Promise((function(t,r){ma(e.author.id).then((function(r){return e.author=r,t(n)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(n)})).catch((function(e){return a(e)}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ka=function(){var e=Object(Xt.a)(Kt.a.mark((function e(){var t;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R.database(),e.abrupt("return",new Promise((function(e,r){t.ref(pt).once("value",(function(t){var r=t.val();return e(r)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Na=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),e.abrupt("return",new Promise((function(e,n){var a=[];(t?r.ref(xt).orderByChild("invitedBy").equalTo(t):r.ref(xt)).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return e(a);t.forEach((function(e){var t=e.val();a.push(t)})),Promise.all(a.map((function(e){return new Promise((function(t,r){pa(e.invitedBy).then((function(r){if(e.Invitor={anid:r.anid,displayName:r.displayName,logo:r.logo},!e.hasOwnProperty("officialUserID"))return t(a);ma(e.officialUserID).then((function(r){return e.officialUser=r,t(a)}))}))}))}))).then((function(){return e(a)})).catch((function(e){return n(e)}))})).catch((function(e){return n({error:"No users"})}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n,a,i;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userID,n=void 0===r?null:r,a=t.anid,i=void 0===a?null:a,e.abrupt("return",new Promise((function(e,t){var r=R.database().ref(mt);if(n&&i)return t("userID and anid cannot be defined at the same time");if(n&&(r=r.orderByChild("userID").equalTo(n)),i&&(r=r.orderByChild("groupToJoin").equalTo(i)),!r)return t("Error happened");var a=[];r.once("value",(function(r){if(!r||!r.exists()||r&&(!r.val()||0===r.numChildren()))return e(a);r.forEach((function(e){a.push(e.val())})),Promise.all(a.map((function(e){return new Promise((function(t,r){ma(e.userID).then((function(n){e.userProfile=n,pa(e.groupToJoin).then((function(r){return e.group=r,t(a)})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))}))}))).then((function(){return e(a)})).catch((function(e){return t(e)}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ua=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R.database(),e.abrupt("return",new Promise((function(e,a){var i=[];if(1!==r&&2!==r&&3!==r)return a("Incorrect mode");n.ref(xt).orderByChild(1===r?"id":2===r?"officialUserID":"email").equalTo(t).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return a("No invited users found.");t.forEach((function(e){var t=e.val();i.push(t)})),Promise.all(i.map((function(e){return new Promise((function(t,r){n.ref(dt).child(e.invitedBy).once("value",(function(r){var n=r.val();return e.Invitor={anid:n.anid,displayName:n.displayName,logo:n.logo},t(i)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(i)})).catch((function(e){return a(e)}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),La=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),e.abrupt("return",new Promise((function(e,n){r.ref(jt).child(t).once("value",(function(r){if(!r||!r.exists()||!r.val())return n("No project found.");var a=r.val();pa(a.anid).then((function(r){a.group=r,ma(a.issuerID).then((function(r){if(a.issuer=r,1===a.status)return e(a);Qa(t,null,Wa).then((function(t){return a.pledges=t,e(a)})).catch((function(e){return n(e)}))})).catch((function(e){return n("Couldn't load project issuer")}))})).catch((function(e){return n("Couldn't load group")}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ba=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=!1;2===r.issuer.type&&(a=!0),r.issuer=null,r.pledges=null,r.group=null;var i=JSON.parse(JSON.stringify(r));r.temporarilyClosed=!r.hasOwnProperty("temporarilyClosed")||!r.temporarilyClosed,R.database().ref(jt).child(r.id).update(r).then((function(){var e=!0===r.temporarilyClosed?"Closed %project% temporarily.":"Opened %project% again.";aa({userID:t.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:r.id,activitySummary:e.replace("%project%",r.projectName),action:Wn.replace(":projectID",r.id),value:{before:i,after:r}}),a&&ca({title:r.temporarilyClosed?"".concat(r.projectName," has been closed temporarily"):"".concat(r.projectName," has been opened again"),message:r.temporarilyClosed?"This investment opportunity has been closed temporarily by your group admin. We will notify you when it is opened again.":"This investment opportunity has been opened again. The investors can now interact with it.",userID:r.issuerID,action:Wn.replace(":projectID",r.id)}).then((function(){})).catch((function(e){})),Ha(r.id,null,Va).then((function(e){var t=[];e.forEach((function(e){t.push(e.investorID)})),Qa(r.id,null,Wa).then((function(e){e.forEach((function(e){-1===t.findIndex((function(t){return t===e.investorID}))&&t.push(e.investorID)}));var n=[];t.forEach((function(e){var t={title:r.temporarilyClosed?"".concat(r.projectName," has been closed temporarily"):"".concat(r.projectName," has been opened again"),message:r.temporarilyClosed?"This investment opportunity has been closed temporarily by the group admin. We will notify you when it is opened again.":"This investment opportunity has been opened again. You can now interact with it as usual.",userID:e,action:Wn.replace(":projectID",r.id)};n.push(t)})),Promise.all(n.map((function(e){return new Promise((function(t,r){ca(e).then((function(){return t()})).catch((function(e){return r(e)}))}))}))).then((function(){})).catch((function(e){}))}))}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Xt.a)(Kt.a.mark((function e(a,i){var o,s;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=JSON.parse(JSON.stringify(r))).issuer=null,o.pledges=null,o.group=null,n.decision?(r.visibility=-1===n.projectVisibilitySetting?r.visibility:n.projectVisibilitySetting,r.status=1):(r.status=-1,r.Pitch.status=3),r.issuer=null,r.pledges=null,r.group=null,e.prev=8,e.next=11,R.database().ref(jt).child(r.id).update(r);case 11:return s=n.decision?"Published %project% pitch.":"Rejected %project% pitch.",e.next=14,(new na).request("post",ta.sendEmailRoute,{queryParameters:null,requestBody:{emailType:2,emailInfo:{projectID:r.id}}});case 14:return aa({userID:t.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:r.id,activitySummary:s.replace("%project%",r.projectName),action:Wn.replace(":projectID",r.id),value:{before:o,after:r}}),e.next=17,ca({title:r.projectName,message:n.decision?"Congratulations! Your offer has been published.":"Unfortunately your offer has been rejected. Contact your group's administrator for further information.",userID:r.issuerID,action:Wn.replace(":projectID",r.id)});case 17:return e.abrupt("return",a());case 20:return e.prev=20,e.t0=e.catch(8),e.abrupt("return",i(e.t0));case 23:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n){var a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=JSON.parse(JSON.stringify(r))).issuer=null,a.pledges=null,a.group=null,n?r.Pitch.status=4:(r.status=6,r.Pitch.status=3),r.issuer=null,r.pledges=null,r.group=null,e.abrupt("return",new Promise((function(e,i){R.database().ref(jt).child(r.id).update(r).then((function(){var o=n?"Moved %project% to pledge phase.":"Closed %project% pitch.";aa({userID:t.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:r.id,activitySummary:o.replace("%project%",r.projectName),action:Wn.replace(":projectID",r.id),value:{before:a,after:r}}),ca({title:r.projectName,message:n?"Congratulations! Your investment opportunity has moved to the pledge phase. You can now create your pledge page. Your pledge page will be checked by the group admin before publication.":"Unfortunately your investment opportunity has been rejected. Contact your group's administrator for further information.",userID:r.issuerID,action:Wn.replace(":projectID",r.id)}).then((function(){return e()})).catch((function(e){return i(e)}))})).catch((function(e){return i("Process failed")}))})));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ma=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n){var a,i;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=JSON.parse(JSON.stringify(r))).issuer=null,a.pledges=null,a.group=null,n.decision?(r.visibility=-1===n.projectVisibilitySetting?r.visibility:n.projectVisibilitySetting,r.status=4):(r.status=6,r.PrimaryOffer.status=3),r.issuer=null,r.pledges=null,r.group=null,i=R.database(),e.abrupt("return",new Promise((function(e,o){i.ref(jt).child(r.id).update(r).then((function(){var i=n.decision?"Published %project% pledge.":"Rejected %project% pledge.";aa({userID:t.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:r.id,activitySummary:i.replace("%project%",r.projectName),action:Wn.replace(":projectID",r.id),value:{before:a,after:r}}),ca({title:r.projectName,message:n.decision?"Congratulations! Your investment opportunity has been published. Investors can now pledge.":"Unfortunately your investment opportunity has been rejected. Contact your group's admin for further information.",userID:r.issuerID,action:Wn.replace(":projectID",r.id)}).then((function(){return e()})).catch((function(e){return o(e)}))})).catch((function(e){return o("Process failed")}))})));case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),qa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),n=[],e.abrupt("return",new Promise((function(e,a){r.ref(At).orderByChild("projectID").equalTo(t).once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return e(n);t.forEach((function(e){var t=e.val();n.push(t)})),Promise.all(n.map((function(e){return new Promise((function(t,r){ma(e.commentedBy).then((function(r){return e.author=r,t(n)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(n)})).catch((function(e){return a(e)}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wa=1,Qa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(){var t,r,n,a=arguments;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,r=a.length>1&&void 0!==a[1]?a[1]:null,n=a.length>2?a[2]:void 0,e.abrupt("return",new Promise((function(e,a){var i=R.database().ref(Pt);if(t&&n===Wa)i=i.orderByChild("projectID").equalTo(t);else{if(!r||2!==n)return a("Invalid mode");i=i.orderByChild("investorID").equalTo(r)}var o=[];i.once("value",(function(t){if(!t||!t.exists()||t&&(!t.val()||0===t.numChildren()))return e(o);t.forEach((function(e){var t=e.val();""!==t.amount&&o.push(t)})),Promise.all(o.map((function(e){return new Promise((function(t,r){ma(e.investorID).then((function(r){return e.investor=r,t(o)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(o)})).catch((function(e){return a(e)}))}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Va=1,Ha=function(){var e=Object(Xt.a)(Kt.a.mark((function e(){var t,r,n,a,i,o,s=arguments;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:null,r=s.length>1&&void 0!==s[1]?s[1]:null,n=s.length>2?s[2]:void 0,a=R.database(),i=a.ref(wt),!t||n!==Va){e.next=9;break}i=i.orderByChild("projectID").equalTo(t),e.next=14;break;case 9:if(!r||2!==n){e.next=13;break}i=i.orderByChild("investorID").equalTo(r),e.next=14;break;case 13:return e.abrupt("return",null);case 14:return o=[],e.abrupt("return",new Promise((function(e,t){i.once("value",(function(r){if(!r||!r.exists()||r&&(!r.val()||0===r.numChildren()))return e(o);r.forEach((function(e){var t=e.val();""!==t.voted&&o.push(t)})),Promise.all(o.map((function(e){return new Promise((function(t,r){ma(e.investorID).then((function(r){return e.investor=r,t(o)})).catch((function(e){return r(e)}))}))}))).then((function(){return e(o)})).catch((function(e){return t(e)}))}))})));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ja=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),n=[],e.abrupt("return",new Promise((function(e,a){r.ref(_t).orderByChild("userID").equalTo(t).once("value",(function(t){return t&&t.exists()&&(!t||t.val()&&0!==t.numChildren())?(t.forEach((function(e){var t=e.val();n.push(t)})),e(n)):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),za=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.database(),e.abrupt("return",new Promise((function(e,n){Ja(t).then((function(t){Promise.all(t.map((function(e){return new Promise((function(t,n){r.ref(_t).child(e.id).remove().then((function(){return t()})).catch((function(e){return n(e)}))}))}))).then((function(){return e()})).catch((function(e){return n(e)}))})).catch((function(e){return n(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ya=function(e){return new Promise((function(t,r){var n=R.database(),a=e?n.ref(Ot).orderByChild("userID").equalTo(e):n.ref(Ot),i=[];a.once("value",(function(e){if(!e||!e.exists()||e&&(!e.val()||0===e.numChildren()))return t(i);e.forEach((function(e){var t=e.val();i.push(t)})),Promise.all(i.map((function(e){return new Promise((function(t,r){ma(e.userID).then((function(r){return e.user=r,t(i)})).catch((function(e){return r(e)}))}))}))).then((function(){return t(i)})).catch((function(e){return r(e)}))}))}))},Ka=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n,a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userID,n=t.field,a=t.value,e.abrupt("return",new Promise((function(e,t){Ya(r).then((function(i){if(0===i.length){var o=R.database().ref(Ot).push().key,s={accepted:!0,date:$t(),id:o,userID:r,settings:{field:a}};R.database().ref(Ot).child(o).set(s).then((function(){return e()})).catch((function(e){return t(e)}))}else R.database().ref(Ot).child(i[0].id).child("settings").child(n).set(a).then((function(){return e()})).catch((function(e){return t(e)}))})).catch((function(e){return t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n,a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.anid,n=t.field,a=t.value,e.abrupt("return",new Promise((function(e,t){R.database().ref(dt).child(r).child("settings").child(n).set(a).then((function(){return e()})).catch((function(e){return t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.project,n=t.newPitchExpiryDate,e.abrupt("return",new Promise(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,a){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.Pitch.status=1,r.status=1,r.Pitch.expiredDate=n,e.prev=3,e.next=6,R.database().ref(jt).child(r.id).update(r);case 6:return e.abrupt("return",t());case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$a="CHANGE_PASSWORD_TEXT_CHANGED",ei="RESET_CHANGE_PASSWORD",ti="RE_AUTHENTICATING_USER",ri="ERROR_CHANGING_PASSWORD",ni=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){return r.newPassword!==r.newPasswordVerified?n(si):1===ar(r.newPassword)?n(ci):void R.auth().signInWithEmailAndPassword(t,r.currentPassword).then((function(t){R.auth().currentUser.updatePassword(r.newPassword).then((function(){return e(ai)})).catch((function(e){return n(ii)}))})).catch((function(e){return n(oi)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ai=2,ii=3,oi=4,si=5,ci=6,li=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.currentPassword,r=e.newPassword,n=e.newPasswordVerified,a=e.passwordChangeResponseCode,i=e.handleTextChanged,o=e.reset,s=e.requestChangePassword;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{padding:24},children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{align:"left",variant:"h6",color:"primary",children:"Update your password"}),Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"textSecondary",style:{marginTop:10,marginBottom:18},children:"Update your password regularly to protect your account better. Password must contain at least 8 characters."}),Object(V.jsx)(Yr.a,{label:"Current password",name:"currentPassword",value:t,type:"password",margin:"normal",variant:"outlined",onChange:i}),Object(V.jsx)(Yr.a,{label:"New password",name:"newPassword",value:r,type:"password",margin:"normal",variant:"outlined",error:a===si,onChange:i}),Object(V.jsx)(Yr.a,{label:"Verify password",name:"newPasswordVerified",value:n,type:"password",margin:"normal",variant:"outlined",error:a===si,onChange:i}),Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:8,style:{marginTop:20},children:Object(V.jsx)(di,{responseCode:a,onCloseMessage:o})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,style:{marginTop:20},children:Object(V.jsxs)(x.a,{hAlignContent:"right",width:"100%",children:[Object(V.jsx)(x.a,{marginRight:20,children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",onClick:o,children:"Cancel"})}),Object(V.jsx)(x.a,{children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:s,disabled:0===t.length||0===r.length||0===n.length,children:"Save"})})]})})]})]})})})})}}]),r}(n.Component),di=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onCloseMessage=function(){e.props.onCloseMessage()},e.renderMessage=function(){switch(e.props.responseCode){case 1:return{message:"Re-authenticating ...",color:fe};case ii:return{message:"Failed to change password",color:me};case ai:return{message:"Password changed successfully",color:fe};case oi:return{message:"Failed to re-authenticate",color:me};case si:return{message:"New passwords not match with each other",color:me};case ci:return{message:"Password must have at least 8 characters",color:me};default:return null}},e}return Object(c.a)(r,[{key:"render",value:function(){return 0===this.props.responseCode?null:Object(V.jsxs)(x.a,{grow:1,style:{backgroundColor:this.renderMessage().color},vAlignContent:"center",children:[Object(V.jsx)(x.a,{className:Object(v.b)(pi.changing_password_text_background),children:Object(V.jsx)(A.a,{align:"left",variant:"subtitle1",color:"inherit",children:this.renderMessage().message})}),Object(V.jsx)(x.a,{grow:!0,vAlignContent:"center",hAlignContent:"right",style:{padding:4},children:Object(V.jsx)(C.a,{onClick:this.onCloseMessage,children:Object(V.jsx)(ie.a,{fontSize:"small",style:{color:be}})})})]})}}]),r}(n.Component),ui=Object(q.b)((function(e){return{currentPassword:e.changePassword.currentPassword,newPassword:e.changePassword.newPassword,newPasswordVerified:e.changePassword.newPasswordVerified,passwordChangeResponseCode:e.changePassword.passwordChangeResponseCode}}),(function(e){return{handleTextChanged:function(t){return e(function(e){return{type:$a,name:e.target.name,value:e.target.value}}(t))},reset:function(){return e({type:ei})},requestChangePassword:function(){return e((function(e,t){e({type:ti});var r={currentPassword:t().changePassword.currentPassword,newPassword:t().changePassword.newPassword,newPasswordVerified:t().changePassword.newPasswordVerified},n=t().auth.user;ni(n.email,r).then((function(t){e({type:ei,responseCode:t}),aa({userID:R.auth().currentUser.uid,activityType:4,activitySummary:"Changed password."})})).catch((function(t){e({type:ri,errorCode:t})}))}))}}}))(li),pi=v.a.create({changing_password_text_background:{color:be,marginLeft:15,marginTop:10,marginBottom:10}}),hi=r(755),ji=r(717),gi=r(719),bi=r(756),mi=r(757),fi=r(394),Oi=r.n(fi),xi=r(396),vi=r.n(xi),yi=r(397),Ai=r.n(yi),Ci=r(202),Pi=r.n(Ci),wi=r(400),Si=r.n(wi),_i=r(399),Ii=r.n(_i),Ei=r(395),Di=r.n(Ei),Ti=r(261),ki=r.n(Ti),Ni=r(120),Ri=r.n(Ni),Ui=r(398),Li=r.n(Ui),Bi=r(21),Fi=r(108),Gi=r(712),Mi=r(754),qi=r(201),Wi=r.n(qi),Qi=r(200),Vi=r.n(Qi),Hi=r(28),Ji=r.n(Hi),zi=r(260),Yi=r.n(zi),Ki="SET_GROUP_USER_NAME_FROM_PARAMS",Xi=function(e){return function(t,r){r().manageGroupFromParams.groupUserName!==e&&t({type:Ki,groupUserName:e})}},Zi="SET_EXPECTED_AND_CURRENT_PATHS_FOR_CHECKING",$i=function(e,t){return{type:Zi,expectedPath:e,currentPath:t}},eo="LOADING_ANGEL_NETWORK",to="ANGEL_NETWORK_LOADED",ro=function(){return function(e,t){return new Promise((function(r,n){var a=t().manageGroupFromParams,i=a.groupUserName,o=a.groupProperties,s=a.groupPropertiesLoaded,c=a.angelNetworkBeingLoaded,l=a.expectedPath,d=a.currentPath,u=R.auth().currentUser;if(!o&&!s&&!c){if(e({type:eo}),l!==d)return e({type:to,angelNetwork:null,shouldLoadOtherData:!1}),void r();if(!i)return u?void ma(u.uid).then((function(t){3===t.type&&t.superAdmin?e({type:to,angelNetwork:null,shouldLoadOtherData:!0}):e({type:to,angelNetwork:null,shouldLoadOtherData:!1}),r()})).catch((function(t){console.error("Error loading user:",t),e({type:to,angelNetwork:null,shouldLoadOtherData:!1}),n(t)})):(e({type:to,angelNetwork:null,shouldLoadOtherData:!0}),void r());if(o){if(i===o.groupUserName)return e({type:to,angelNetwork:o,shouldLoadOtherData:!0}),void r();e({type:Ki,groupUserName:i}),e({type:eo})}ha(i).then((function(t){e({type:to,angelNetwork:t,shouldLoadOtherData:!0}),r()})).catch((function(t){console.error("Error loading angel network:",t),e({type:to,angelNetwork:null,shouldLoadOtherData:!1}),n(t)}))}}))}},no=null,ao="ANGEL_NETWORK_PROPERTIES_CHANGED",io=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.groupUserName,n=e.groupProperties,a=e.user,i=e.authStatus;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0,backgroundColor:be},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:{span:12,order:2},md:{span:4,order:1},lg:{span:4,order:1},children:n?Object(V.jsx)(x.a,{vAlignContent:"center",height:"100%",marginLeft:10,children:a&&i===co?Object(V.jsx)(m.b,{className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),to:3===a.type?"".concat(t?wn.replace(":groupUserName",t):Sn,"?tab=Home"):2===a.type?"".concat(t?_n.replace(":groupUserName",t):In,"?tab=Home"):"".concat(t?En.replace(":groupUserName",t):Dn,"?tab=Home"),children:Object(V.jsxs)(A.a,{variant:"body1",className:Object(v.b)(so.navigation_text),children:[Object(V.jsx)(Yi.a,{style:{marginBottom:6,marginRight:5}}),"My dashboard"]})}):Object(V.jsx)(m.b,{to:t?Cn.replace(":groupUserName",t):"/",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsxs)(A.a,{variant:"body1",className:Object(v.b)(so.navigation_text),children:[Object(V.jsx)(Yi.a,{style:{marginBottom:6,marginRight:5}}),"Home"]})})}):null}),Object(V.jsx)(E.a,{xs:{span:12,order:1},md:{span:4,order:2},lg:{span:4,order:1},children:Object(V.jsx)(x.a,{style:{padding:8},column:!0,height:"100%",widht:"100%",hAlignContent:"center",vAlignContent:"center",children:n?Object(V.jsx)(m.b,{className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),to:t?Cn.replace(":groupUserName",t):"/",children:Object(V.jsxs)(x.a,{hAlignContent:"center",column:!0,className:Object(v.b)(so.logo_field),children:[Object(V.jsx)("img",{className:Object(v.b)(so.logo),alt:"logo",src:n?pr(1,n):r(114).default}),Object(V.jsx)(A.a,{variant:"body1",color:"primary",children:n?n.displayName:"Invest West"})]})}):Object(V.jsx)("a",{href:"https://investwest.online",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsxs)(x.a,{hAlignContent:"center",column:!0,className:Object(v.b)(so.logo_field),children:[Object(V.jsx)("img",{className:Object(v.b)(so.logo),alt:"logo",src:n?pr(1,n):r(114).default}),Object(V.jsx)(A.a,{variant:"body1",color:"primary",children:n?n.displayName:"Invest West"})]})})})}),Object(V.jsx)(E.a,{xs:{span:12,order:3},md:{span:12,order:3},lg:{span:12,order:3},children:Object(V.jsx)(x.a,{height:1,style:{backgroundColor:ye}})})]})})}}]),n}(n.Component),oo=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,user:e.auth.user,authStatus:e.auth.authStatus}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))}}}))(io),so=v.a.create({logo:{width:"auto",height:38,marginBottom:2},logo_field:{":hover":{cursor:"pointer"}},navigation_text:{margin:15,padding:8,color:ge,":hover":{cursor:"pointer",backgroundColor:xe}}}),co=5,lo=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).handleTextChanged=function(e){var t=e.target.name,r=e.target.value;"resetEmail"===t?n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},Object(Bi.a)({},t,r))}):n.setState(Object(Bi.a)({},t,r))},n.handleSignin=function(e){e.preventDefault();var t=n.state.email.trim().toLowerCase(),r=n.state.password;n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},{resetEmailSent:!1})}),t.length>0&&r.length>0?(n.setState({authStatus:!1,error:{email:!1,password:!1}}),n.props.signin(t,r)):0===t.length&&0===r.length?n.setState({authStatus:!1,error:{email:!0,password:!0}}):0===t.length&&r.length>0?n.setState({authStatus:!1,error:{email:!0,password:!1}}):0===r.length&&t.length>0&&n.setState({authStatus:!1,error:{email:!1,password:!0}})},n.openResetPasswordDialog=function(){n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},{resetPasswordDialogOpen:!0,resetEmailSent:!1})})},n.handleCloseResetPasswordDialog=function(){n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},{resetPasswordDialogOpen:!1,resetEmail:"",resetChecking:!1,resetError:!1})})},n.handleSendResetEmail=function(){var e=n.state.resetPassword.resetEmail;n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},{resetChecking:!0})}),R.auth().sendPasswordResetEmail(e).then((function(){n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},{resetEmailSent:!0})}),n.handleCloseResetPasswordDialog()})).catch((function(e){n.setState({resetPassword:Object(b.a)(Object(b.a)({},n.state.resetPassword),{},{resetChecking:!1,resetError:!0})})}))},n.handleClickShowPassword=function(){n.setState({showPassword:!n.state.showPassword})},n.renderAuthStatus=function(){var e=n.props,t=e.groupProperties,r=e.authenticating,a=e.authStatus;if(n.state.resetPassword.resetEmailSent)return Object(V.jsx)(x.a,{width:"100%",className:Object(v.b)(po.reset_email_sent),marginBottom:20,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:"An email with password reset instructions has been sent to your email address"})});if(r)return Object(V.jsx)(x.a,{hAlignContent:"center",marginBottom:20,children:Object(V.jsx)(Ji.a,{color:t?t.settings.primaryColor:et})});var i="";switch(a){case 0:case co:return null;case 1:i="Email or password is invalid, or you are not a member of this group.";break;case 2:i="You decided not to join this group.";break;case 3:i="You have left this group.";break;case 4:i="Unfortunately, you are no longer a member of this group.";break;default:return null}return Object(V.jsx)(x.a,{className:Object(v.b)(po.auth_error),marginBottom:20,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:i})})},n.firebaseAuth=R.auth(),n.firebaseDB=R.database(),n.state={email:"",password:"",showPassword:!1,error:{email:!1,password:!1},resetPassword:{resetPasswordDialogOpen:!1,resetEmail:"",resetChecking:!1,resetError:!1,resetEmailSent:!1}},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.resetAuthStatus,a=e.setGroupUserNameFromParams,i=e.setExpectedAndCurrentPathsForChecking,o=e.loadAngelNetwork,s=this.props.match;a(s.params.hasOwnProperty("groupUserName")?s.params.groupUserName:null),i(s.params.hasOwnProperty("groupUserName")?Pn:"/signin",s.path),o(),t&&r&&n()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.groupUserName,s=n.authenticating,c=n.user,l=n.authStatus;if((0,n.loadAngelNetwork)(),a&&i&&!s&&l===co)switch(c.type){case 3:return void this.props.history.push({pathname:o?wn.replace(":groupUserName",o):Sn,search:"?tab=Home"});case 1:return void this.props.history.push({pathname:o?En.replace(":groupUserName",o):Dn,search:"?tab=Home"});case 2:return void this.props.history.push({pathname:o?_n.replace(":groupUserName",o):In,search:"?tab=Home"});default:return}}},{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.groupPropertiesLoaded,n=e.shouldLoadOtherData;return r?n?Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0,position:"fixed",top:0,height:"100%",overflow:"auto",backgroundColor:ve},children:[Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(oo,{}),Object(V.jsx)(E.a,{xs:{span:12,offset:0},md:{span:6,offset:3},lg:{span:6,offset:3},style:{padding:20},children:Object(V.jsx)(x.a,{column:!0,marginTop:80,marginBottom:40,hAlignContent:"center",vAlignContent:"center",children:Object(V.jsx)(Fi.a,{elevation:0,square:!0,className:Object(v.b)(ot.kick_starter_border_box),style:{padding:30},children:Object(V.jsx)("form",{onSubmit:this.handleSignin,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,hAlignContent:"center",marginBottom:35,children:[Object(V.jsx)(A.a,{variant:"h4",align:"center",paragraph:!0,color:"primary",children:"Sign in to your account"}),Object(V.jsx)(A.a,{variant:"body1",align:"center",children:"Connecting businesses and investors across the South West of England"})]}),this.renderAuthStatus(),Object(V.jsx)(Gi.a,{children:Object(V.jsx)(Yr.a,{label:"Email address",name:"email",margin:"normal",variant:"outlined",error:this.state.error.email,onChange:this.handleTextChanged})}),Object(V.jsx)(Gi.a,{children:Object(V.jsx)(Yr.a,{label:"Password",name:"password",type:this.state.showPassword?"text":"password",margin:"normal",variant:"outlined",error:this.state.error.password,onChange:this.handleTextChanged,InputProps:{endAdornment:Object(V.jsx)(Mi.a,{position:"end",children:Object(V.jsx)(C.a,{edge:"end","aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword,children:this.state.showPassword?Object(V.jsx)(Wi.a,{}):Object(V.jsx)(Vi.a,{})})})}})}),Object(V.jsx)(x.a,{marginTop:35,marginBottom:45,children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["By clicking Sign In, you agree to our",Object(V.jsx)(m.b,{to:Kn,target:"_blank",className:Object(v.b)(ot.nav_link_hover),style:{color:t?t.settings.primaryColor:et},children:Object(V.jsx)("b",{children:" \xa0Terms of use\xa0 "})}),"and our",Object(V.jsx)(m.b,{to:Xn,target:"_blank",className:Object(v.b)(ot.nav_link_hover),style:{color:t?t.settings.primaryColor:et},children:Object(V.jsx)("b",{children:" \xa0Privacy policy. "})})]})}),Object(V.jsx)(Gi.a,{children:Object(V.jsx)(G.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:Object(v.b)(ot.no_text_transform),children:"Sign in"})}),Object(V.jsx)(x.a,{hAlignContent:"center",marginTop:25,onClick:this.openResetPasswordDialog,children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",className:Object(v.b)(ot.nav_link_hover),children:"Forgot your password?"})})]})})})})})]}),Object(V.jsx)(uo,{groupProperties:t,open:this.state.resetPassword.resetPasswordDialogOpen,onClose:this.handleCloseResetPasswordDialog,onTextChanged:this.handleTextChanged,resetEmail:this.state.resetPassword.resetEmail,onSendEmailClick:this.handleSendResetEmail,resetChecking:this.state.resetPassword.resetChecking,resetError:this.state.resetPassword.resetError})]}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),r}(n.Component),uo=(Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,user:e.auth.user,userLoaded:e.auth.userLoaded,authenticating:e.auth.authenticating,authStatus:e.auth.authStatus}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},resetAuthStatus:function(){return e(go())},signin:function(t,r){return e(Oo(t,r))}}}))(lo),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleClose=function(){e.props.onClose()},e.onTextChanged=function(t){e.props.onTextChanged(t)},e.onSendEmailClick=function(){e.props.onSendEmailClick()},e.renderReset=function(){var t=e.props,r=t.groupProperties,n=t.resetChecking,a=t.resetError;return n?Object(V.jsx)(x.a,{hAlignContent:"center",marginBottom:30,children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})}):a?Object(V.jsx)(x.a,{style:{backgroundColor:me},vAlignContent:"center",marginBottom:30,children:Object(V.jsx)(A.a,{variant:"body1",className:Object(v.b)(po.reset_email_error_text),children:"Unable to send request password email"})}):null},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=(e.groupProperties,e.resetEmail),r=(e.resetError,e.resetChecking,e.onClose,e.onTextChanged,e.onSendEmailClick,Object(X.a)(e,["groupProperties","resetEmail","resetError","resetChecking","onClose","onTextChanged","onSendEmailClick"]));return Object(V.jsxs)(U.a,Object(b.a)(Object(b.a)({fullWidth:!0,maxWidth:"sm",onClose:this.handleClose},r),{},{children:[Object(V.jsx)(L.a,{children:Object(V.jsx)(x.a,{hAlignContent:"center",marginTop:20,children:Object(V.jsx)(A.a,{variant:"h4",align:"center",paragraph:!0,children:"Reset Your Password"})})}),Object(V.jsxs)(x.a,{column:!0,hAlignContent:"center",children:[Object(V.jsxs)(x.a,{column:!0,marginRight:60,marginLeft:60,children:[Object(V.jsx)(A.a,{variant:"body1",align:"center",paragraph:!0,children:"Please provide the email address you used when you signed up for your Invest West account."}),Object(V.jsxs)(A.a,{variant:"body1",align:"center",paragraph:!0,children:["We will send you an email with a link to reset your password. ",Object(V.jsx)("b",{children:"Please note that this link will only be valid for up to 3 hours."})]})]}),Object(V.jsxs)(x.a,{column:!0,width:"100%",marginTop:50,className:Object(v.b)(po.reset_password_actions_layout),children:[this.renderReset(),Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:7,lg:9,children:Object(V.jsx)(x.a,{height:"100%",vAlignContent:"center",children:Object(V.jsx)(Yr.a,{name:"resetEmail",value:t,label:"Email address",variant:"outlined",fullWidth:!0,onChange:this.onTextChanged})})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:5,lg:3,children:Object(V.jsx)(x.a,{height:"100%",vAlignContent:"center",children:Object(V.jsx)(G.a,{fullWidth:!0,color:"primary",variant:"contained",size:"medium",onClick:this.onSendEmailClick,className:Object(v.b)(ot.no_text_transform),children:"Send"})})})]})})]})]})]}))}}]),r}(n.Component)),po=v.a.create({no_margin:{margin:0},hover:{":hover":{color:"#424242",cursor:"pointer"}},auth_error:{backgroundColor:me,color:be,padding:15},reset_email_sent:{backgroundColor:fe,color:be,padding:15},reset_password_actions_layout:{paddingLeft:30,paddingRight:30,paddingTop:42,paddingBottom:42,backgroundColor:ve},reset_email_error_text:{color:be,marginLeft:15,marginTop:15,marginBottom:15}}),ho="INITIALIZE_AUTH_STATE",jo="RESET_AUTH_STATUS",go=function(){return{type:jo}},bo="SIGNING_IN",mo="AUTHENTICATING",fo="FINISHED_AUTHENTICATING",Oo=function(e,t){return function(r,n){Co(r),r({type:bo}),r({type:mo}),R.auth().signInWithEmailAndPassword(e,t).catch((function(e){r({type:fo,authStatus:1,error:e})}))}},xo="TOGGLE_PREVENT_VALIDATING_USER_WHEN_SIGNING_UP",vo="USER_PROFILE_LOADED",yo="AUTH_LOADING_GROUPS_USER_IS_IN",Ao="AUTH_GROUPS_USER_IS_IN_LOADED",Co=function(e){R.auth().signOut().then((function(){e({type:Po})}))},Po="LOG_OUT",wo=function(){return function(e,t){return e({type:Po})}},So=null,_o=null,Io="CURRENT_USER_PROFILE_HAS_CHANGED",Eo="GROUPS_USER_IS_IN_HAVE_CHANGED",Do="TOGGLE_SIDEBAR",To=function(e){return function(t,r){e?r().MediaQueryState.isLaptop||r().MediaQueryState.isDesktop?t({type:Do,sidebarDocked:!r().dashboardSidebar.sidebarDocked,sidebarOpen:!1}):t({type:Do,sidebarDocked:!1,sidebarOpen:!r().dashboardSidebar.sidebarOpen}):t({type:Do,sidebarOpen:!1})}},ko="LOADING_FORUMS",No="FINISHED_LOADING_FORUMS",Ro="ERROR_LOADING_FORUMS",Uo="GO_BACK_TO_FORUMS_MAIN",Lo="TOGGLE_CREATE_NEW_FORUM",Bo=function(e,t){return{type:Lo,open:e,forumEdited:t}},Fo="ERROR_CREATING_NEW_FORUM",Go="FORUMS_INPUT_CHANGED",Mo=function(e){return function(t,r){var n=e.target.name,a=e.target.value;switch(t({type:Go,name:n,value:a}),n){case"forumsLoadMode":return t({type:ko}),void va(a).then((function(e){t({type:No,forums:e})})).catch((function(e){t({type:No,forums:[],error:e}),t({type:Er,message:"Error happened. Could not load forums.",color:"error",position:"bottom"})}));case"threadsLoadMode":var i=r().manageForums.forumSelected;return t({type:qo,forumSelected:i}),void _a(a,i).then((function(e){t({type:Wo,threads:e})})).catch((function(e){t({type:Wo,threads:[],error:e}),t({type:Er,message:"Error happened. Could not load threads.",color:"error",position:"bottom"})}));default:return}}},qo="LOADING_THREADS_IN_A_FORUM",Wo="FINISHED_LOADING_THREADS_IN_A_FORUM",Qo="GO_BACK_TO_FORUMS_LIST",Vo="TOGGLE_CREATE_NEW_THREAD",Ho=function(e,t){return{type:Vo,open:e,threadEdited:t}},Jo="ERROR_CREATING_NEW_THREAD",zo="LOADING_REPLIES_IN_A_THREAD",Yo="FINISHED_LOADING_REPLIES_IN_A_THREAD",Ko="GO_BACK_TO_THREADS_LIST",Xo="TOGGLE_THREAD_REPLY",Zo=function(e,t){return{type:Xo,open:e,threadReplyEdited:t}},$o="ERROR_CREATING_THREAD_REPLY",es="MANAGE_FORUMS_TABLE_PAGE_CHANGED",ts=function(e,t){return{type:es,newPage:t,table:e}},rs="MANAGE_FORUMS_TABLE_ROWS_PER_PAGE_CHANGED",ns=function(e,t){return{type:rs,value:parseInt(t.target.value,10),table:e}},as="FORUMS_QUILL_CHANGED",is="THREAD_CONTENT_QUILL",os="THREAD_REPLY_CONTENT_QUILL",ss=function(e,t){return 0===t.getText().trim().length?{type:as,quill:{ops:[]},field:e}:{type:as,quill:t.getContents(),field:e}},cs=null,ls=null,ds=null,us="FORUMS_CHANGED",ps=function(){return function(e,t){cs&&(cs.off("child_added"),cs.off("child_changed"),cs.off("child_removed"),cs=null)}},hs="THREADS_CHANGED",js=function(){return function(e,t){ls&&(ls.off("child_added"),ls.off("child_changed"),ls.off("child_removed"),ls=null)}},gs="THREAD_REPLIES_CHANGED",bs=function(){return function(e,t){ds&&(ds.off("child_added"),ds.off("child_changed"),ds.off("child_removed"),ds=null)}};!function(e){e[e.NotInitialized=0]="NotInitialized",e[e.Authenticating=1]="Authenticating",e[e.Authenticated=2]="Authenticated",e[e.Unauthenticated=3]="Unauthenticated"}(ra||(ra={}));var ms,fs={status:ra.NotInitialized,currentUser:null,groupsOfMembership:[]},Os=function(e){return e.status===ra.NotInitialized},xs=function(e){return e.status===ra.Authenticating},vs=function(e){return e.status===ra.Authenticated&&e.currentUser&&void 0===e.error},ys=function(e){return void 0!==e.error},As=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ms.StartAuthenticating:return Object(b.a)(Object(b.a)({},fs),{},{status:ra.Authenticating});case ms.CompleteAuthentication:var r=t;return r.status===ra.Authenticated&&console.log("Successfully logged in!"),Object(b.a)(Object(b.a)({},e),{},{status:r.status,currentUser:r.currentUser?JSON.parse(JSON.stringify(r.currentUser)):e.currentUser,selfCertification:r.selfCertification?JSON.parse(JSON.stringify(r.selfCertification)):e.selfCertification,groupsOfMembership:JSON.parse(JSON.stringify(r.groupsOfMembership)),error:r.error});case ms.SignOut:return Object(b.a)(Object(b.a)({},e),{},{status:e.status===ra.NotInitialized||e.status===ra.Authenticated?ra.Unauthenticated:e.status,currentUser:e.status===ra.NotInitialized||e.status===ra.Authenticated?null:e.currentUser,groupsOfMembership:e.status===ra.NotInitialized||e.status===ra.Authenticated?[]:e.groupsOfMembership,error:e.status===ra.NotInitialized||e.status===ra.Authenticated?void 0:e.error});case ms.UpdateUserChanges:var n=t;return Object(b.a)(Object(b.a)({},e),{},{currentUser:n.updatedUser});default:return e}},Cs=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"getInvestorSelfCertification",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.retrieveInvestorSelfCertificationRoute,{requestBody:null,queryParameters:{userID:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInvestorSelfCertification",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("patch",ta.updateInvestorSelfCertificationRoute,{requestBody:{userID:t,updatedAgreedDate:r},queryParameters:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),Ps=r(413),ws=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"signUp",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("post",ta.createUser,{queryParameters:null,requestBody:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveUser",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.retrieveUser.replace(":uid",t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveInvitedUser",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.retrieveInvitedUser.replace(":invitedUserID",t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("put",ta.updateUser,{queryParameters:null,requestBody:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"listGroupsOfMembership",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.listGroupsOfMembership.replace(":uid",t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.StartAuthenticating="AuthenticationEvents.StartAuthenticating",e.CompleteAuthentication="AuthenticationEvents.CompleteAuthentication",e.SignOut="AuthenticationEvents.SignOut",e.UpdateUserChanges="AuthenticationEvents.UpdateUserChanges"}(ms||(ms={}));var Ss,_s=function(e,t){return function(){var r=Object(Xt.a)(Kt.a.mark((function r(n,a){var i,o,s,c,l,d,u,p,h,j,g,b,m,f,O;return Kt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a(),o=i.ManageGroupUrlState,s=i.AuthenticationState,!xs(s)){r.next=3;break}return r.abrupt("return");case 3:return c={type:ms.CompleteAuthentication,status:ra.Authenticating,currentUser:null,groupsOfMembership:[]},r.prev=4,r.next=7,R.auth().currentUser;case 7:if(!(l=r.sent)){r.next=14;break}if(!vs(s)){r.next=11;break}return r.abrupt("return");case 11:n({type:ms.StartAuthenticating}),r.next=25;break;case 14:if(void 0!==e&&void 0!==t){r.next=18;break}return c.status=ra.Unauthenticated,c.error={detail:"Email and password not provided."},r.abrupt("return",n(c));case 18:return n({type:ms.StartAuthenticating}),r.next=21,R.auth().setPersistence(Ps.a.auth.Auth.Persistence.LOCAL);case 21:return r.next=23,R.auth().signInWithEmailAndPassword(e,t);case 23:d=r.sent,l=d.user;case 25:if(!l){r.next=53;break}return h=l.uid,r.next=29,(new ws).retrieveUser(h);case 29:if(j=r.sent,g=j.data,b=bn(g),m=!0,yn.isSuperAdminSignInRoute(null!==(u=o.routePath)&&void 0!==u?u:"")?b&&b.superAdmin||(m=!1,c.error={detail:"You have no privileges to sign in."}):yn.isSignInRoute(null!==(p=o.routePath)&&void 0!==p?p:"")&&b&&b.superAdmin&&(m=!1,c.error={detail:"Please sign in via your dedicated page."}),m){r.next=39;break}return r.next=37,n(Is());case 37:return c.status=ra.Unauthenticated,r.abrupt("return",n(c));case 39:if(c.currentUser=g,!vn(g)){r.next=45;break}return r.next=43,(new Cs).getInvestorSelfCertification(g.id);case 43:f=r.sent,c.selfCertification=f.data;case 45:return r.next=47,(new ws).listGroupsOfMembership(h);case 47:return O=r.sent,c.groupsOfMembership=O.data,c.status=ra.Authenticated,r.abrupt("return",n(c));case 53:return r.next=55,n(Is());case 55:return c.status=ra.Unauthenticated,c.error={detail:"Invalid credential."},r.abrupt("return",n(c));case 58:r.next=67;break;case 60:return r.prev=60,r.t0=r.catch(4),r.next=64,n(Is());case 64:return c.status=ra.Unauthenticated,c.error={detail:r.t0.toString()},r.abrupt("return",n(c));case 67:case"end":return r.stop()}}),r,null,[[4,60]])})));return function(e,t){return r.apply(this,arguments)}}()},Is=function(){return function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.auth().signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error signing out: ".concat(e.t0.toString()));case 8:return e.abrupt("return",t({type:ms.SignOut}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,r){return e.apply(this,arguments)}}()},Es=r(758),Ds="Home",Ts="Profile",ks="My offers",Ns="Settings",Rs="Change password",Us="Resources",Ls="Explore groups",Bs="Explore offers",Fs="My activities",Gs="Audit Log",Ms=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onLogoutClick=Object(Xt.a)(Kt.a.mark((function t(){var r,n,a,i,o,s;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.dashboardProps,a=r.logout,i=r.ManageGroupUrlState,o=r.AuthenticationState,s=r.signOutNew,t.next=3,s();case 3:n.history.push(yn.constructHomeRoute(n.match.params,i,o)),a();case 5:case"end":return t.stop()}}),t)}))),e.onForumsTabClick=function(){e.props.toggleSidebar(!1),e.props.goBackToForumsMain()},e}return Object(c.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.groupUserName,a=t.groupPropertiesLoaded,i=t.groupProperties,o=t.user,s=t.dashboardProps,c=t.toggleSidebar;return a?Object(V.jsxs)(x.a,{column:!0,width:240,height:"100%",children:[Object(V.jsx)(x.a,{column:!0,height:65,vAlignContent:"center",hAlignContent:"center",style:{padding:8},children:Object(V.jsx)(hi.a,{href:null!==(e=i.website)&&void 0!==e?e:"",target:"_blank",children:Object(V.jsx)(te.a,{style:{width:"auto",height:65,margin:0,padding:10,objectFit:"scale-down"},src:i?pr(1,i):r(114).default})})}),Object(V.jsx)(Z.a,{}),Object(V.jsx)(x.a,{column:!0,marginTop:10,children:Object(V.jsxs)(ji.a,{children:[Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Ds)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Oi.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Ds})]})}),o&&2===o.type?Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(ks)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(ki.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:ks})]})}):null,3!==o.type?null:Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Bs)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(ki.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Bs})]})}),Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Ls)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Di.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Ls})]})}),Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Us)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Es.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Us})]})})]})}),Object(V.jsx)(x.a,{column:!0,height:"100%",vAlignContent:"bottom",children:Object(V.jsxs)(ji.a,{children:[o?3!==o.type?Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Ts)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(vi.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Ts})]})}):Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Ns)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Ai.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Ns})]})}):null,3!==o.type?null:Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(3!==o.type||o.superAdmin?Fs:Gs)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Li.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Gs})]})}),o?Object(V.jsx)(m.b,{to:{pathname:s.match.pathname,search:"?tab=".concat(Rs)},className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Ii.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:Rs})]})}):null,3===o.type?null:Object(V.jsx)(m.b,{to:n?Hn.replace(":groupUserName",n):Jn,className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Pi.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:"Contact us"})]})}),3===o.type&&o.superAdmin?null:Object(V.jsx)(m.b,{to:n?zn.replace(":groupUserName",n):Yn,className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return c(!1)},children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Ri.a,{})}),Object(V.jsx)(mi.a,{className:Object(v.b)(ot.black_text),children:"Help"})]})}),Object(V.jsxs)(gi.a,{button:!0,onClick:this.onLogoutClick,children:[Object(V.jsx)(bi.a,{children:Object(V.jsx)(Si.a,{})}),Object(V.jsx)(mi.a,{children:"Logout"})]})]})})]}):null}}]),n}(n.Component),qs=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,user:e.auth.user}}),(function(e){return{signOutNew:function(){var t=Object(Xt.a)(Kt.a.mark((function t(){return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(Is()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),logout:function(){return e(wo())},toggleSidebar:function(t){return e(To(t))},goBackToForumsMain:function(){return e({type:Uo})}}}))(Ms),Ws=r(728),Qs=r(727),Vs=r(764),Hs=r(720),Js=r(772),zs=r(807),Ys=r(714),Ks=r(773),Xs=r(718),Zs=r(85),$s=r.n(Zs),ec=r(89),tc=r.n(ec),rc=r(802),nc=r(774),ac=r(813),ic=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getBackgroundColor=function(){switch(e.props.firstName[0].toLowerCase()){case"a":return _e;case"b":return Ie;case"c":return Ee;case"d":return De;case"e":return Te;case"f":return ke;case"g":return Ne;case"h":return Re;case"i":return Ue;case"j":return Le;case"k":return Be;case"l":return Fe;case"m":return Ge;case"n":return Me;case"o":return qe;case"p":return We;case"q":return Qe;case"r":return Ve;case"s":return He;case"t":return Je;case"u":return ze;case"v":return Ye;case"w":return Ke;case"x":return Xe;case"y":return Ze;case"z":return $e;default:return}},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.firstName,r=e.lastName,n=e.width,a=e.height,i=e.textVariant;return Object(V.jsx)(ac.a,{style:{color:be,backgroundColor:this.getBackgroundColor(),width:n,height:a},children:Object(V.jsx)(A.a,{variant:i,children:"".concat(t[0].toUpperCase()).concat(r[0].toUpperCase())})})}}]),r}(n.Component),oc=r(759),sc=r(760),cc=r(761),lc=r(762),dc=r(763),uc=r(814),pc=r(401),hc=r.n(pc),jc=r(212),gc=r.n(jc),bc="JSON_COMPARE_CHANGES_DIALOG_SET_DATA",mc="JSON_COMPARE_CHANGES_DIALOG_RESET_DATA",fc=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.dialogOpen,n=e.jsonBefore,a=e.jsonAfter,i=e.resetData,o=e.other;return Object(V.jsxs)(U.a,Object(b.a)(Object(b.a)({ref:t,open:r,fullWidth:!0,maxWidth:"lg",onClose:i},o),{},{children:[Object(V.jsx)(L.a,{children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{grow:4,children:Object(V.jsx)(A.a,{variant:"h5",color:"primary",align:"left",children:"Data changes"})}),Object(V.jsx)(x.a,{grow:1,hAlignContent:"right",children:Object(V.jsx)(C.a,{onClick:i,children:Object(V.jsx)(ie.a,{})})})]})}),Object(V.jsx)(B.a,{style:{marginBottom:25},children:Object(V.jsx)(x.a,{children:Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:JSON.stringify(n)===JSON.stringify(a)?Object(V.jsx)(I.a,{children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:8,offset:2},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"No data changes after this activity"})}),Object(V.jsx)(gc.a,{src:n,theme:"monokai",collapseStringsAfterLength:50,enableClipboard:function(e){navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t"))}})]})})}):Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"Before"})}),Object(V.jsx)(gc.a,{src:n,theme:"monokai",collapseStringsAfterLength:50,enableClipboard:function(e){navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t"))}})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"After"})}),Object(V.jsx)(gc.a,{src:a,theme:"monokai",collapseStringsAfterLength:50,enableClipboard:function(e){navigator.clipboard.writeText(JSON.stringify(e.src,null,"\t"))}})]})})]})})})})]}))}}]),r}(n.Component),Oc=Object(q.b)((function(e){return{dialogOpen:e.manageJSONCompareChangesDialog.dialogOpen,jsonBefore:e.manageJSONCompareChangesDialog.jsonBefore,jsonAfter:e.manageJSONCompareChangesDialog.jsonAfter}}),(function(e){return{resetData:function(){return e({type:mc})}}}))(fc),xc="ACTIVITIES_TABLE_SET_TABLE_USER",vc=function(e){return function(t,r){var n=r().manageActivitiesTable.tableUser;if(e&&n){if(n.hasOwnProperty("id")){if(e.hasOwnProperty("id")&&n.id===e.id)return}else if(e.hasOwnProperty("id"));else if(n.anid===e.anid)return;t({type:xc,user:e})}else t({type:xc,user:e})}},yc="ACTIVITIES_TABLE_LOADING_ACTIVITIES",Ac="ACTIVITIES_TABLE_FINISHED_LOADING_ACTIVITIES",Cc="ACTIVITIES_TABLE_PAGE_CHANGED",Pc="ACTIVITIES_TABLE_ROWS_PER_PAGE_CHANGED",wc=null,Sc="ACTIVITIES_IN_TABLE_CHANGED",_c=function(){return function(e,t){wc&&(wc.off("child_added"),wc=null)}},Ic=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).loadData=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.tableUser,a=t.loadingActivities,i=t.activitiesLoaded,o=t.loadActivities;r&&(!n||a||i||o())},e.addListener=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.activities,a=t.activitiesLoaded,i=t.startListeningForActivitiesChanged;r&&n&&a&&i()},e.renderTableRows=function(){var t=e.props,r=t.groupUserName,n=t.groupProperties,a=t.currentUser,i=t.activities,o=t.activitiesLoaded,s=t.page,c=t.rowsPerPage,l=t.jsonCompareDialog_setData;return 0===i.length?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:3,children:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",style:{margin:20},children:o?Object(V.jsx)(A.a,{variant:"body1",align:"center",children:"No activities."}):Object(V.jsx)(k.HashLoader,{color:n?n.settings.primaryColor:et})})})}):i.slice(s*c,s*c+c).map((function(e){return Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(pe.a,{colSpan:2,children:e.hasOwnProperty("action")?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",children:Object(V.jsxs)(m.b,{to:r?"".concat(An.replace(":groupUserName",r)).concat(e.action):e.action,className:Object(v.b)(ot.nav_link_hover),style:{color:n?n.settings.primaryColor:et},children:[Object(V.jsx)(hc.a,{fontSize:"small",style:{marginRight:6}}),e.activitySummary]})}),e.hasOwnProperty("userProfile")?Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginTop:7},children:Object(V.jsxs)("i",{children:["_ done by ",Object(V.jsx)("b",{children:e.userProfile.email})," _"]})}):null,3!==a.type?null:a.superAdmin&&e.hasOwnProperty("value")?Object(V.jsx)(x.a,{marginTop:10,children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",size:"small",className:Object(v.b)(ot.no_text_transform),onClick:function(){return l(e.value.hasOwnProperty("before")?e.value.before:e.value,e.value.hasOwnProperty("after")?e.value.after:e.value)},children:"View changes"})}):null]}):Object(V.jsx)(A.a,{variant:"body2",align:"left",children:e.activitySummary})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:rr(e.time)})})]},e.id)}))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadData(),this.addListener()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.shouldLoadOtherData,i=n.tableUser,o=n.stopListeningForActivitiesChanged;i&&a?(this.loadData(),this.addListener()):o()}},{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.groupPropertiesLoaded,n=e.currentUser,a=e.tableUser,i=e.activities,o=e.page,s=e.rowsPerPage,c=e.changePage,l=e.changeRowsPerPage;return r&&a&&n?(i.sort((function(e,t){return t.time-e.time})),Object(V.jsxs)("div",{children:[Object(V.jsx)(Fi.a,{elevation:1,style:{overflowX:"auto"},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsx)(cc.a,{children:Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:2,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Event"})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Time"})})]})}),Object(V.jsx)(lc.a,{children:this.renderTableRows()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{style:{backgroundColor:Pe},rowsPerPageOptions:[10,30,50],count:i.length,rowsPerPage:s,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:c,onChangeRowsPerPage:l})})})]})}),Object(V.jsx)(Oc,{})]})):null}}]),r}(n.Component),Ec=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,currentUser:e.auth.user,tableUser:e.manageActivitiesTable.tableUser,activities:e.manageActivitiesTable.activities,activitiesLoaded:e.manageActivitiesTable.activitiesLoaded,loadingActivities:e.manageActivitiesTable.loadingActivities,page:e.manageActivitiesTable.page,rowsPerPage:e.manageActivitiesTable.rowsPerPage}}),(function(e){return{loadActivities:function(){return e((function(e,t){var r=t().manageActivitiesTable.tableUser,n=t().auth.user;r&&n&&(3===n.type||r.hasOwnProperty("id")&&n.id===r.id)?(e({type:yc}),r.hasOwnProperty("id")?oa({userID:r.id,fetchBy:ia}).then((function(t){e({type:Ac,activities:Object(gn.a)(t)})})).catch((function(t){e({type:Ac,activities:[]})})):la(r.anid).then((function(t){var r=[];Promise.all(t.map((function(e){return new Promise((function(t,n){oa({userID:e.id,shouldLoadUserProfile:!0,fetchBy:ia}).then((function(e){return r=[].concat(Object(gn.a)(r),Object(gn.a)(e)),t(r)})).catch((function(e){return n(e)}))}))}))).then((function(){e({type:Ac,activities:Object(gn.a)(r)})})).catch((function(t){e({type:Ac,activities:[]})}))})).catch((function(t){e({type:Ac,activities:[]})}))):e({type:Ac,activities:[]})}))},changePage:function(t,r){return e(function(e,t){return{type:Cc,newPage:t}}(0,r))},changeRowsPerPage:function(t){return e(function(e){return{type:Pc,value:parseInt(e.target.value,10)}}(t))},startListeningForActivitiesChanged:function(){return e((function(e,t){var r=t().auth.user,n=t().manageActivitiesTable.tableUser;3!==r.type&&r.id!==n.id||wc||(wc=n.hasOwnProperty("id")?R.database().ref(gt).orderByChild("userID").equalTo(n.id):R.database().ref(gt)).on("child_added",(function(r){var a=r.val(),i=Object(gn.a)(t().manageActivitiesTable.activities);-1===i.findIndex((function(e){return e.id===a.id}))&&(n.hasOwnProperty("id")?e({type:Sc,activities:[].concat(Object(gn.a)(i),[a])}):la(n.anid).then((function(t){var r=t.findIndex((function(e){return e.id===a.userID}));-1!==r&&(a.userProfile=t[r],e({type:Sc,activities:[].concat(Object(gn.a)(i),[a])}))})))}))}))},stopListeningForActivitiesChanged:function(){return e(_c())},jsonCompareDialog_setData:function(t,r){return e(function(e,t){return{type:bc,jsonBefore:e,jsonAfter:t}}(t,r))}}}))(Ic),Dc="ORDINARY_BUSINESS_PROFILE_FIELDS_CHANGED",Tc="REGISTERED_OFFICE_BUSINESS_PROFILE_FIELDS_CHANGED",kc="TRADING_ADDRESS_BUSINESS_PROFILE_FIELDS_CHANGED",Nc="BUSINESS_PROFILE_CONTROL_FIELDS_CHANGED",Rc="SEARCHING_REGISTERED_OFFICE_ADDRESSES",Uc="DONE_SEARCHING_REGISTERED_OFFICE_ADDRESSES",Lc="SEARCHING_TRADING_ADDRESSES",Bc="DONE_SEARCHING_TRADING_ADDRESSES",Fc="SELECT_REGISTERED_OFFICE_RECOMMENDED_ADDRESS",Gc="SELECT_TRADING_ADDRESS_RECOMMENDED_ADDRESS",Mc="TOGGLE_REGISTERED_OFFICE_ENTER_ADDRESS_MANUALLY",qc="TOGGLE_TRADING_ADDRESS_ENTER_ADDRESS_MANUALLY",Wc="TOGGLE_TRADING_ADDRESS_SAME_AS_REGISTERED_OFFICE",Qc="CLEAR_FILLED_BUSINESS_PROFILE_INFORMATION",Vc="TOGGLE_EXPAND_BUSINESS_PROFILE_FILLING_FOR_INVESTOR",Hc=function(e,t,r){return new Promise((function(n,a){e({type:W,mode:7,progress:0}),r.registeredOffice.postcode=r.registeredOffice.postcode.toUpperCase(),r.tradingAddress.postcode=r.tradingAddress.postcode.toUpperCase(),R.database().ref(ht).child(t.id).child(vt).update(r).then((function(){return e({type:W,mode:J,progress:100}),e({type:Qc}),e({type:Er,message:"Your business profile has successfully been uploaded.",color:"primary",position:"bottom"}),aa({userID:t.id,activityType:4,interactedObjectLocation:ht,interactedObjectID:t.id,activitySummary:"Uploaded business profile.",value:Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)({},r)})}),n()})).catch((function(t){return e({type:W,mode:z,progress:100}),e({type:Qc}),e({type:Er,message:"Error happened. We couldn't upload your business profile.",color:"error",position:"bottom"}),a(t)}))}))},Jc="SET_ORIGINAL_USER_AND_EDITED_USER",zc=function(e){return function(t,r){var n=r().auth.user,a=r().editUser.originalUser,i=!0;if(e){if(!a||a.id!==e.id){if(e.hasOwnProperty("groupsUserIsIn")&&3===n.type&&!n.superAdmin){var o=function(e){var t=e.findIndex((function(e){return!1===e.invitedUser.requestedToJoin}));return-1!==t?e[t]:null}(e.groupsUserIsIn);o?n.anid!==o.anid&&(i=!1):i=!1}t({type:Jc,user:e,allowEditing:i})}}else t({type:Jc,user:e,allowEditing:i})}},Yc="EDIT_PERSONAL_INFORMATION",Kc="EDIT_ORDINARY_BUSINESS_PROFILE_INFORMATION",Xc="EDIT_TRADING_ADDRESS_BUSINESS_PROFILE",Zc="EDIT_REGISTERED_OFFICE_BUSINESS_PROFILE",$c="ADDING_NEW_DIRECTOR",el="TOGGLE_ADD_NEW_DIRECTOR",tl="ADD_NEW_DIRECTOR_TEMPORARILY",rl="DELETE_DIRECTOR_TEMPORARILY",nl="RESET_PERSONAL_INFORMATION",al="RESET_BUSINESS_PROFILE",il="COMMIT_PERSONAL_INFORMATION_CHANGES",ol="COMMIT_BUSINESS_PROFILE_CHANGES",sl=null,cl="EDIT_USER_ORIGINAL_USER_CHANGED",ll=function(){return function(e,t){sl&&(sl.off("value"),sl=null)}},dl="FILE_UPLOAD_CHANGED",ul="FILE_UPLOAD_ERROR",pl="CLOSE_FILE_UPLOAD_ERROR_SNACKBAR",hl="RESET_ERROR_MESSAGE_WHEN_FILE_UPLOAD_ERROR_SNACKBAR_EXITED",jl="DELETE_UPLOADED_LEGAL_DOCUMENT",gl="DELETE_UPLOADED_PITCH_COVER",bl="DELETED_UPLOADED_PITCH_PRESENTATION_DOCUMENT",ml="DELETE_UPLOADED_PITCH_SUPPORTING_DOCUMENT",fl="DELETE_TO_BE_UPLOADED_FILE",Ol="DELETE_TO_BE_UPLOADED_LEGAL_DOCUMENT",xl="DELETE_TO_BE_UPLOADED_PITCH_COVER",vl="DELETE_TO_BE_UPLOADED_PITCH_PRESENTATION_DOCUMENT",yl="DELETE_TO_BE_UPLOADED_PITCH_SUPPORTING_DOCUMENT",Al="FINISHED_UPLOADING_A_LEGAL_DOCUMENT",Cl="FINISHED_UPLOADING_A_PITCH_COVER",Pl="FINISHED_UPLOADING_A_PITCH_PRESENTATION_DOCUMENT",wl="FINISHED_UPLOADING_A_PITCH_SUPPORTING_DOCUMENT",Sl="FINISHED_UPLOADING_ALL_FILES",_l=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n,a){var i,o,s,c,l,d=arguments;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=d.length>4&&void 0!==d[4]?d[4]:null,o=d.length>5&&void 0!==d[5]?d[5]:null,s=R.storage(),c=$t(),l=dr(n,c),e.t0=r,e.next=6===e.t0?8:8===e.t0?10:9===e.t0?12:e.t0===H?14:16;break;case 8:return s=s.ref(ht).child(i.id).child(Tt).child(l),e.abrupt("break",17);case 10:return s=s.ref(ht).child(o.issuerID).child(jt).child(o.id).child(Bt).child("".concat(c,".").concat(document.file.extension)),e.abrupt("break",17);case 12:return s=s.ref(ht).child(o.issuerID).child(jt).child(o.id).child(Lt).child(l),e.abrupt("break",17);case 14:return s=s.ref(ht).child(o.issuerID).child(jt).child(o.id).child(Ut).child(l),e.abrupt("break",17);case 16:return e.abrupt("return");case 17:return e.abrupt("return",new Promise((function(e,i){var o=s.put(n.file);o.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;8!==r&&9!==r||t({type:W,mode:r,progress:n.toFixed(0)})}),(function(e){return i(e)}),(function(){o.snapshot.ref.getDownloadURL().then((function(i){var o=0;switch(r){case 6:o=100/a;var s={fileName:l.split(zt)[1],readableSize:n.file.sizeReadable,downloadURL:i,storageID:c};t({type:W,mode:r,progress:o}),t({type:Al,fileDBRef:s});break;case 8:var d={url:i,fileType:"video/mp4"===n.file.type?1:2,fileExtension:document.file.extension,storageID:c};t({type:W,mode:r,progress:100}),t({type:Cl,fileDBRef:d});break;case 9:var u={fileName:l.split(zt)[1],readableSize:n.file.sizeReadable,downloadURL:i,storageID:c};t({type:W,mode:r,progress:100}),t({type:Pl,fileDBRef:u});break;case H:o=100/a;var p={fileName:l.split(zt)[1],readableSize:n.file.sizeReadable,downloadURL:i,storageID:c};t({type:W,mode:r,progress:o}),t({type:wl,fileDBRef:p})}return e()}))}))})));case 18:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),Il=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n){var a,i=arguments;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>3&&void 0!==i[3]?i[3]:null,i.length>4&&void 0!==i[4]?i[4]:null,a=R.database(),e.abrupt("return",new Promise((function(e,i){switch(n){case 6:var o=r().legalDocuments.userID,s=r().legalDocuments.legalDocuments,c=r().uploadFiles.filesDBReferences.legalDocuments,l=[];l=s?[].concat(Object(gn.a)(s),Object(gn.a)(c)):c,a.ref(Tt).child(o).set(l).then((function(){return t({type:W,mode:J,progress:100}),e()})).catch((function(e){return t({type:W,mode:z,progress:100}),i(e)}));break;case 8:case 9:case H:default:return}})));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),El="LEGAL_DOCUMENTS_SET_USER",Dl="LOADING_LEGAL_DOCUMENTS",Tl="FINISHED_LOADING_LEGAL_DOCUMENTS",kl=null,Nl="LEGAL_DOCUMENTS_CHANGED",Rl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1440,r=(new Date).getTime(),n=(r-e)/6e4;return n>=t},Ul="INVESTOR_SELF_CERTIFICATION_AGREEMENT_SET_USER",Ll=function(e){return function(t,r){r().manageInvestorSelfCertificationAgreement.userID!==e&&t({type:Ul,uid:e})}},Bl="LOADING_INVESTOR_SELF_CERTIFICATION_AGREEMENT",Fl="FINISHED_LOADING_INVESTOR_SELF_CERTIFICATION_AGREEMENT",Gl=function(){return function(e,t){var r=t().manageInvestorSelfCertificationAgreement.userID;e({type:Bl}),R.database().ref(bt).orderByChild("userID").equalTo(r).once("value",(function(t){t&&t.exists()||e({type:Fl,result:null}),t.forEach((function(t){var r=t.val();Rl(r.selfCertificationTimestamp)&&console.log("Expired"),e({type:Fl,result:r})}))}))}},Ml="INVESTOR_SELF_CERTIFICATION_AGREEMENT_TICK_BOX_CHANGED",ql="UPDATE_INVESTOR_SELF_CERTIFICATION_AGREEMENT",Wl="INVESTOR_SELF_CERTIFICATION_AGREEMENT_STATEMENT_TYPE_CHANGED",Ql=r(766),Vl=r(801),Hl=r(20),Jl=r(418),zl=r(767),Yl=r(768),Kl=r(769),Xl=r(770),Zl=r(771),$l=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"getGroup",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.retrieveGroup.replace(":groupUserName",t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchGroups",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.listGroups,{requestBody:null,queryParameters:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchGroupMembers",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.listGroupMembers.replace(":group",t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.SetGroupUrl="ManageGroupUrlEvents.SetGroupUrl",e.ValidatingGroupUrl="ManageGroupUrlEvents.ValidatingGroupUrl",e.FinishedValidatingGroupUrl="ManageGroupUrlEvents.FinishedValidatingGroupUrl"}(Ss||(Ss={}));var ed,td,rd=Object(u.a)(Object(p.a)({palette:{primary:{main:et},secondary:{main:tt},text:{secondary:Se}},typography:{fontFamily:"Muli, sans-serif"}})),nd={routePath:void 0,groupNameFromUrl:void 0,group:null,groupLoaded:!1,loadingGroup:!1,groupRouteTheme:rd,validGroupUrl:!1},ad=function(e){return!e.group&&!e.groupLoaded&&e.loadingGroup||!e.group&&!e.groupLoaded&&!e.loadingGroup},id=function(e){return null!==e.groupNameFromUrl},od=function(e){return e.validGroupUrl&&void 0===e.error},sd=function(e){return void 0===e.groupRouteTheme?rd:e.groupRouteTheme},cd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.SetGroupUrl:var r=t;return Object(b.a)(Object(b.a)({},e),{},{routePath:r.path,groupNameFromUrl:r.groupUserName});case Ss.ValidatingGroupUrl:return Object(b.a)(Object(b.a)({},e),{},{group:null,groupLoaded:!1,loadingGroup:!0,validGroupUrl:!1});case Ss.FinishedValidatingGroupUrl:var n=t;return Object(b.a)(Object(b.a)({},e),{},{group:null===n.group?null:JSON.parse(JSON.stringify(t.group)),groupLoaded:!0,loadingGroup:!1,validGroupUrl:n.validGroupUrl,error:n.error,groupRouteTheme:n.validGroupUrl&&n.group?Object(u.a)(Object(p.a)({palette:{primary:{main:n.group.settings.primaryColor},secondary:{main:n.group.settings.secondaryColor},text:{secondary:Hl.a.blueGrey[700]}},typography:{fontFamily:"Muli, sans-serif"}})):rd});default:return e}};!function(e){e.Visibility="visibility",e.Group="group",e.Investor="investor",e.Issuer="issuer",e.Sector="sector",e.Phase="phase"}(ed||(ed={})),function(e){e.Any="Any",e.Live="Live",e.TemporarilyClosed="TemporarilyClosed",e.Successful="Successful",e.Failed="Failed",e.LivePitch="LivePitch",e.ExpiredPitch="ExpiredPitch"}(td||(td={}));var ld,dd=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"fetchOffers",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(b.a)(Object(b.a)({},t),{},{orderBy:t.orderBy||ed.Phase}),e.prev=1,e.next=4,(new na).request("get",ta.listProjectsRoute,{requestBody:null,queryParameters:r});case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"exportCsv",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Xt.a)(Kt.a.mark((function e(r,n){var a,i,o,s;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new na).request("get",ta.exportProjectsToCsvRoute,{requestBody:null,queryParameters:null!==t&&void 0!==t?t:null});case 3:return a=e.sent,i=new Blob([a.data],{type:"text/csv;charset=utf-8;"}),void 0!==(o=document.createElement("a")).download&&(s=URL.createObjectURL(i),o.setAttribute("href",s),o.setAttribute("download","offers_data.csv"),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)),e.abrupt("return",r());case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.SetTableUser="OffersTableEvents.SetTableUser",e.FetchingOffers="OffersTableEvents.FetchingOffers",e.CompleteFetchingOffers="OffersTableEvents.CompleteFetchingOffers",e.FilterChanged="OffersTableEvents.FilterChanged",e.FilterOffersByName="OffersTableEvents.FilterOffersByName",e.CancelFilteringOffersByName="OffersTableEvents.CancelFilteringOffersByName",e.ChangePage="OffersTableEvents.ChangePage",e.ChangeRowsPerPage="OffersTableEvents.ChangeRowsPerPage",e.ExportingCsv="OffersTableEvents.ExportingCsv",e.CompleteExportingCsv="OffersTableEvents.CompleteExportingCsv"}(ld||(ld={}));var ud,pd=function(){return function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l,d,u,p,h,j;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().OffersTableLocalState,a=n.tableUser,i=n.tableUserGroupsOfMembership,o=n.visibilityFilter,s=n.groupFilter,c=n.phaseFilter,(l=r().AuthenticationState.currentUser)&&a){e.next=4;break}return e.abrupt("return");case 4:if(d=bn(l),u={visibility:o,group:s,phase:c},p={type:ld.CompleteFetchingOffers,offerInstances:[]},h=!1,l.id===a.id?h=!0:d&&(d.superAdmin?h=!0:void 0===i||-1===i.findIndex((function(e){return e.group.anid===d.anid}))||bn(a)||(h=!0)),!h){e.next=28;break}if(!xn(a)){e.next=15;break}u.issuer=a.id,u.orderBy=ed.Issuer,e.next=26;break;case 15:if(!vn(a)){e.next=20;break}u.investor=a.id,u.orderBy=ed.Investor,e.next=26;break;case 20:if(!d){e.next=24;break}d.superAdmin||(u.group=d.anid,u.orderBy=ed.Group),e.next=26;break;case 24:return p.error="Invalid user reference.",e.abrupt("return",t(p));case 26:e.next=30;break;case 28:return p.error="You don't have privileges to access this data.",e.abrupt("return",t(p));case 30:return t({type:ld.FetchingOffers}),e.prev=31,e.next=34,(new dd).fetchOffers(u);case 34:return j=e.sent,p.offerInstances=j.data,t(p),e.abrupt("return",t(hd()));case 40:return e.prev=40,e.t0=e.catch(31),p.error=e.t0.toString(),e.abrupt("return",t(p));case 44:case"end":return e.stop()}}),e,null,[[31,40]])})));return function(t,r){return e.apply(this,arguments)}}()},hd=function(){return function(e,t){var r=t().OffersTableLocalState.nameFilter,n=Object(gn.a)(t().OffersTableLocalState.offerInstances),a={type:ld.FilterOffersByName,offerInstances:n,isFilteringByName:!1};return r.trim().length>0&&(n=n.filter((function(e){var t;return null===(t=e.projectDetail.projectName)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase())})),a.offerInstances=n,a.isFilteringByName=!0),e(a)}},jd={offerInstances:[],offerInstancesFilteredByName:[],fetchingOffers:!1,offersFetched:!1,nameFilter:"",visibilityFilter:"all",groupFilter:"all",phaseFilter:"all",filteringOffersByName:!1,currentPage:0,rowsPerPage:5,exportingCsv:!1},gd=function(e){return!e.offersFetched&&e.fetchingOffers},bd=function(e){return e.offersFetched&&!e.fetchingOffers&&void 0===e.error},md=function(e){return bd(e)&&e.offerInstancesFilteredByName.length>0},fd=function(e){return e.filteringOffersByName},Od=function(e){return void 0!==e.error},xd=function(e){return void 0!==e.errorExportingCsv},vd=function(e){return void 0!==e.groupsSelect&&e.groupsSelect.length>0},yd=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jd,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ms.SignOut:return jd;case ld.SetTableUser:var n=r;return Object(b.a)(Object(b.a)({},jd),{},{tableUser:void 0!==n.user?JSON.parse(JSON.stringify(n.user)):void 0,tableUserGroupsOfMembership:void 0!==n.groupsOfMembership?Object(gn.a)(n.groupsOfMembership):void 0,groupsSelect:void 0!==n.groupsSelect?Object(gn.a)(n.groupsSelect):void 0,error:void 0!==n.error?{detail:n.error}:t.error});case ld.FetchingOffers:return Object(b.a)(Object(b.a)({},t),{},{offerInstances:[],offerInstancesFilteredByName:[],fetchingOffers:!0,offersFetched:!1,error:void 0});case ld.CompleteFetchingOffers:var a=r;return Object(b.a)(Object(b.a)({},t),{},{offerInstances:Object(gn.a)(a.offerInstances),fetchingOffers:!1,offersFetched:!0,currentPage:0,error:void 0!==a.error?{detail:a.error}:t.error});case ld.FilterChanged:var i=r;return Object(b.a)(Object(b.a)({},t),{},(e={},Object(Bi.a)(e,i.name,i.value),Object(Bi.a)(e,"currentPage",0),e));case ld.FilterOffersByName:var o=r;return Object(b.a)(Object(b.a)({},t),{},{offerInstancesFilteredByName:Object(gn.a)(o.offerInstances),filteringOffersByName:o.isFilteringByName,currentPage:0});case ld.CancelFilteringOffersByName:return Object(b.a)(Object(b.a)({},t),{},{offerInstancesFilteredByName:Object(gn.a)(t.offerInstances),nameFilter:"",filteringOffersByName:!1,currentPage:0});case ld.ChangePage:var s=r;return Object(b.a)(Object(b.a)({},t),{},{currentPage:s.page});case ld.ChangeRowsPerPage:var c=r;return Object(b.a)(Object(b.a)({},t),{},{rowsPerPage:c.rowsPerPage,currentPage:0});case ld.ExportingCsv:return Object(b.a)(Object(b.a)({},t),{},{exportingCsv:!0,errorExportingCsv:void 0});case ld.CompleteExportingCsv:var l=r;return Object(b.a)(Object(b.a)({},t),{},{exportingCsv:!1,errorExportingCsv:void 0!==l.error?{detail:l.error}:t.errorExportingCsv});default:return t}},Ad=function(e){return"a"===e.component?Object(V.jsx)("a",{href:e.url,target:e.target,className:Object(v.b)(Cd(e).link_style),children:e.childComponent}):Object(V.jsx)(m.b,{to:e.url,target:e.target,className:Object(v.b)(Cd(e).link_style),children:e.childComponent})},Cd=function(e){return v.a.create({link_style:{color:e.color,":hover":{color:e.activeColor,textDecoration:e.activeUnderline?"underline":"none"}}})},Pd=r(137),wd=r.n(Pd),Sd=r(138),_d=r.n(Sd),Id=function(e){return Nd(e)||Bd(e)},Ed=function(e){return e.status===Ft},Dd=function(e){return Ed(e)&&e.Pitch.status===Ft},Td=function(e){return 0===e.status},kd=function(e){return-1===e.status},Nd=function(e){return 1===e.status&&1===e.Pitch.status},Rd=function(e){return 2===e.status&&5===e.Pitch.status},Ud=function(e){return 2===e.status&&4===e.Pitch.status||1===e.status&&4===e.Pitch.status},Ld=function(e){return 3===e.status},Bd=function(e){return 4===e.status},Fd=function(e){return 5===e.status},Gd=function(e){return 6===e.status},Md=function(e){return void 0!==e.temporarilyClosed&&e.temporarilyClosed},qd=function(e){return void 0!==e.createdByGroupAdmin&&null!==e.createdByGroupAdmin},Wd=function(e){return 2===e.fileType},Qd=function(e){return 3===e.visibility},Vd=function(e){return 2===e.visibility},Hd=function(e){return 1===e.visibility},Jd=function(e,t,r){var n=bn(e);if(n){if(n.superAdmin)return!1;if(n.anid===r.anid)return!1;switch(r.visibility){case 3:return!1;case 2:case 1:default:return!0}}else{if(xn(e)&&e.id===r.issuerID)return!1;if(-1!==t.findIndex((function(e){return e.group.anid===r.anid})))return!1;switch(r.visibility){case 3:return!1;case 2:case 1:default:return!0}}},zd=function(e,t){var r=bn(e);return(!r||!r.superAdmin)&&(r?r.anid===t.anid:e.id===t.issuerID)},Yd=r(262),Kd=r.n(Yd),Xd=function(e,t){var r=Kd.a.get.rgb(e);return r?Kd.a.to.hex(r[0],r[1],r[2],void 0===t?1:t):e},Zd=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e,t=this.props,r=t.directTableUser,n=t.AuthenticationState;(0,t.setUser)(null!==(e=null!==r&&void 0!==r?r:n.currentUser)&&void 0!==e?e:void 0)}},{key:"render",value:function(){var e,t,r,n=this.props,a=n.ManageGroupUrlState,i=n.AuthenticationState,o=n.OffersTableLocalState,s=n.fetchOffers,c=n.filterChanged,l=n.filterOffersByName,d=n.cancelFilteringOffersByName,u=n.changePage,p=n.changeRowsPerPage,h=n.exportCsv;if(!i.currentUser)return null;var j=i.currentUser,g=o.tableUser;if(!j||!g)return null;var b,m=bn(j),f=bn(g);return Object(V.jsx)(Ql.a,{component:Fi.a,children:Object(V.jsxs)(sc.a,{color:"black",children:[Object(V.jsxs)(cc.a,{children:[m&&f&&m.id===f.id?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsxs)(Vl.a,{children:[Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return h()},children:[Object(V.jsx)(zl.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"10px"}),(b=o,b.exportingCsv?"Exporting ...":"Export csv")]}),xd(o)?Object(V.jsx)(Vl.a,{marginTop:"12px",children:Object(V.jsx)(A.a,{variant:"body2",color:"error",children:"".concat(null===(e=o.errorExportingCsv)||void 0===e?void 0:e.detail,". Please retry.")})}):null]})})}):null,vn(j)||m&&m.superAdmin?null:Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsx)(Ad,{url:xn(j)||m&&f&&m.id===f.id?yn.constructCreateProjectRoute(null!==(t=a.groupNameFromUrl)&&void 0!==t?t:null):m&&xn(g)?yn.constructCreateProjectRoute(null!==(r=a.groupNameFromUrl)&&void 0!==r?r:null,{admin:m.id,issuer:g.id}):"",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsxs)(G.a,{variant:"contained",color:"primary",className:Object(v.b)(ot.no_text_transform),children:[Object(V.jsx)(Yl.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"10px"})," Create new offer"]})})})}),Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:11,sm:11,md:8,lg:6,children:Object(V.jsx)(Vl.a,{display:"flex",height:"100%",alignItems:"center",bgcolor:fd(o)?Xd(sd(a).palette.primary.main,.18):Hl.a.grey[200],borderRadius:"10px",children:Object(V.jsx)(Jl.a,{fullWidth:!0,name:"nameFilter",value:o.nameFilter,placeholder:"Search offer by name",onChange:c,disabled:!bd(o),startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(C.a,{onClick:function(){return l()},disabled:!bd(o),children:Object(V.jsx)(Kl.a,{fontSize:"small"})})}),endAdornment:fd(o)?Object(V.jsx)(Mi.a,{position:"end",children:Object(V.jsx)(C.a,{onClick:function(){return d()},children:Object(V.jsx)(Xl.a,{fontSize:"small"})})}):null})})}),Object(V.jsx)(E.a,{xs:1,sm:1,md:4,lg:6,children:Object(V.jsx)(Vl.a,{display:"flex",height:"100%",justifyContent:"flex-end",alignItems:"center",children:Object(V.jsx)(C.a,{onClick:function(){return s()},disabled:!bd(o),children:Object(V.jsx)(Zl.a,{})})})})]})})}),Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Vl.a,{paddingY:"4px",children:[Object(V.jsx)(A.a,{variant:"body2",children:"Visibility:"}),Object(V.jsx)(Vl.a,{height:"8px"}),Object(V.jsxs)(Ws.a,{fullWidth:!0,name:"visibilityFilter",value:o.visibilityFilter,variant:"outlined",margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:c,disabled:!bd(o),children:[Object(V.jsx)(Vs.a,{value:"all",children:"All"},"all"),Object(V.jsx)(Vs.a,{value:3,children:"Public"},3),Object(V.jsx)(Vs.a,{value:2,children:"Restricted"},2),Object(V.jsx)(Vs.a,{value:1,children:"Private"},1)]})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Vl.a,{paddingY:"4px",children:[Object(V.jsx)(A.a,{variant:"body2",children:"Group:"}),Object(V.jsx)(Vl.a,{height:"8px"}),Object(V.jsxs)(Ws.a,{fullWidth:!0,name:"groupFilter",value:o.groupFilter,variant:"outlined",margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:c,disabled:!bd(o),children:[Object(V.jsx)(Vs.a,{value:"all",children:"All"},"all"),vd(o)&&o.groupsSelect?o.groupsSelect.map((function(e){return Object(V.jsx)(Vs.a,{value:e.anid,children:e.displayName},e.anid)})):null]})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Vl.a,{paddingY:"4px",children:[Object(V.jsx)(A.a,{variant:"body2",children:"Status:"}),Object(V.jsx)(Vl.a,{height:"8px"}),Object(V.jsxs)(Ws.a,{fullWidth:!0,name:"phaseFilter",value:o.phaseFilter,variant:"outlined",margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:c,disabled:!bd(o),children:[Object(V.jsx)(Vs.a,{value:"all",children:"All"},"all"),Object(V.jsx)(Vs.a,{value:td.LivePitch,children:"Live"},td.LivePitch),Object(V.jsx)(Vs.a,{value:0,children:"Submitted - awaiting review"},0),Object(V.jsx)(Vs.a,{value:td.TemporarilyClosed,children:"Temporarily closed"},td.TemporarilyClosed),Object(V.jsx)(Vs.a,{value:td.ExpiredPitch,children:"Expired"},td.ExpiredPitch),Object(V.jsx)(Vs.a,{value:Ft,children:"Draft"},Ft)]})]})})]})})}),Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{variant:"body2",color:"primary",children:"Project"})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",color:"primary",children:"Goal"})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",color:"primary",children:"Posted / expiry dates"})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",color:"primary",children:"Status"})})]})]}),Object(V.jsx)(lc.a,{children:gd(o)?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"120px",children:Object(V.jsx)(k.BeatLoader,{color:sd(a).palette.primary.main})})})}):Od(o)?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"120px",children:Object(V.jsx)(A.a,{variant:"h6",align:"center",color:"error",children:"Error. Please retry."})})})}):bd(o)?md(o)?o.offerInstancesFilteredByName.slice(o.currentPage*o.rowsPerPage,o.currentPage*o.rowsPerPage+o.rowsPerPage).map((function(e){var t,r,n,i;return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",justifyContent:"center",children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",children:[Qd(e.projectDetail)?Object(V.jsx)(tc.a,{fontSize:"small"}):Vd(e.projectDetail)?Object(V.jsx)(wd.a,{fontSize:"small"}):Object(V.jsx)(_d.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"15px"}),Object(V.jsx)(Ad,{url:Ed(e.projectDetail)?yn.constructCreateProjectRoute(null!==(t=a.groupNameFromUrl)&&void 0!==t?t:null,{edit:e.projectDetail.id}):yn.constructProjectDetailRoute(null!==(r=a.groupNameFromUrl)&&void 0!==r?r:null,e.projectDetail.id),target:Ed(e.projectDetail)?"_blank":"",color:"black",activeColor:sd(a).palette.primary.main,activeUnderline:!1,component:"nav-link",childComponent:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:null!==(n=e.projectDetail.projectName)&&void 0!==n?n:""})})]}),xn(j)&&void 0!==o.tableUser&&j.id===o.tableUser.id?null:Object(V.jsx)(Vl.a,{marginTop:"10px",children:Object(V.jsx)(A.a,{variant:"body2",align:"left",color:"textSecondary",children:Object(V.jsx)("i",{children:e.projectDetail.createdByGroupAdmin?"Created by ".concat(e.group.displayName," admin"):"Created by ".concat(e.issuer.firstName," ").concat(e.issuer.lastName)})})}),vn(j)?null:Ed(e.projectDetail)?Object(V.jsx)(Vl.a,{marginTop:"18px",children:Object(V.jsx)(Ad,{url:yn.constructCreateProjectRoute(null!==(i=a.groupNameFromUrl)&&void 0!==i?i:null,{edit:e.projectDetail.id}),target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"nav-link",childComponent:Object(V.jsxs)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),children:[Object(V.jsx)(Yl.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"8px"}),"Edit"]})})}):null]})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:e.projectDetail.Pitch.fundRequired?"\xa3".concat(Number(e.projectDetail.Pitch.fundRequired.toFixed(0)).toLocaleString()):""})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",children:"Posted date: ".concat(tr(e.projectDetail.Pitch.postedDate))}),Object(V.jsx)(Vl.a,{height:"12px"}),Object(V.jsx)(A.a,{variant:"body2",align:"left",children:e.projectDetail.Pitch.expiredDate?"Expiry date: ".concat(tr(e.projectDetail.Pitch.expiredDate)):"Expiry date: unknown"})]})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:Ed(e.projectDetail)?"Draft":Td(e.projectDetail)?"Submitted. Awaiting group admin review":xr(e.projectDetail)?Md(e.projectDetail)?"Temporarily closed":"Live":Rd(e.projectDetail)?"Expired. Awaiting group admin review":"Closed"})})]},e.projectDetail.id)})):Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"120px",children:Object(V.jsx)(A.a,{variant:"h6",align:"center",children:"There are no offers available using your current filter criteria."})})})}):null}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{rowsPerPageOptions:[5,10,15],count:o.offerInstancesFilteredByName.length,rowsPerPage:o.rowsPerPage,page:o.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:u,onChangeRowsPerPage:p})})})]})})}}]),r}(n.Component),$d=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageSystemAttributesState:e.ManageSystemAttributesState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,OffersTableLocalState:e.OffersTableLocalState}}),(function(e){return{setUser:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o,s,c,l,d;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n().OffersTableLocalState.tableUser,i=!1,void 0===a?void 0!==e&&(i=!0):void 0!==e?a.id!==e.id&&(i=!0):i=!0,!i){t.next=29;break}if(o={type:ld.SetTableUser,user:e,groupsOfMembership:void 0,groupsSelect:void 0},t.prev=5,!e){t.next=21;break}return t.next=9,(new na).request("get",ta.listGroupsOfMembership.replace(":uid",e.id));case 9:if(s=t.sent,c=s.data,o.groupsOfMembership=c,!(l=bn(e))||!l.superAdmin){t.next=20;break}return t.next=16,(new $l).fetchGroups();case 16:d=t.sent,o.groupsSelect=d.data,t.next=21;break;case 20:o.groupsSelect=c.map((function(e){return e.group}));case 21:return r(o),t.abrupt("return",r(pd()));case 25:return t.prev=25,t.t0=t.catch(5),o.error=t.t0.toString(),t.abrupt("return",r(o));case 29:case"end":return t.stop()}}),t,null,[[5,25]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchOffers:function(){return e(pd())},filterChanged:function(t){return e(function(e){return function(t,r){var n=e.target.name,a=e.target.value;t({type:ld.FilterChanged,name:n,value:a}),"nameFilter"!==n&&t(pd())}}(t))},filterOffersByName:function(){return e(hd())},cancelFilteringOffersByName:function(){return e((function(e,t){return e({type:ld.CancelFilteringOffersByName})}))},changePage:function(t,r){return e(function(e,t){return function(e,r){return e({type:ld.ChangePage,page:t})}}(0,r))},changeRowsPerPage:function(t){return e(function(e){return function(t,r){return t({type:ld.ChangeRowsPerPage,rowsPerPage:parseInt(e.target.value,10)})}}(t))},exportCsv:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().AuthenticationState.currentUser,a=r().OffersTableLocalState.exportingCsv,n){e.next=4;break}return e.abrupt("return");case 4:if(i=bn(n)){e.next=7;break}return e.abrupt("return");case 7:if(!a){e.next=9;break}return e.abrupt("return");case 9:return t({type:ld.ExportingCsv}),o={type:ld.CompleteExportingCsv},e.prev=11,e.next=14,(new dd).exportCsv(i.superAdmin?void 0:{group:i.anid,orderBy:ed.Group});case 14:return e.abrupt("return",t(o));case 17:return e.prev=17,e.t0=e.catch(11),o.error=e.t0.toString(),e.abrupt("return",t(o));case 21:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t,r){return e.apply(this,arguments)}}())}}}))(Zd),eu=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.position,n=e.MediaQueryState;return Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",paddingX:"15px",paddingY:"20px",borderTop:1,borderColor:it,bgcolor:nt,alignItems:"center",width:"100%",marginTop:"100px",style:{position:void 0!==t?t:n.isMobile||!n.minHeightScreen?"relative":"fixed",bottom:void 0===t?0:"none"},children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(V.jsx)(Ad,{color:"black",target:"_blank",activeColor:"#007BFF",activeUnderline:!0,url:yn.constructPublicRoute("termsOfUse"),component:"nav-link",childComponent:Object(V.jsx)(A.a,{variant:"body1",children:"Terms of Use"})}),Object(V.jsx)(Vl.a,{width:25}),Object(V.jsx)(Ad,{color:"black",target:"_blank",activeColor:"#007BFF",activeUnderline:!0,url:yn.constructPublicRoute("privacyPolicy"),component:"nav-link",childComponent:Object(V.jsx)(A.a,{variant:"body1",children:"Privacy Policy"})})]}),Object(V.jsx)(Vl.a,{marginY:"20px",width:n.isMobile?"100%":"500px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",children:[Object(V.jsx)(te.a,{alt:"Invest West logo",src:r(114).default,style:{width:"auto",height:34,objectFit:"contain"}}),Object(V.jsx)(Vl.a,{width:"20px"}),Object(V.jsxs)(A.a,{align:"left",variant:"body1",children:["Powered by Invest West. ",Object(V.jsx)("br",{})," Copyright \xa9 2021 Invest West Ltd - All Rights Reserved."]})]})]})}}]),n}(n.Component),tu=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState}}))(eu),ru=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).loadData=function(){var t=e.props,r=t.originalUser,n=t.legalDocuments_userID,a=t.userLegalDocumentsLoaded,i=t.userLegalDocumentsBeingLoaded,o=t.investorSelfCertificationAgreement_userID,s=t.investorSelfCertificationAgreementLoaded,c=t.investorSelfCertificationAgreementBeingLoaded,l=t.legalDocuments_setUserID,d=t.getUserLegalDocuments,u=t.investorSelfCertificationAgreement_setUser,p=t.loadInvestorSelfCertificationAgreement;r&&(n||2!==r.type||l(r.id),o||1!==r.type||u(r.id)),n&&(a||i||2!==r.type||d()),o&&(s||c||1!==r.type||p())},e.handleEditUser=function(t){return function(r){e.props.editUserLocally(t,{property:r.target.name,value:r.target.value})}},e.handleCreateBusinessProfileTextChanged=function(t){return function(r){e.props.handleCreateBusinessProfileTextChanged(t,r)}},e.toggleTradingAddressSameAsRegisteredOffice=function(t){e.props.toggleTradingAddressSameAsRegisteredOffice(t.target.checked)},e.handleFilesChanged=function(t,r){return function(n){e.props.handleFilesChanged(t,n,r,null)}},e.deleteToBeUploadedFile=function(t){return function(r){e.props.deleteToBeUploadedFile(t,r)}},e.deleteUploadedFile=function(t,r){return function(n){e.props.deleteUploadedFile(t,n,r,null)}},e.uploadFiles=function(t,r){e.props.uploadFiles(t,r,null)},e.renderSelfCertificationAgreement=function(){var t=e.props,r=t.groupProperties,n=t.currentUser,a=t.originalUser,i=t.investorSelfCertificationAgreement,o=t.investorSelfCertificationAgreementLoaded,s=t.investorSelfCertificationAgreementCheckBox1Checked,c=t.investorSelfCertificationAgreementCheckBox2Checked,l=t.investorSelfCertificationAgreementCheckBox3Checked,d=t.investorSelfCertificationAgreementStatementType,u=t.investorSelfCertificationAgreement_handleCheckBoxChanged,p=t.investorSelfCertificationAgreement_handleStatementTypeChanged,h=t.setInvestorSelfCertificationAgreement;if(2===a.type)return null;if(!o)return Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",children:"Self-certification agreement"}),Object(V.jsx)(x.a,{hAlignContent:"center",marginTop:20,marginBottom:25,children:Object(V.jsx)(k.HashLoader,{color:r?r.settings.primaryColor:et})})]});if(i){if(Rl(i.agreedDate)){var j=new Date,g=new Date(i.agreedDate),b=Math.ceil((j.getTime()-(g.getTime()+31536e6))/864e5);return console.log("The user's agreement has been expired for ".concat(b," day(s).")),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"error",align:"left",paragraph:!0,children:"Self-certification agreement"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:3===n.type?"To access the functionality of this site, this user must be a self-certified investor.":"To access the functionality of this site, you must be a self-certified investor. Please select the appropriate statement below and read carefully."}),Object(V.jsxs)(Ws.a,{name:"statementType",value:d,variant:"outlined",margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:p,children:[Object(V.jsx)(Vs.a,{value:2,children:"Self-certified sophisticated investor statement"}),Object(V.jsx)(Vs.a,{value:1,children:"High net worth investor statement"})]}),Object(V.jsxs)(x.a,{column:!0,marginTop:35,style:{maxHeight:500,overflowY:"auto",border:"1px solid ".concat(ye),padding:18},children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:1===d?"Statement for self-certified high net worth individual":"Statement for a self-certified sophisticated investor"})}),1===d?Object(V.jsxs)(A.a,{variant:"body1",align:"left",component:"span",children:["I declare that I am a certified high net worth individual for the purposes of the Financial Services and Markets Act 2000 (Financial Promotion) Order 2005.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"I understand that this means:",Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I can receive financial promotions that may not have been approved by a person authorised by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"the content of such financial promotions may not conform to rules issued by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"by signing this statement I may lose significant rights;"}),Object(V.jsxs)("li",{children:["I may have no right to complain to either of the following:-",Object(V.jsx)("br",{}),Object(V.jsxs)("ol",{type:"i",children:[Object(V.jsx)("li",{children:"the Financial Conduct Authority; or"}),Object(V.jsx)("li",{children:"the Financial Ombudsman Scheme"})]})]}),Object(V.jsx)("li",{children:"I may have no right to seek compensation from the Financial Services Compensation Scheme."})]}),"I am a certified high net worth individual because ",Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"at least one of the following applies:"})}),Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I had, during the financial year immediately preceding today's date, an annual income to the value of \xa3100,000 or more;"}),Object(V.jsxs)("li",{children:["I held, throughout the financial year immediately preceding today's date, net assets to the value of \xa3250,000 or more. Net assets for these purposes do not include:-",Object(V.jsxs)("ol",{type:"i",children:[Object(V.jsx)("li",{children:"the property which is my primary residence or any loan secured on that residence;"}),Object(V.jsx)("li",{children:"any rights of mine under a qualifying contract of insurance within the meaning of the Financial Services and Markets Act 2000 (Regulated Activities) Order 2001; or"}),Object(V.jsx)("li",{children:"any benefits (in the form of pensions or otherwise) which are payable on the termination of my service or on my death or retirement and to which I am (or my dependants are), or may be, entitled."})]})]})]})]}):Object(V.jsxs)(A.a,{variant:"body1",align:"left",component:"span",children:["I declare that I am a self-certified sophisticated investor for the purposes of the Financial Services and Markets Act (Financial Promotion) Order 2005.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"I understand that this means:",Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I can receive financial promotions that may not have been approved by a person authorised by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"the content of such financial promotions may not conform to rules issued by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"by signing this statement I may lose significant rights;"}),Object(V.jsxs)("li",{children:["I may have no right to complain to either of the following:",Object(V.jsxs)("ol",{type:"i",children:[Object(V.jsx)("li",{children:"the Financial Conduct Authority; or"}),Object(V.jsx)("li",{children:"the Financial Ombudsman Scheme;"})]})]}),Object(V.jsx)("li",{children:"I may have no right to seek compensation from the Financial Services Compensation Scheme."})]}),"I am a self-certified sophisticated investor because ",Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"at least one of the following applies:"})}),Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I am a member of a network or syndicate of business angels and have been so for at least the last six months prior to today's date;"}),Object(V.jsx)("li",{children:"I have made more than one investment in an unlisted company in the two years prior to today's date;"}),Object(V.jsx)("li",{children:"I am working, or have worked in the two years prior to today's date, in a professional capacity in the private equity sector, or in the provision of finance for small and medium enterprises;"}),Object(V.jsx)("li",{children:"I am currently, or have been in the two years prior to today's date, a director of a company with an annual turnover of at least \xa31 million."})]})]}),Object(V.jsx)(Z.a,{style:{marginTop:30,marginBottom:18}}),Object(V.jsx)(Gi.a,{component:"fieldset",fullWidth:!0,children:Object(V.jsxs)(Hs.a,{row:!0,children:[Object(V.jsx)(Js.a,{style:{width:"100%"},control:Object(V.jsx)(zs.a,{name:"checkBox1Ticked",color:"primary",value:s,checked:s,onChange:u}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:"I accept that I can lose my property and other assets from making investment decisions based on financial promotions."})}),labelPlacement:"end"}),Object(V.jsx)(Js.a,{style:{width:"100%"},control:Object(V.jsx)(zs.a,{name:"checkBox2Ticked",color:"primary",value:c,checked:c,onChange:u}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"I am aware that it is open to me to seek advice from someone who specialises in advising on investments."}),labelPlacement:"end"}),Object(V.jsx)(Js.a,{style:{width:"100%"},control:Object(V.jsx)(zs.a,{name:"checkBox3Ticked",color:"primary",value:l,checked:l,onChange:u}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsxs)("b",{children:["I have read and agree to the\xa0",Object(V.jsx)(Ad,{url:yn.constructPublicRoute("termsOfUse"),target:"_blank",color:"none",activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Terms of Use"}),"\xa0and\xa0",Object(V.jsx)(Ad,{url:yn.constructPublicRoute("privacyPolicy"),target:"_blank",color:"none",activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Privacy Policy"}),"."]})}),labelPlacement:"end"})]})})]}),Object(V.jsxs)(x.a,{column:!0,grow:1,hAlignContent:"right",marginTop:40,marginBottom:20,children:[Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:h,disabled:!s||!c||!l||3===n.type,children:"Submit"}),3===n.type?Object(V.jsx)(A.a,{variant:"body1",color:"error",align:"right",style:{marginTop:25},children:"You cannot do this on behalf of the investor."}):null]})]})}var m=Math.max(0,Math.ceil((new Date(i.agreedDate).getTime()+31536e6-(new Date).getTime())/864e5));return Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",align:"left",children:"Self-certification agreement"}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",style:{marginTop:25,marginBottom:35},children:[3===n.type?"This investor has":"You have"," agreed to the statement of ",Object(V.jsx)("b",{children:1===i.type?"High net worth investor ":"Self-certified sophisticated investor "}),"on ",tr(i.agreedDate),". You have ",m," day(s) left until you need to re-certify."]})]})}return Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"error",align:"left",paragraph:!0,children:"Self-certification agreement"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:3===n.type?"To access the functionality of this site, this user must be a self-certified investor.":"To access the functionality of this site, you must be a self-certified investor. Please select the appropriate statement below and read carefully."}),Object(V.jsxs)(Ws.a,{name:"statementType",value:d,variant:"outlined",margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:p,children:[Object(V.jsx)(Vs.a,{value:2,children:"Self-certified sophisticated investor statement"}),Object(V.jsx)(Vs.a,{value:1,children:"High net worth investor statement"})]}),Object(V.jsxs)(x.a,{column:!0,marginTop:35,style:{maxHeight:500,overflowY:"auto",border:"1px solid ".concat(ye),padding:18},children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:1===d?"Statement for self-certified high net worth individual":"Statement for a self-certified sophisticated investor"})}),1===d?Object(V.jsxs)(A.a,{variant:"body1",align:"left",component:"span",children:["I declare that I am a certified high net worth individual for the purposes of the Financial Services and Markets Act 2000 (Financial Promotion) Order 2005.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"I understand that this means:",Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I can receive financial promotions that may not have been approved by a person authorised by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"the content of such financial promotions may not conform to rules issued by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"by signing this statement I may lose significant rights;"}),Object(V.jsxs)("li",{children:["I may have no right to complain to either of the following:-",Object(V.jsx)("br",{}),Object(V.jsxs)("ol",{type:"i",children:[Object(V.jsx)("li",{children:"the Financial Conduct Authority; or"}),Object(V.jsx)("li",{children:"the Financial Ombudsman Scheme"})]})]}),Object(V.jsx)("li",{children:"I may have no right to seek compensation from the Financial Services Compensation Scheme."})]}),"I am a certified high net worth individual because ",Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"at least one of the following applies:"})}),Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I had, during the financial year immediately preceding today's date, an annual income to the value of \xa3100,000 or more;"}),Object(V.jsxs)("li",{children:["I held, throughout the financial year immediately preceding today's date, net assets to the value of \xa3250,000 or more. Net assets for these purposes do not include:-",Object(V.jsxs)("ol",{type:"i",children:[Object(V.jsx)("li",{children:"the property which is my primary residence or any loan secured on that residence;"}),Object(V.jsx)("li",{children:"any rights of mine under a qualifying contract of insurance within the meaning of the Financial Services and Markets Act 2000 (Regulated Activities) Order 2001; or"}),Object(V.jsx)("li",{children:"any benefits (in the form of pensions or otherwise) which are payable on the termination of my service or on my death or retirement and to which I am (or my dependants are), or may be, entitled."})]})]})]})]}):Object(V.jsxs)(A.a,{variant:"body1",align:"left",component:"span",children:["I declare that I am a self-certified sophisticated investor for the purposes of the Financial Services and Markets Act (Financial Promotion) Order 2005.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"I understand that this means:",Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I can receive financial promotions that may not have been approved by a person authorised by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"the content of such financial promotions may not conform to rules issued by the Financial Conduct Authority;"}),Object(V.jsx)("li",{children:"by signing this statement I may lose significant rights;"}),Object(V.jsxs)("li",{children:["I may have no right to complain to either of the following:",Object(V.jsxs)("ol",{type:"i",children:[Object(V.jsx)("li",{children:"the Financial Conduct Authority; or"}),Object(V.jsx)("li",{children:"the Financial Ombudsman Scheme;"})]})]}),Object(V.jsx)("li",{children:"I may have no right to seek compensation from the Financial Services Compensation Scheme."})]}),"I am a self-certified sophisticated investor because ",Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"at least one of the following applies:"})}),Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsx)("li",{children:"I am a member of a network or syndicate of business angels and have been so for at least the last six months prior to today's date;"}),Object(V.jsx)("li",{children:"I have made more than one investment in an unlisted company in the two years prior to today's date;"}),Object(V.jsx)("li",{children:"I am working, or have worked in the two years prior to today's date, in a professional capacity in the private equity sector, or in the provision of finance for small and medium enterprises;"}),Object(V.jsx)("li",{children:"I am currently, or have been in the two years prior to today's date, a director of a company with an annual turnover of at least \xa31 million."})]})]}),Object(V.jsx)(Z.a,{style:{marginTop:30,marginBottom:18}}),Object(V.jsx)(Gi.a,{component:"fieldset",fullWidth:!0,children:Object(V.jsxs)(Hs.a,{row:!0,children:[Object(V.jsx)(Js.a,{style:{width:"100%"},control:Object(V.jsx)(zs.a,{name:"checkBox1Ticked",color:"primary",value:s,checked:s,onChange:u}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:"I accept that I can lose my property and other assets from making investment decisions based on financial promotions."})}),labelPlacement:"end"}),Object(V.jsx)(Js.a,{style:{width:"100%"},control:Object(V.jsx)(zs.a,{name:"checkBox2Ticked",color:"primary",value:c,checked:c,onChange:u}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"I am aware that it is open to me to seek advice from someone who specialises in advising on investments."}),labelPlacement:"end"}),Object(V.jsx)(Js.a,{style:{width:"100%"},control:Object(V.jsx)(zs.a,{name:"checkBox3Ticked",color:"primary",value:l,checked:l,onChange:u}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsxs)("b",{children:["I have read and agree to the\xa0",Object(V.jsx)(Ad,{url:yn.constructPublicRoute("termsOfUse"),target:"_blank",color:"none",activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Terms of Use"}),"\xa0and\xa0",Object(V.jsx)(Ad,{url:yn.constructPublicRoute("privacyPolicy"),target:"_blank",color:"none",activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Privacy Policy"}),"."]})}),labelPlacement:"end"})]})})]}),Object(V.jsxs)(x.a,{column:!0,grow:1,hAlignContent:"right",marginTop:40,marginBottom:20,children:[Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:h,disabled:!s||!c||!l||3===n.type,children:"Submit"}),3===n.type?Object(V.jsx)(A.a,{variant:"body1",color:"error",align:"right",style:{marginTop:25},children:"You cannot do this on behalf of the investor."}):null]})]})},e.renderBusinessProfile=function(){var t=e.props,r=t.currentUser,n=t.originalUser,a=t.userEdited,i=t.allowEditing,o=t.clubAttributes,s=t.createBusinessProfile,c=t.addNewDirector,l=t.newDirectorText,d=t.searchAddress,u=t.toggleEnterAddressManually,p=t.resetCreatingBusinessProfile,h=t.handleRecommendedAddressSelected,j=t.toggleExpandBusinessProfileFillingForInvestor,g=t.uploadBusinessProfile;return n.BusinessProfile?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Business profile"}),Object(V.jsxs)(I.a,{noGutters:!0,style:{marginTop:20},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,style:{padding:10,width:"100%"},children:Object(V.jsxs)(x.a,{column:!0,hAlignContent:"center",children:[Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"center",children:[!n.BusinessProfile.hasOwnProperty("logo")||n.BusinessProfile.hasOwnProperty("logo")&&-1===n.BusinessProfile.logo.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(A.a,{align:"center",color:"textSecondary",variant:"body1",children:3!==r.type?"You haven't uploaded your company logo":"This user hasn't uploaded company logo"}):Object(V.jsx)(x.a,{width:256,height:256,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:n.BusinessProfile.logo[n.BusinessProfile.logo.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,style:{width:"100%",maxHeight:256,objectFit:"contain"}})}),3===r.type?null:Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsx)(G.a,{size:"small",className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return e.props.toggleEditImageDialog(2)},style:{width:256},children:"Update logo"})})]}),Object(V.jsxs)(x.a,{column:!0,marginTop:80,marginBottom:20,width:"100%",hAlignContent:"center",style:{paddingLeft:25,paddingRight:25},children:[!n.BusinessProfile.hasOwnProperty("video")||n.BusinessProfile.hasOwnProperty("video")&&-1===n.BusinessProfile.video.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(A.a,{align:"center",color:"textSecondary",variant:"body1",children:3!==r.type?"You have no introduction video":"This user has no introduction video"}):Object(V.jsx)(Xr.a,{url:n.BusinessProfile.video[n.BusinessProfile.video.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,width:"100%",height:"100%",controls:!0,playing:!1}),3===r.type?null:Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsx)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),color:"primary",onClick:function(){return e.props.toggleEditVideoDialog(5)},style:{width:256},children:"Update introduction video"})})]})]})}),Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:8,children:[Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Company name"})}),Object(V.jsx)(Yr.a,{name:"companyName",placeholder:"Enter company name",value:a.BusinessProfile.hasOwnProperty("companyName")?a.BusinessProfile.companyName:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Kc),error:a.BusinessProfile.hasOwnProperty("companyName")&&0===a.BusinessProfile.companyName.trim().length})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Registration number"})}),Object(V.jsx)(Yr.a,{name:"registrationNo",placeholder:"Enter company registration number",value:a.BusinessProfile.hasOwnProperty("registrationNo")?a.BusinessProfile.registrationNo:"",margin:"dense",variant:"outlined",disabled:3!==r.type,fullWidth:!0,onChange:e.handleEditUser(Kc)})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Registered office"})}),Object(V.jsx)(Hs.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{name:"address1",placeholder:"Address 1",value:a.BusinessProfile.hasOwnProperty("registeredOffice")?a.BusinessProfile.registeredOffice.address1:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Zc),error:a.BusinessProfile.hasOwnProperty("registeredOffice")&&0===a.BusinessProfile.registeredOffice.address1.trim().length}),Object(V.jsx)(Yr.a,{name:"address2",placeholder:"Address 2",value:a.BusinessProfile.hasOwnProperty("registeredOffice")?a.BusinessProfile.registeredOffice.address2:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Zc)}),Object(V.jsx)(Yr.a,{name:"address3",placeholder:"Address 3",value:a.BusinessProfile.hasOwnProperty("registeredOffice")?a.BusinessProfile.registeredOffice.address3:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Zc)}),Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{name:"townCity",placeholder:"Town/City",value:a.BusinessProfile.hasOwnProperty("registeredOffice")?a.BusinessProfile.registeredOffice.townCity:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Zc),error:a.BusinessProfile.hasOwnProperty("registeredOffice")&&0===a.BusinessProfile.registeredOffice.townCity.trim().length})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{name:"postcode",placeholder:"Postcode",value:a.BusinessProfile.hasOwnProperty("registeredOffice")?a.BusinessProfile.registeredOffice.postcode.toUpperCase():"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Zc),error:a.BusinessProfile.hasOwnProperty("registeredOffice")&&0===a.BusinessProfile.registeredOffice.postcode.trim().length})})]})]})})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Trading address"})}),Object(V.jsx)(Hs.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{name:"address1",placeholder:"Address 1",value:a.BusinessProfile.hasOwnProperty("tradingAddress")?a.BusinessProfile.tradingAddress.address1:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Xc),error:a.BusinessProfile.hasOwnProperty("tradingAddress")&&0===a.BusinessProfile.tradingAddress.address1.trim().length}),Object(V.jsx)(Yr.a,{name:"address2",placeholder:"Address 2",value:a.BusinessProfile.hasOwnProperty("tradingAddress")?a.BusinessProfile.tradingAddress.address2:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Xc)}),Object(V.jsx)(Yr.a,{name:"address3",placeholder:"Address 3",value:a.BusinessProfile.hasOwnProperty("tradingAddress")?a.BusinessProfile.tradingAddress.address3:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Xc)}),Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{name:"townCity",placeholder:"Town/City",value:a.BusinessProfile.hasOwnProperty("tradingAddress")?a.BusinessProfile.tradingAddress.townCity:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Xc),error:a.BusinessProfile.hasOwnProperty("tradingAddress")&&0===a.BusinessProfile.tradingAddress.townCity.trim().length})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{name:"postcode",placeholder:"Postcode",value:a.BusinessProfile.hasOwnProperty("tradingAddress")?a.BusinessProfile.tradingAddress.postcode.toUpperCase():"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Xc),error:a.BusinessProfile.hasOwnProperty("tradingAddress")&&0===a.BusinessProfile.tradingAddress.postcode.trim().length})})]})]})})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),o?Object(V.jsx)(x.a,{children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Sector"})}),Object(V.jsx)(Ws.a,{name:"sector",value:a.BusinessProfile.hasOwnProperty("sector")?a.BusinessProfile.sector:"",onChange:e.handleEditUser(Kc),input:Object(V.jsx)(Qs.a,{}),margin:"dense",children:o.Sectors.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)}))})]})}):null,Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{error:a.BusinessProfile.hasOwnProperty("directors")&&0===a.BusinessProfile.directors.length,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Directors"})}),Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:6,children:[a.BusinessProfile.hasOwnProperty("directors")?Object(V.jsx)(ji.a,{children:a.BusinessProfile.directors.map((function(t,r){return Object(V.jsxs)(gi.a,{children:[Object(V.jsx)(mi.a,{children:t}),Object(V.jsx)(Ks.a,{children:Object(V.jsx)(C.a,{onClick:function(){return e.props.deleteDirectorTemporarily(r,!0)},children:Object(V.jsx)(ie.a,{})})})]},r)}))}):null,!a.BusinessProfile.hasOwnProperty("directors")||a.BusinessProfile.hasOwnProperty("directors")&&0===a.BusinessProfile.directors.length?null:Object(V.jsx)(Z.a,{style:{marginTop:10,marginBottom:16}})]}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:c?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{placeholder:"Enter director's name",name:"newDirectorText",value:l,fullWidth:!0,variant:"outlined",onChange:e.handleEditUser($c),margin:"dense"}),Object(V.jsxs)(x.a,{marginTop:8,hAlignContent:"right",children:[Object(V.jsx)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),onClick:e.props.toggleAddNewDirector,style:{marginRight:8},children:"Cancel"}),Object(V.jsx)(G.a,{variant:"contained",size:"small",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return e.props.addNewDirectorTemporarily(!0)},disabled:0===l.trim().length,children:"Add"})]})]}):Object(V.jsxs)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),onClick:e.props.toggleAddNewDirector,children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:4}}),"Add director"]})})]})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Company website"})}),Object(V.jsx)(Yr.a,{name:"companyWebsite",placeholder:"Enter company website",value:a.BusinessProfile.hasOwnProperty("companyWebsite")?a.BusinessProfile.companyWebsite:"",margin:"dense",variant:"outlined",fullWidth:!0,onChange:e.handleEditUser(Kc),error:a.BusinessProfile.hasOwnProperty("companyWebsite")&&0===a.BusinessProfile.companyWebsite.trim().length||a.BusinessProfile.hasOwnProperty("companyWebsite")&&a.BusinessProfile.companyWebsite.trim().length>0&&!gr(a.BusinessProfile.companyWebsite)})]}),!a.BusinessProfile.hasOwnProperty("companyWebsite")||a.BusinessProfile.hasOwnProperty("companyWebsite")&&0===a.BusinessProfile.companyWebsite.trim().length||a.BusinessProfile.hasOwnProperty("companyWebsite")&&a.BusinessProfile.companyWebsite.trim().length>0&&gr(a.BusinessProfile.companyWebsite)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",children:" Invalid website URL "})]}),Object(V.jsxs)(x.a,{hAlignContent:"right",marginTop:30,children:[Object(V.jsx)(x.a,{marginRight:20,children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",onClick:function(){return e.props.cancelEditingUser(al)},children:"Cancel"})}),Object(V.jsx)(x.a,{children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",disabled:3===r.type&&!r.superAdmin&&!i||a.BusinessProfile.hasOwnProperty("companyName")&&0===a.BusinessProfile.companyName.trim().length||a.BusinessProfile.hasOwnProperty("registeredOffice")&&0===a.BusinessProfile.registeredOffice.address1.trim().length||a.BusinessProfile.hasOwnProperty("registeredOffice")&&0===a.BusinessProfile.registeredOffice.townCity.trim().length||a.BusinessProfile.hasOwnProperty("registeredOffice")&&0===a.BusinessProfile.registeredOffice.postcode.trim().length||a.BusinessProfile.hasOwnProperty("tradingAddress")&&0===a.BusinessProfile.tradingAddress.address1.trim().length||a.BusinessProfile.hasOwnProperty("tradingAddress")&&0===a.BusinessProfile.tradingAddress.townCity.trim().length||a.BusinessProfile.hasOwnProperty("tradingAddress")&&0===a.BusinessProfile.tradingAddress.postcode.trim().length||a.BusinessProfile.hasOwnProperty("directors")&&0===a.BusinessProfile.directors.length||a.BusinessProfile.hasOwnProperty("companyWebsite")&&0===a.BusinessProfile.companyWebsite.trim().length||a.BusinessProfile.hasOwnProperty("companyWebsite")&&a.BusinessProfile.companyWebsite.trim().length>0&&!gr(a.BusinessProfile.companyWebsite)||JSON.stringify(n.BusinessProfile)===JSON.stringify(a.BusinessProfile),onClick:function(){return e.props.commitUserProfileChanges(ol)},children:"Save"})})]}),3!==r.type||r.superAdmin||i?null:Object(V.jsx)(A.a,{variant:"body1",color:"error",align:"right",style:{marginTop:25},children:"This user is not a home member of your group. So, you cannot edit their profile."})]})]})]}):3!==r.type?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",style:{marginBottom:4},children:"Business profile"}),2===n.type?null:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:6,offset:3},lg:{span:4,offset:4},children:Object(V.jsx)(G.a,{fullWidth:!0,className:Object(v.b)(ot.no_text_transform),color:s.expandBusinessProfileFilling?"secondary":"primary",variant:"outlined",size:"medium",onClick:j,style:{marginTop:25,marginBottom:20},children:s.expandBusinessProfileFilling?"Cancel creating company profile":"Create company profile (optional)"})})})]}),2===n.type||s.expandBusinessProfileFilling?Object(V.jsxs)(x.a,{column:!0,marginTop:20,children:[Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{required:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Company name"})}),Object(V.jsx)(Yr.a,{placeholder:"Enter company name",name:"companyName",value:s.BusinessProfile.companyName,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Dc)})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{required:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Registration number"})}),Object(V.jsx)(Yr.a,{placeholder:"Enter company registration number",name:"registrationNo",value:s.BusinessProfile.registrationNo,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Dc)})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(Gi.a,{required:!0,children:Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:4,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Registered office"})}),Object(V.jsx)(Xs.a,{children:'Enter a UK postcode to search for address or click on "Enter address manually" to enter your address manually.'}),Object(V.jsxs)(Hs.a,{children:[Object(V.jsx)(x.a,{children:Object(V.jsx)(Yr.a,{placeholder:"Enter UK postcode",name:"registeredOfficeSearchPostcode",value:s.registeredOfficeSearchPostcode.toUpperCase(),fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Nc),InputProps:{startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(C.a,{disableRipple:!0,style:{width:48,height:48},onClick:function(){return d(Rc)},children:Object(V.jsx)($s.a,{})})})}})}),s.registeredOfficeEnterAddressManually?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{placeholder:"Address 1:*",name:"address1",value:s.BusinessProfile.registeredOffice.address1,fullWidth:!0,variant:"outlined",required:!0,margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Tc)}),Object(V.jsx)(Yr.a,{placeholder:"Address 2:",name:"address2",value:s.BusinessProfile.registeredOffice.address2,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Tc)}),Object(V.jsx)(Yr.a,{placeholder:"Address 3:",name:"address3",value:s.BusinessProfile.registeredOffice.address3,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Tc)}),Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{placeholder:"Town/City:*",name:"townCity",value:s.BusinessProfile.registeredOffice.townCity,fullWidth:!0,variant:"outlined",required:!0,margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Tc)})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{placeholder:"Postcode:*",name:"postcode",value:s.BusinessProfile.registeredOffice.postcode.toUpperCase(),fullWidth:!0,variant:"outlined",required:!0,margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Tc)})})]})]}):null]})]})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:4,children:[s.registeredOfficeRecommendedAddresses&&s.registeredOfficeRecommendedAddresses.error?Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",style:{marginTop:4,marginBottom:4},children:"Sorry, we can't find your address, please check the details entered and search again, alternatively you can enter your address manually below."}):null,s.registeredOfficeRecommendedAddresses?s.registeredOfficeRecommendedAddresses.error?null:Object(V.jsx)(ji.a,{className:Object(v.b)(au.address_list),children:s.registeredOfficeRecommendedAddresses.formattedAddresses.map((function(e,t){return Object(V.jsx)(gi.a,{button:!0,onClick:function(){return h(Fc,t)},children:Object(V.jsx)(mi.a,{primary:e})},t)}))}):null,s.registeredOfficeEnterAddressManually?null:Object(V.jsx)(A.a,{variant:"body2",color:"primary",align:"left",className:Object(v.b)(au.enter_address_manually),onClick:function(){return u(Mc)},children:"Enter address manually."})]})})]})})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(Gi.a,{required:!0,children:Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Trading address"})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsx)(Hs.a,{children:Object(V.jsx)(Js.a,{label:"Same as registered office address",labelPlacement:"end",control:Object(V.jsx)(zs.a,{checked:s.tradingAddressSameAsRegisteredOffice,color:"primary",onChange:e.toggleTradingAddressSameAsRegisteredOffice})})})})}),s.tradingAddressSameAsRegisteredOffice?null:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Hs.a,{children:[Object(V.jsx)(Xs.a,{children:'Enter a UK postcode to search for address or click on "Enter address manually" to enter your address manually.'}),Object(V.jsx)(x.a,{children:Object(V.jsx)(Yr.a,{placeholder:"Enter UK postcode",name:"tradingAddressSearchPostcode",value:s.tradingAddressSearchPostcode.toUpperCase(),fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Nc),InputProps:{startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(C.a,{disableRipple:!0,style:{width:48,height:48},onClick:function(){return d(Lc)},children:Object(V.jsx)($s.a,{})})})}})}),s.tradingAddressEnterAddressManually?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{placeholder:"Address 1:*",name:"address1",value:s.BusinessProfile.tradingAddress.address1,fullWidth:!0,variant:"outlined",required:!0,margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(kc)}),Object(V.jsx)(Yr.a,{placeholder:"Address 2:",name:"address2",value:s.BusinessProfile.tradingAddress.address2,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(kc)}),Object(V.jsx)(Yr.a,{placeholder:"Address 3:",name:"address3",value:s.BusinessProfile.tradingAddress.address3,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(kc)}),Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{placeholder:"Town/City:*",name:"townCity",value:s.BusinessProfile.tradingAddress.townCity,fullWidth:!0,variant:"outlined",required:!0,margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(kc)})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsx)(Yr.a,{placeholder:"Postcode:*",name:"postcode",value:s.BusinessProfile.tradingAddress.postcode.toUpperCase(),fullWidth:!0,variant:"outlined",required:!0,margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(kc)})})]})]}):null]})})}),s.tradingAddressSameAsRegisteredOffice?null:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:4,children:[s.tradingAddressRecommendedAddresses&&s.tradingAddressRecommendedAddresses.error?Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",style:{marginTop:4,marginBottom:4},children:"Sorry, we can't find your address, please check the details entered and search again, alternatively you can enter your address manually below."}):null,s.tradingAddressRecommendedAddresses?s.tradingAddressRecommendedAddresses.error?null:Object(V.jsx)(ji.a,{className:Object(v.b)(au.address_list),children:s.tradingAddressRecommendedAddresses.formattedAddresses.map((function(e,t){return Object(V.jsx)(gi.a,{button:!0,onClick:function(){return h(Gc,t)},children:Object(V.jsx)(mi.a,{primary:e})},t)}))}):null,s.tradingAddressEnterAddressManually?null:Object(V.jsx)(A.a,{variant:"body2",color:"primary",align:"left",className:Object(v.b)(au.enter_address_manually),onClick:function(){return u(qc)},children:"Enter address manually."})]})})]})})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{required:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Company directors"})}),Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:6,children:[Object(V.jsx)(ji.a,{children:s.BusinessProfile.directors.map((function(t,r){return Object(V.jsxs)(gi.a,{children:[Object(V.jsxs)(mi.a,{children:[" ",t," "]}),Object(V.jsx)(Ks.a,{children:Object(V.jsx)(C.a,{onClick:function(){return e.props.deleteDirectorTemporarily(r,!1)},children:Object(V.jsx)(ie.a,{})})})]},r)}))}),0===s.BusinessProfile.directors.length?null:Object(V.jsx)(Z.a,{style:{marginTop:10,marginBottom:16}})]}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:c?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{placeholder:"Enter director's name",name:"newDirectorText",value:l,fullWidth:!0,variant:"outlined",onChange:e.handleEditUser($c),margin:"dense"}),Object(V.jsxs)(x.a,{marginTop:8,hAlignContent:"right",children:[Object(V.jsx)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),onClick:e.props.toggleAddNewDirector,style:{marginRight:8},children:"Cancel"}),Object(V.jsx)(G.a,{variant:"contained",size:"small",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return e.props.addNewDirectorTemporarily(!1)},disabled:0===l.trim().length,children:"Add"})]})]}):Object(V.jsxs)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),onClick:e.props.toggleAddNewDirector,children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:4}}),"Add director"]})})]})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{required:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Business sector"})}),Object(V.jsxs)(Ws.a,{name:"sector",value:s.BusinessProfile.sector,input:Object(V.jsx)(Qs.a,{}),margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Dc),children:[Object(V.jsx)(Vs.a,{value:"None",children:"Choose business sector"},-1),o?o.Sectors.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)})):null]})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{column:!0,children:Object(V.jsxs)(Gi.a,{required:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Company website"})}),Object(V.jsx)(Yr.a,{placeholder:"Enter company website",name:"companyWebsite",value:s.BusinessProfile.companyWebsite,fullWidth:!0,variant:"outlined",margin:"dense",onChange:e.handleCreateBusinessProfileTextChanged(Dc)}),0===s.BusinessProfile.companyWebsite.trim().length||gr(s.BusinessProfile.companyWebsite)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",children:"Invalid website URL"})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(x.a,{marginBottom:20,width:"100%",hAlignContent:"center",children:Object(V.jsxs)(I.a,{style:{width:"100%"},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,style:{padding:15},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"center",children:[Object(V.jsx)(x.a,{className:Object(v.b)(au.upload_files_area_style),onClick:function(){return e.props.toggleEditImageDialog(1)},children:Object(V.jsx)(A.a,{variant:"body2",align:"center",children:"Upload company logo (optional)"})}),s.logoToBeUploaded?Object(V.jsx)(x.a,{width:270,height:270,marginTop:28,children:Object(V.jsx)(te.a,{src:window.URL.createObjectURL(s.logoToBeUploaded),roundedCircle:!0,thumbnail:!0,style:{maxHeight:270,width:"100%",objectFit:"scale-down"}})}):null]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,style:{padding:15},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"center",children:[Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{className:Object(v.b)(au.upload_files_area_style),onClick:function(){return e.props.toggleEditVideoDialog(4)},children:Object(V.jsx)(A.a,{variant:"body2",align:"center",children:"Upload introduction video (optional)"})}),Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"top",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-top",children:"Introduction video helps other members understand more about your business."}),children:Object(V.jsx)(Ri.a,{fontSize:"default",style:{marginLeft:14,color:Ce}})})]}),s.videoToBeUploaded?Object(V.jsx)(x.a,{marginTop:28,children:Object(V.jsx)(Xr.a,{url:"string"===typeof s.videoToBeUploaded?s.videoToBeUploaded:window.URL.createObjectURL(s.videoToBeUploaded),controls:!0,playing:!1,width:"100%",height:"auto"})}):null]})})]})}),Object(V.jsxs)(x.a,{grow:1,hAlignContent:"right",marginTop:30,marginBottom:20,children:[Object(V.jsx)(x.a,{marginRight:20,children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",onClick:p,children:"Cancel"})}),Object(V.jsx)(x.a,{children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:g,disabled:e.shouldUploadButtonBeDisabled(),children:"Save"})})]})]}):null]}):Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Business profile"}),Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"center",style:{marginTop:15},children:"Business profile has not been uploaded."})]})},e.shouldUploadButtonBeDisabled=function(){var t=e.props,r=t.originalUser,n=t.createBusinessProfile;if(2===r.type){if(0===n.BusinessProfile.companyName.trim().length||0===n.BusinessProfile.registrationNo.trim().length||0===n.BusinessProfile.registeredOffice.address1.trim().length||0===n.BusinessProfile.registeredOffice.townCity.trim().length||0===n.BusinessProfile.registeredOffice.postcode.trim().length||!n.tradingAddressSameAsRegisteredOffice&&(0===n.BusinessProfile.tradingAddress.address1.trim().length||0===n.BusinessProfile.tradingAddress.townCity.trim().length||0===n.BusinessProfile.tradingAddress.postcode.trim().length)||0===n.BusinessProfile.directors.length||"None"===n.BusinessProfile.sector||0===n.BusinessProfile.companyWebsite.trim().length||n.BusinessProfile.companyWebsite.trim().length>0&&!gr(n.BusinessProfile.companyWebsite))return!0}else if(1===r.type){if(!n.expandBusinessProfileFilling)return!0;if(0===n.BusinessProfile.companyName.trim().length||0===n.BusinessProfile.registrationNo.trim().length||0===n.BusinessProfile.registeredOffice.address1.trim().length||0===n.BusinessProfile.registeredOffice.townCity.trim().length||0===n.BusinessProfile.registeredOffice.postcode.trim().length||!n.tradingAddressSameAsRegisteredOffice&&(0===n.BusinessProfile.tradingAddress.address1.trim().length||0===n.BusinessProfile.tradingAddress.townCity.trim().length||0===n.BusinessProfile.tradingAddress.postcode.trim().length)||0===n.BusinessProfile.directors.length||"None"===n.BusinessProfile.sector||0===n.BusinessProfile.companyWebsite.trim().length||n.BusinessProfile.companyWebsite.trim().length>0&&!gr(n.BusinessProfile.companyWebsite))return!0}return!1},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.userLegalDocumentsLoaded,i=n.startListeningForLegalDocumentsChanged;this.loadData(),a&&i()}},{key:"componentWillUnmount",value:function(){(0,this.props.stopListeningForLegalDocumentsChanged)()}},{key:"renderSelfCertificationForm",value:function(){return Object(V.jsx)("div",{})}},{key:"render",value:function(){var e=this,t=this.props,r=t.groupUserName,n=t.groupPropertiesLoaded,a=t.currentUser,i=t.originalUser,o=t.userEdited,s=t.allowEditing;return n&&a&&i&&o?Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:at},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{padding:20},children:Object(V.jsxs)(x.a,{hAlignContent:"right",vAlignContent:"center",children:[Object(V.jsx)(m.b,{to:r?Tn.replace(":groupUserName",r).replace(":userID",o.id):kn.replace(":userID",o.id),target:a.id===i.id?"":"_blank",className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",children:[Object(V.jsx)(tc.a,{style:{marginRight:8}}),3===a.type?"View profile":"View my profile"]})}),Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"bottom",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:3===a.type?"See how this user looks to other members. Since you are a group admin, you can see more information about this user than the other ordinary members.":"See how you look to other members."}),children:Object(V.jsx)(Ri.a,{fontSize:"small",style:{marginLeft:15,color:Ce}})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})})]}),Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:be},children:[Object(V.jsx)(E.a,{xs:12,md:12,lg:12,style:{padding:24},children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Personal details"}),Object(V.jsxs)(I.a,{noGutters:!0,style:{marginTop:20},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(x.a,{column:!0,hAlignContent:"center",style:{padding:10},children:[!i.profilePicture||i.profilePicture&&-1===i.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(ic,{firstName:i.firstName,lastName:i.lastName,width:196,height:196,textVariant:"h5"}):Object(V.jsx)(x.a,{width:256,height:256,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:i.profilePicture[i.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,style:{width:"100%",maxHeight:256,objectFit:"contain"}})}),3===a.type?null:Object(V.jsx)(x.a,{marginTop:20,marginBottom:20,children:Object(V.jsx)(G.a,{size:"small",className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",onClick:function(){return e.props.toggleEditImageDialog(3)},style:{width:256},children:"Update profile picture"})})]})}),Object(V.jsxs)(E.a,{xs:12,sm:12,md:6,lg:8,children:[Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,md:12,lg:{span:6,order:1},style:{marginBottom:20},children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Title"})}),Object(V.jsx)(Ws.a,{name:"title",value:o.title,onChange:this.handleEditUser(Yc),input:Object(V.jsx)(Qs.a,{}),margin:"dense",children:Gt.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)}))})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:{span:6,order:2}}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:12,order:3},children:Object(V.jsx)(Z.a,{style:{marginTop:10,marginBottom:20}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:{span:6,order:4},style:{marginBottom:20},children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"First name"})}),Object(V.jsx)(Yr.a,{name:"firstName",placeholder:"Enter first name",value:o.firstName,margin:"dense",variant:"outlined",onChange:this.handleEditUser(Yc),error:0===o.firstName.trim().length})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:{span:6,order:5},style:{marginBottom:20},children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Last name"})}),Object(V.jsx)(Yr.a,{name:"lastName",placeholder:"Enter last name",value:o.lastName,margin:"dense",variant:"outlined",onChange:this.handleEditUser(Yc),error:0===o.lastName.trim().length})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:12,order:6},children:Object(V.jsx)(Z.a,{style:{marginTop:10,marginBottom:20}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:12,order:7},style:{marginBottom:20},children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"Email"})}),Object(V.jsx)(Yr.a,{name:"email",placeholder:"Enter email",value:o.email,margin:"dense",variant:"outlined",onChange:this.handleEditUser(Yc),disabled:!0,error:0===o.email.trim().length})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:12,order:7},children:Object(V.jsx)(Z.a,{style:{marginTop:10,marginBottom:20}})}),Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:{span:12,order:8},style:{marginBottom:20},children:[Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:Object(V.jsx)("b",{children:"LinkedIn"})}),Object(V.jsx)(Yr.a,{name:"linkedin",placeholder:"Enter your LinkedIn profile",value:o.hasOwnProperty("linkedin")?o.linkedin:"",margin:"dense",variant:"outlined",onChange:this.handleEditUser(Yc),error:!ur(o.linkedin)})]}),ur(o.linkedin)?null:Object(V.jsx)(Xs.a,{className:Object(v.b)(ot.error_text),children:"Invalid LinkedIn URL"})]})]}),Object(V.jsxs)(x.a,{hAlignContent:"right",marginTop:30,children:[Object(V.jsx)(x.a,{marginRight:20,children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",onClick:function(){return e.props.cancelEditingUser(nl)},children:"Cancel"})}),Object(V.jsx)(x.a,{children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",disabled:3===a.type&&!a.superAdmin&&!s||0===o.firstName.trim().length||0===o.lastName.trim().length||o.title===i.title&&o.firstName===i.firstName&&o.lastName===i.lastName&&o.email===i.email&&(i.linkedin&&o.linkedin&&o.linkedin===i.linkedin||!o.linkedin&&!i.linkedin||o.linkedin&&!i.linkedin&&!ur(o.linkedin)||o.linkedin&&i.linkedin&&!ur(o.linkedin)),onClick:function(){return e.props.commitUserProfileChanges(il)},children:"Save"})})]}),3!==a.type||a.superAdmin||s?null:Object(V.jsx)(A.a,{variant:"body1",color:"error",align:"right",style:{marginTop:25},children:"This user is not a home member of your group. So, you cannot edit their profile."})]})]})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{marginTop:20},children:Object(V.jsx)(Z.a,{})})]}),Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:at},children:[Object(V.jsx)(E.a,{xs:12,md:12,lg:12,style:{padding:24},children:this.renderBusinessProfile()}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})})]}),1!==i.type?null:Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:be},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{paddingLeft:24,paddingRight:24,paddingTop:24,paddingBottom:35},children:this.renderSelfCertificationAgreement()}),Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})})]}),3!==a.type?null:Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:at},children:[2!==i.type?null:Object(V.jsx)(E.a,{xs:12,md:12,lg:12,style:{padding:24},children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Fundraising summary"}),Object(V.jsx)(x.a,{column:!0,marginTop:20,children:Object(V.jsx)($d,{directTableUser:i})})]})}),2!==i.type?null:Object(V.jsx)(E.a,{xs:12,md:12,lg:12,style:{marginTop:20},children:Object(V.jsx)(Z.a,{})})]}),3!==a.type?null:Object(V.jsx)(I.a,{noGutters:!0,style:{backgroundColor:at},children:Object(V.jsxs)(E.a,{xs:12,md:12,lg:12,style:{padding:24},children:[Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Activities"})}),Object(V.jsx)(x.a,{column:!0,marginTop:20,children:Object(V.jsx)(Ec,{})})]})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(tu,{position:"relative"})})})]}):null}}]),r}(n.Component),nu=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,currentUser:e.auth.user,clubAttributes:e.manageClubAttributes.clubAttributes,createBusinessProfile:e.createBusinessProfile,originalUser:e.editUser.originalUser,userEdited:e.editUser.userEdited,allowEditing:e.editUser.allowEditing,investorSelfCertificationAgreement_userID:e.manageInvestorSelfCertificationAgreement.userID,investorSelfCertificationAgreement:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreement,investorSelfCertificationAgreementLoaded:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementLoaded,investorSelfCertificationAgreementBeingLoaded:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementBeingLoaded,investorSelfCertificationAgreementCheckBox1Checked:e.manageInvestorSelfCertificationAgreement.checkBox1Ticked,investorSelfCertificationAgreementCheckBox2Checked:e.manageInvestorSelfCertificationAgreement.checkBox2Ticked,investorSelfCertificationAgreementCheckBox3Checked:e.manageInvestorSelfCertificationAgreement.checkBox3Ticked,investorSelfCertificationAgreementStatementType:e.manageInvestorSelfCertificationAgreement.statementType,legalDocuments_userID:e.legalDocuments.userID,userLegalDocuments:e.legalDocuments.legalDocuments,userLegalDocumentsLoaded:e.legalDocuments.legalDocumentsLoaded,userLegalDocumentsBeingLoaded:e.legalDocuments.legalDocumentsBeingLoaded,toBeUploadedLegalDocuments:e.uploadFiles.filesToBeUploaded.legalDocuments,fileUploadErrorMessage:e.uploadFiles.fileUploadErrorMessage,fileUploadErrorSnackbarOpen:e.uploadFiles.fileUploadErrorSnackbarOpen,addNewDirector:e.editUser.addNewDirector,newDirectorText:e.editUser.newDirectorText}}),(function(e){return{handleCreateBusinessProfileTextChanged:function(t,r){return e(function(e,t){return{type:e,fieldName:t.target.name,fieldValue:t.target.value}}(t,r))},searchAddress:function(t){return e(function(e){return function(t,r){if(e===Rc){var n=r().createBusinessProfile.registeredOfficeSearchPostcode;if(0===n.trim().length)return;sr(n).then((function(e){t({type:Uc,results:e})})).catch((function(e){t({type:Uc,results:null})}))}else if(e===Lc){var a=r().createBusinessProfile.tradingAddressSearchPostcode;if(0===a.trim().length)return;sr(a).then((function(e){t({type:Bc,results:e})})).catch((function(e){t({type:Bc,results:null})}))}}}(t))},toggleEnterAddressManually:function(t){return e(function(e){return e===Mc?{type:Mc}:e===qc?{type:qc}:void 0}(t))},toggleTradingAddressSameAsRegisteredOffice:function(t){return e(function(e){return{type:Wc,checked:e}}(t))},resetCreatingBusinessProfile:function(){return e({type:Qc})},handleRecommendedAddressSelected:function(t,r){return e(function(e,t){return function(r,n){if(e===Fc){var a=n().createBusinessProfile.registeredOfficeRecommendedAddresses.apiAddresses[t];r({type:Fc,selectedAddress:a})}else if(e===Gc){var i=n().createBusinessProfile.tradingAddressRecommendedAddresses.apiAddresses[t];r({type:Gc,selectedAddress:i})}}}(t,r))},toggleExpandBusinessProfileFillingForInvestor:function(){return e({type:Vc})},uploadBusinessProfile:function(){return e((function(e,t){var r=Object.assign({},t().auth.user),n=t().createBusinessProfile.logoToBeUploaded,a=t().createBusinessProfile.videoToBeUploaded,i=Object.assign({},t().createBusinessProfile.BusinessProfile);t().createBusinessProfile.tradingAddressSameAsRegisteredOffice&&(i.tradingAddress=i.registeredOffice),Vr(e,r,t().editImage,n).then((function(){a?sn(e,r,t().editVideo,a).then((function(){Hc(e,r,i)})).catch((function(t){e({type:Er,message:"Error happened. We couldn't upload your video.",color:"error",position:"bottom"})})):Hc(e,r,i)})).catch((function(t){e({type:Er,message:"Error happened. We couldn't upload your logo.",color:"error",position:"bottom"})}))}))},editUserLocally:function(t,r){return e(function(e,t){return function(r,n){r({type:e,edit:{property:t.property,value:t.value}})}}(t,r))},toggleAddNewDirector:function(){return e({type:el})},addNewDirectorTemporarily:function(t){return e(function(e){return function(t,r){t({type:tl,isEditingExistingBusinessProfile:e,director:r().editUser.newDirectorText})}}(t))},deleteDirectorTemporarily:function(t,r){return e(function(e,t){return{type:rl,index:e,isEditingExistingBusinessProfile:t}}(t,r))},cancelEditingUser:function(t){return e(function(e){return{type:e}}(t))},commitUserProfileChanges:function(t){return e(function(e){return function(t,r){var n=r().auth.user,a=JSON.parse(JSON.stringify(r().editUser.originalUser)),i=JSON.parse(JSON.stringify(r().editUser.userEdited)),o=R.database().ref(ht).child(i.id);if(e===il)o.update({title:i.title,firstName:i.firstName,lastName:i.lastName,email:i.email,linkedin:i.linkedin&&i.linkedin.trim().length>0?i.linkedin:null}).then((function(){t({type:Er,message:3===n.type?"User's personal details have been updated.":"Your personal details have been updated.",color:"primary",position:"bottom"}),aa({userID:n.id,activityType:4,interactedObjectLocation:ht,interactedObjectID:i.id,activitySummary:n.id===i.id?"Updated personal details.":"Updated personal details of %user%.".replace("%user%",i.firstName+" "+i.lastName),action:n.id===i.id?null:kn.replace(":userID",i.id),value:{before:a,after:i}})})).catch((function(e){t({type:Er,message:3===n.type?"Error happened. Couldn't update this user's personal details.":"Error happened. We couldn't update your personal details.",color:"error",position:"bottom"})}));else if(e===ol){var s=JSON.parse(JSON.stringify(i.BusinessProfile));s.registeredOffice.postcode=s.registeredOffice.postcode.toUpperCase(),s.tradingAddress.postcode=s.tradingAddress.postcode.toUpperCase(),o.update({BusinessProfile:s}).then((function(){t({type:Er,message:3===n.type?"User's business profile has been updated.":"Your business profile has been updated.",color:"primary",position:"bottom"}),aa({userID:n.id,activityType:4,interactedObjectLocation:ht,interactedObjectID:i.id,activitySummary:n.id===i.id?"Updated business profile.":"Updated business profile of %user%.".replace("%user%",i.firstName+" "+i.lastName),action:n.id===i.id?null:kn.replace(":userID",i.id),value:{before:a,after:i}})})).catch((function(e){t({type:Er,message:3===n.type?"Error happened. Couldn't update this user's business profile.":"Error happened. We couldn't update your business profile.",color:"error",position:"bottom"})}))}}}(t))},investorSelfCertificationAgreement_setUser:function(t){return e(Ll(t))},loadInvestorSelfCertificationAgreement:function(){return e(Gl())},setInvestorSelfCertificationAgreement:function(){return e((function(e,t){var r=t().manageInvestorSelfCertificationAgreement,n=r.userID,a=r.statementType,i=R.database().ref(bt).push().key,o=(new Date).getTime(),s={id:i,userID:n,agreedDate:$t(),selfCertificationTimestamp:o,type:a};R.database().ref(bt).child(i).set(s).then((function(){aa({userID:n,activityType:4,interactedObjectLocation:bt,interactedObjectID:i,activitySummary:"Completed self certification."}),e({type:ql,agreement:s}),e({type:Er,message:"You have now self certified.",color:"primary",position:"bottom"})})).catch((function(t){e({type:ql,agreement:null}),e({type:Er,message:"Error happened. We couldn't upload your self-certification statement.",color:"error",position:"bottom"})}))}))},investorSelfCertificationAgreement_handleCheckBoxChanged:function(t){return e(function(e){return{type:Ml,event:e}}(t))},investorSelfCertificationAgreement_handleStatementTypeChanged:function(t){return e(function(e){return{type:Wl,event:e}}(t))},legalDocuments_setUserID:function(t){return e(function(e){return{type:El,userID:e}}(t))},getUserLegalDocuments:function(){return e((function(e,t){var r=t().legalDocuments.userID;e({type:Dl}),R.database().ref(Tt).child(r).once("value",(function(t){t&&t.exists()?e({type:Tl,legalDocuments:t.val()}):e({type:Tl,legalDocuments:null,error:"No legal documents"})}))}))},startListeningForLegalDocumentsChanged:function(){return e((function(e,t){var r=t().legalDocuments.userID;kl||(kl=R.database().ref(Tt).child(r)).once("value",(function(r){r&&r.exists()?(kl.on("child_added",(function(r){var n=Object.assign([],t().legalDocuments.legalDocuments);0===n.length?n=[r.val()]:-1===n.findIndex((function(e){return e.storageID===r.val().storageID}))&&n.push(r.val()),e({type:Nl,legalDocuments:n})})),kl.on("child_changed",(function(r){var n=Object(gn.a)(t().legalDocuments.legalDocuments);n[r.key]=r.val(),e({type:Nl,legalDocuments:n})}))):kl=null}))}))},stopListeningForLegalDocumentsChanged:function(){return e((function(e,t){kl&&(kl.off("child_added"),kl.off("child_changed"),kl=null)}))},handleFilesChanged:function(t,r,n,a){return e(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(n,a){var i=a().uploadFiles.fileUploadErrorMessage,o=a().uploadFiles.fileUploadErrorSnackbarOpen;if(!(i.trim().length>0||o)){var s=new FileReader;s.addEventListener("load",(function(){var i={file:t[t.length-1],preview:s.result};switch(e){case 6:var o=a().uploadFiles.filesToBeUploaded.legalDocuments;if(2===r.type){if(r.LegalDocuments){if(o.length>=2-r.LegalDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length)return void n({type:ul,error:"Max file count reached"})}else if(o.length>=2)return void n({type:ul,error:"Max file count reached"})}else{if(1!==r.type)return;if(o.length>=1)return void n({type:ul,error:"Max file count reached"})}break;case 8:case 9:case H:default:return}n({type:dl,mode:e,fileRead:i})})),s.readAsDataURL(t[t.length-1])}}}(t,r,n,a))},handleFileError:function(t,r){return e(function(e,t){return function(t,r){var n=e.message;n=n.charAt(0).toUpperCase()+n.slice(1),t({type:ul,error:n})}}(t))},closeFileUploadSnackbarError:function(){return e({type:pl})},resetErrorMessageWhenFileUploadSnackbarExited:function(){return e({type:hl})},deleteToBeUploadedFile:function(t,r){return e(function(e,t){return function(r,n){var a=null;switch(e){case Ol:a=JSON.parse(JSON.stringify(n().uploadFiles.filesToBeUploaded.legalDocuments));break;case xl:a=JSON.parse(JSON.stringify(n().uploadFiles.filesToBeUploaded.pitchCover));break;case vl:a=JSON.parse(JSON.stringify(n().uploadFiles.filesToBeUploaded.pitchPresentationDocument));break;case yl:a=JSON.parse(JSON.stringify(n().uploadFiles.filesToBeUploaded.pitchSupportingDocuments));break;default:return}a.splice(t,1),r({type:fl,mode:e,updatedFilesToBeUploaded:a})}}(t,r))},deleteUploadedFile:function(t,r,n,a){return e(function(e,t){return function(r,n){switch(e){case jl:var a=n().legalDocuments.userID,i=Object(gn.a)(n().legalDocuments.legalDocuments);return i[t].removed=!0,void R.database().ref(Tt).child(a).update(i);case gl:case bl:case ml:default:return}}}(t,r))},uploadFiles:function(t,r,n){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(n,a){var i=[];switch(e){case 6:i=a().uploadFiles.filesToBeUploaded.legalDocuments;break;case 8:i=a().uploadFiles.filesToBeUploaded.pitchCover;break;case 9:i=a().uploadFiles.filesToBeUploaded.pitchPresentationDocument;break;case H:i=a().uploadFiles.filesToBeUploaded.pitchSupportingDocuments;break;default:return}n({type:W,mode:e,progress:0}),Promise.all(i.map((function(a){return _l(n,e,a,i.length,t,r)}))).then((function(){n({type:Sl,mode:e,waitingForUploadingReferences:!0}),Il(n,a,e,t,r).then((function(){n({type:Sl,mode:e,waitingForUploadingReferences:!1})})).catch((function(e){}))})).catch((function(e){n({type:W,mode:z,progress:100,error:e})}))}}(t,r,n))},toggleEditImageDialog:function(t){return e(Nr(t))},toggleEditVideoDialog:function(t){return e($r(t))}}}))(ru),au=v.a.create({upload_files_area_style:{padding:12,textAlign:"center",border:"1px solid ".concat(Ae),":hover":{backgroundColor:Pe,cursor:"pointer"}},address_list:{backgroundColor:Pe,borderRadius:3,padding:4,width:"90%",position:"relative",overflow:"auto",maxHeight:300},enter_address_manually:{marginTop:6,":hover":{color:we,cursor:"pointer",textDecoration:"underline"}}}),iu=r(186),ou=r(775),su=r(415),cu=r(65),lu=r.n(cu),du=r(404),uu=r.n(du),pu="TOGGLE_NOTIFICATIONS",hu=function(e){return function(e,t){var r=t().manageNotifications.notificationsAnchorEl,n=t().manageNotifications.notificationBellRef;e(r?{type:pu,notificationsAnchorEl:null}:{type:pu,notificationsAnchorEl:n})}},ju="NOTIFICATIONBELL_REF",gu=function(e){return function(t,r){t({type:ju,notificationBellRef:e})}},bu="LOADING_NOTIFICATIONS",mu="FINISHED_LOADING_NOTIFICATIONS",fu=null,Ou="NOTIFICATIONS_LIST_CHANGED",xu=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).wrapperRef=a.a.createRef(),n.handleClickOutside=n.handleClickOutside.bind(Object(iu.a)(n)),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.loadNotifications)(),document.addEventListener("mouseup",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.loadingNotifications,i=n.notificationsLoaded,o=n.startListeningForNotificationsChanged;!a&&i&&o()}},{key:"componentWillUnmount",value:function(){(0,this.props.stopListeningForNotificationsChanged)(),document.removeEventListener("mouseup",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){var t=this.props,r=t.toggleNotifications,n=t.notificationBellRef;!this.wrapperRef||this.wrapperRef.current.contains(e.target)||n.contains(e.target)||r(e)}},{key:"render",value:function(){var e=this.props,t=e.groupUserName,r=e.groupProperties,n=e.groupPropertiesLoaded,a=e.notificationsAnchorEl,i=e.notifications,o=e.notificationsLoaded,s=e.toggleNotifications,c=e.deleteANotification,l=e.deleteAllNotifications;return n?Object(V.jsx)("div",{ref:this.wrapperRef,children:Object(V.jsx)(ou.a,{open:Boolean(a),anchorEl:a,placement:"bottom-start",disablePortal:!1,transition:!0,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"scrollParent"}},style:{zIndex:100},children:function(e){var n=e.TransitionProps;return Object(V.jsx)(su.a,Object(b.a)(Object(b.a)({},n),{},{timeout:350,children:Object(V.jsx)(Fi.a,{elevation:4,square:!0,children:Object(V.jsx)(_.a,{fluid:!0,style:{padding:0,maxWidth:600},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{paddingLeft:15,paddingRight:15,paddingTop:6,paddingBottom:6,backgroundColor:at},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:10,sm:10,md:10,lg:10,children:Object(V.jsx)(x.a,{height:"100%",vAlignContent:"center",children:Object(V.jsx)(A.a,{variant:"body1",children:"Notifications"})})}),Object(V.jsx)(E.a,{xs:2,sm:2,md:2,lg:2,children:Object(V.jsx)(x.a,{hAlignContent:"right",children:Object(V.jsx)(C.a,{style:{width:44,height:44},onClick:s,children:Object(V.jsx)(ie.a,{fontSize:"small"})})})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})}),0===i.length?null:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{paddingTop:5,paddingBottom:5,paddingRight:18},children:Object(V.jsx)(x.a,{hAlignContent:"right",children:Object(V.jsxs)(G.a,{variant:"text",className:Object(v.b)(ot.no_text_transform,yu.clear_all_text),size:"medium",onClick:l,children:[Object(V.jsx)(uu.a,{style:{marginRight:6}}),"Clear all"]})})}),0===i.length?null:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,style:{minHeight:0===i.length?300:"None",maxHeight:500,overflowY:"auto"},children:o?0===i.length?Object(V.jsxs)(x.a,{column:!0,height:"100%",vAlignContent:"center",hAlignContent:"center",children:[Object(V.jsx)(S.a,{className:Object(v.b)(yu.notifications_placeholder_icon)}),Object(V.jsx)(A.a,{variant:"body1",children:"Your notifications live here"})]}):Object(V.jsx)(ji.a,{component:"ul",style:{padding:0},children:i.sort((function(e,t){return t.date-e.date})).map((function(e){return Object(V.jsx)(gi.a,{component:"li",divider:!0,className:Object(v.b)(yu.notification_item),children:Object(V.jsxs)(I.a,{noGutters:!0,style:{width:"100%",paddingTop:13,paddingBottom:13},children:[Object(V.jsx)(E.a,{xs:10,sm:10,md:11,lg:11,style:{paddingRight:10},children:Object(V.jsx)(m.b,{to:t?"".concat(An.replace(":groupUserName",t)).concat(e.action):e.action,className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),onClick:function(){return c(e)},children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(S.a,{className:Object(v.b)(yu.notification_item_icon)}),Object(V.jsxs)(x.a,{column:!0,marginLeft:14,children:[Object(V.jsx)(A.a,{variant:"body1",className:Object(v.b)(yu.black_text),children:e.title}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",style:{marginTop:4},children:e.message}),Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",style:{marginTop:10},children:[Object(V.jsxs)("u",{children:["Sent:",rr(e.date)]})," "]})]})]})})}),Object(V.jsx)(E.a,{xs:2,sm:2,md:1,lg:1,style:{paddingLeft:8,paddingRight:8},children:Object(V.jsx)(x.a,{width:"100%",height:"100%",vAlignContent:"center",hAlignContent:"center",children:Object(V.jsx)(C.a,{onClick:function(){return c(e)},children:Object(V.jsx)(lu.a,{fontSize:"small"})})})})]})},e.id)}))}):Object(V.jsx)(x.a,{column:!0,height:"100%",vAlignContent:"center",hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})})})]})})})}))}})}):null}}]),r}(n.Component),vu=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,notificationsAnchorEl:e.manageNotifications.notificationsAnchorEl,notificationBellRef:e.manageNotifications.notificationBellRef,notifications:e.manageNotifications.notifications,loadingNotifications:e.manageNotifications.loadingNotifications,notificationsLoaded:e.manageNotifications.notificationsLoaded}}),(function(e){return{toggleNotifications:function(t){return e(hu())},loadNotifications:function(){return e((function(e,t){var r=t().auth.user;r&&(e({type:bu}),Ja(r.hasOwnProperty("anid")?r.anid:r.id).then((function(t){e({type:mu,notifications:t})})).catch((function(t){e({type:mu,notifications:[]})})))}))},deleteANotification:function(t){return e(function(e){return function(t,r){R.database().ref(_t).child(e.id).remove().then((function(){t({type:pu,notificationsAnchorEl:null})}))}}(t))},deleteAllNotifications:function(){return e((function(e,t){var r=t().auth.user;r&&za(r.hasOwnProperty("anid")?r.anid:r.id)}))},startListeningForNotificationsChanged:function(){return e((function(e,t){if(!fu){var r=t().auth.user;if(!r)return;(fu=R.database().ref(_t).orderByChild("userID").equalTo(r.hasOwnProperty("anid")?r.anid:r.id)).on("child_added",(function(r){var n=r.val(),a=Object(gn.a)(t().manageNotifications.notifications);-1===a.findIndex((function(e){return e.id===n.id}))&&e({type:Ou,notifications:[].concat(Object(gn.a)(a),[n])})})),fu.on("child_removed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageNotifications.notifications),i=a.findIndex((function(e){return e.id===n.id}));-1!==i&&(a.splice(i,1),e({type:Ou,notifications:a}))}))}}))},stopListeningForNotificationsChanged:function(){return e((function(e,t){fu&&(fu.off("child_added"),fu.off("child_removed"),fu=null)}))}}}))(xu),yu=v.a.create({black_text:{color:ge},notifications_placeholder_icon:{width:70,height:"auto",color:ye,marginBottom:10},notification_item_icon:{width:36,height:"auto",color:ye},clear_all_text:{color:we},notification_item:{paddingLeft:10,paddingRight:10,paddingTop:0,paddingBottom:0,":hover":{cursor:"pointer",backgroundColor:ve}}}),Au=r(56),Cu=r.n(Au);!function(e){e.FetchingOffers="ExploreOffersEvents.FetchingOffers",e.CompleteFetchingOffers="ExploreOffersEvents.CompleteFetchingOffers",e.FilterChanged="ExploreOffersEvents.FilterChanged",e.ClearSearchFilter="ExploreOffersEvents.ClearSearchFilter",e.PaginationChanged="ExploreOffersEvents.PaginationChanged"}(ud||(ud={}));var Pu,wu=function(){return function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l,d,u;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().ExploreOffersLocalState,a=n.searchFilter,i=n.visibilityFilter,o=n.sectorFilter,s=n.phaseFilter,c=n.groupFilter,l=s===td.ExpiredPitch?ed.Group:ed.Phase,d={search:0===a.trim().length?void 0:a,visibility:i,group:"all"===c?void 0:c,sector:"all"===o?void 0:o,phase:s,orderBy:l},t({type:ud.FetchingOffers}),e.prev=4,e.next=7,(new dd).fetchOffers(d);case 7:u=e.sent,t({type:ud.CompleteFetchingOffers,offerInstances:u.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t({type:ud.CompleteFetchingOffers,error:e.t0.toString(),offerInstances:[]});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,r){return e.apply(this,arguments)}}()},Su=12,_u={offerInstances:[],fetchingOffers:!1,offersFetched:!1,groups:[],searchFilter:"",visibilityFilter:"all",sectorFilter:"all",phaseFilter:td.Live,groupFilter:"all",currentPage:1},Iu=function(e){return e.fetchingOffers},Eu=function(e){return e.offersFetched&&!e.fetchingOffers&&void 0===e.error},Du=function(e){return Eu(e)&&e.offerInstances.length>0},Tu=function(e){return e.searchFilter.trim().length>0},ku=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ud.FetchingOffers:return Object(b.a)(Object(b.a)({},t),{},{offerInstances:[],fetchingOffers:!0,offersFetched:!1,error:void 0});case ud.CompleteFetchingOffers:var n=r;return Object(b.a)(Object(b.a)({},t),{},{offerInstances:Object(gn.a)(n.offerInstances),fetchingOffers:!1,offersFetched:!0,currentPage:1,error:void 0!==n.error?{detail:n.error}:t.error});case ud.FilterChanged:var a=r;return Object(b.a)(Object(b.a)({},t),{},(e={},Object(Bi.a)(e,a.name,a.value),Object(Bi.a)(e,"offerInstances",[]),Object(Bi.a)(e,"fetchingOffers",!1),Object(Bi.a)(e,"offersFetched",!1),Object(Bi.a)(e,"currentPage",1),Object(Bi.a)(e,"error",void 0),e));case ud.ClearSearchFilter:return Object(b.a)(Object(b.a)({},t),{},{searchFilter:""});case ud.PaginationChanged:var i=r;return Object(b.a)(Object(b.a)({},t),{},{currentPage:i.page});default:return t}},Nu=(r(366),function(e){return e?0===e.plainLogo.length?null:e.plainLogo[e.plainLogo.findIndex((function(e){return void 0===e.removed}))].url:null}),Ru=180,Uu=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e,t,r,n=this.props,a=n.ManageGroupUrlState,i=n.AuthenticationState,o=n.offerInstance;if(!i.currentUser)return null;var s=function(e){if(void 0===e.Pitch.cover)return null;var t=e.Pitch.cover.findIndex((function(e){return void 0===e.removed||!e.removed}));return-1===t?null:e.Pitch.cover[t]}(o.projectDetail);return Object(V.jsx)(Ad,{url:yn.constructProjectDetailRoute(null!==(e=a.groupNameFromUrl)&&void 0!==e?e:null,o.projectDetail.id),color:"none",activeColor:"none",activeUnderline:!1,component:"nav-link",childComponent:Object(V.jsx)(Vl.a,{border:"1px solid ".concat(Hl.a.grey[300]),children:Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsxs)(Vl.a,{className:"offer-image",height:"".concat(Ru,"px"),width:"100%",bgcolor:"#F3F7F9",children:[Jd(i.currentUser,i.groupsOfMembership,o.projectDetail)?Object(V.jsx)(Vl.a,{display:"flex",width:"100%",height:Ru,justifyContent:"center",children:Object(V.jsx)(te.a,{src:null!==(t=Nu(o.group))&&void 0!==t?t:"",width:"auto",height:Ru,style:{padding:20,objectFit:"scale-down"}})}):s?Wd(s)?Object(V.jsx)(te.a,{src:s.url,width:"100%",height:Ru,style:{objectFit:"contain"}}):Object(V.jsx)(Xr.a,{url:s.url,light:!1,width:"100%",height:Ru,playing:!1,controls:!1}):null,Object(V.jsx)(te.a,{src:null!==(r=Nu(o.group))&&void 0!==r?r:"",roundedCircle:!0,height:46,width:46,style:{position:"absolute",right:0,top:0,zIndex:1,padding:"5px",marginTop:"5px",marginRight:"5px",backgroundColor:Hl.a.grey[300],objectFit:"contain"}})]}),Object(V.jsx)(Z.a,{}),Object(V.jsxs)(Vl.a,{padding:"14px",className:"project-title",children:[Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(Vl.a,{marginY:"6px",children:Object(V.jsx)(A.a,{noWrap:!0,variant:"h6",align:"left",children:Jd(i.currentUser,i.groupsOfMembership,o.projectDetail)?"Members only offer":o.projectDetail.projectName})}),Object(V.jsx)(Vl.a,{color:Hl.a.grey[700],children:Object(V.jsx)("title",{className:"projectInfo",children:Jd(i.currentUser,i.groupsOfMembership,o.projectDetail)?"in ".concat(o.projectDetail.sector," sector"):o.projectDetail.description})}),Object(V.jsx)(Vl.a,{color:"black",marginTop:"8px",className:"issuer-offer",children:Object(V.jsx)(A.a,{variant:"body2",noWrap:!0,children:Jd(i.currentUser,i.groupsOfMembership,o.projectDetail)||qd(o.projectDetail)?"by ".concat(o.group.displayName):"by ".concat(o.issuer.firstName," ").concat(o.issuer.lastName)})})]}),Object(V.jsx)(Vl.a,{bgcolor:sd(a).palette.primary.main,className:"offer-divier"}),Object(V.jsxs)(Vl.a,{className:"phase-offer",children:[Object(V.jsx)(A.a,{variant:"body2",color:"primary",align:"left",children:o.projectDetail.Pitch.fundRequired?"\xa3".concat(Number(o.projectDetail.Pitch.fundRequired.toFixed(2)).toLocaleString()," goal"):""}),Object(V.jsx)(Vl.a,{marginTop:"5px",children:Object(V.jsx)(A.a,{variant:"body2",align:"left",color:"textSecondary",children:Id(o.projectDetail)?"".concat(or(o.projectDetail.Pitch.expiredDate)," days to go"):"Offer expired"})})]}),Object(V.jsxs)(Vl.a,{className:"badges",color:sd(a).palette.primary.main,children:[Object(V.jsx)(Vl.a,{children:"Yes"===o.projectDetail.Pitch.hasSEIS?Object(V.jsx)(E.a,{className:"seis",children:Object(V.jsx)(A.a,{className:"text-badges",variant:"body2",align:"center",children:Object(V.jsx)("b",{children:" SEIS "})})}):null}),Object(V.jsx)(Vl.a,{children:"Yes"===o.projectDetail.Pitch.hasEIS?Object(V.jsx)(E.a,{className:"eis",children:Object(V.jsx)(A.a,{className:"text-badges",variant:"body2",align:"center",children:Object(V.jsx)("b",{children:" EIS "})})}):null}),Object(V.jsx)(Vl.a,{className:"public-offer",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"bottom",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:Qd(o.projectDetail)?"This is a public offer.":Vd(o.projectDetail)?"This is a restricted offer.":Hd(o.projectDetail)?"This is a private offer.":null}),children:Qd(o.projectDetail)?Object(V.jsx)(tc.a,{}):Vd(o.projectDetail)?Object(V.jsx)(wd.a,{}):Hd(o.projectDetail)?Object(V.jsx)(_d.a,{}):Object(V.jsx)(Vl.a,{})})})]})]})]})})})})})}}]),r}(n.Component),Lu=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState}}))(Uu),Bu=r(803),Fu=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.ManageSystemAttributesState,r=e.ManageGroupUrlState;if(!t.systemAttributes)return null;var n=t.systemAttributes.riskWarningFooter,a=(n=n.split("%groupName%").join(r.group?r.group.displayName:"Invest West")).split("%URL%"),i=a[1];return Object(V.jsxs)(Vl.a,{border:"1px solid ".concat(Hl.a.grey[600]),borderRadius:"24px",padding:"24px",bgcolor:Hl.a.grey[100],children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("u",{children:"Risk warning"})}),Object(V.jsx)(Vl.a,{marginTop:"18px",whiteSpace:"pre-line",children:Object(V.jsxs)(A.a,{variant:"body1",align:"justify",children:[a[0],Object(V.jsx)(Ad,{url:yn.nonGroupRiskWarning,target:"_blank",color:sd(r).palette.error.main,activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:i}),a[2]]})})]})}}]),r}(n.Component),Gu=Object(q.b)((function(e){return{ManageSystemAttributesState:e.ManageSystemAttributesState,ManageGroupUrlState:e.ManageGroupUrlState}}))(Fu),Mu=r(66),qu=r.n(Mu),Wu=r(106),Qu=r.n(Wu),Vu=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).fetchGroups=Object(Xt.a)(Kt.a.mark((function e(){var t;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new $l).fetchGroups();case 3:t=e.sent,n.setState({groups:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching groups:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={groups:[]},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e;(e=this.props.ExploreOffersLocalState).fetchingOffers||e.offersFetched||this.props.fetchOffers(ed.Phase),this.fetchGroups()}},{key:"render",value:function(){var e,t,r=this.props,n=r.MediaQueryState,a=r.ManageSystemAttributesState,i=r.ManageGroupUrlState,o=r.AuthenticationState,s=r.ExploreOffersLocalState,c=r.fetchOffers,l=r.filterChanged,d=r.clearSearchFilter,u=r.paginationChanged,p=r.onSearchEnter,h=(t=s).offerInstances.length<=Su?1:t.offerInstances.length%Su===0?t.offerInstances.length/Su|0:1+(t.offerInstances.length/Su|0),j=function(e){var t,r;return(r=(t=(e.currentPage-1)*Su)+Su-1)>e.offerInstances.length-1&&(r=e.offerInstances.length-1),{startIndex:t,endIndex:r}}(s);return Object(V.jsxs)(Vl.a,{paddingX:n.isMobile?"20px":"56px",paddingY:n.isMobile?"15px":"40px",children:[Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Vl.a,{paddingY:"6px",children:[Object(V.jsx)(A.a,{variant:"body1",children:"Group:"}),Object(V.jsx)(Vl.a,{height:"8px"}),Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Ws.a,{fullWidth:!0,variant:"outlined",name:"groupFilter",value:s.groupFilter,onChange:l,input:Object(V.jsx)(Qs.a,{}),children:[Object(V.jsx)(Vs.a,{value:"all",children:"All"},"all"),this.state.groups.map((function(e){return Object(V.jsx)(Vs.a,{value:e.anid,children:e.displayName},e.anid)}))]})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Vl.a,{paddingY:"6px",children:[Object(V.jsx)(A.a,{variant:"body1",children:"Sector:"}),Object(V.jsx)(Vl.a,{height:"8px"}),Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Ws.a,{fullWidth:!0,variant:"outlined",name:"sectorFilter",value:s.sectorFilter,onChange:l,input:Object(V.jsx)(Qs.a,{}),children:[Object(V.jsx)(Vs.a,{value:"all",children:"All sectors"},"all"),a.systemAttributes?a.systemAttributes.Sectors.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)})):null]})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,children:Object(V.jsxs)(Vl.a,{paddingY:"6px",children:[Object(V.jsx)(A.a,{variant:"body1",children:"Status:"}),Object(V.jsx)(Vl.a,{height:"8px"}),Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Ws.a,{fullWidth:!0,variant:"outlined",name:"phaseFilter",value:s.phaseFilter,onChange:l,input:Object(V.jsx)(Qs.a,{}),children:[Object(V.jsx)(Vs.a,{value:td.Live,children:"Live"},td.Live),Object(V.jsx)(Vs.a,{value:td.ExpiredPitch,children:"Expired"},td.ExpiredPitch)]})})]})})]}),Object(V.jsx)(I.a,{style:{marginTop:40},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:8,lg:4,children:Object(V.jsx)(Vl.a,{width:"100%",height:"100%",bgcolor:"white",border:2,borderColor:Hl.a.grey[300],borderRadius:"20px",paddingX:"5px",paddingY:"8px",children:Object(V.jsx)("form",{onSubmit:p,children:Object(V.jsx)(Jl.a,{fullWidth:!0,name:"searchFilter",value:s.searchFilter,placeholder:"Search name, group or issuer",onChange:l,disabled:!Eu(s),startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(C.a,{type:"submit",onClick:function(){return c(ed.Phase)},disabled:!Eu(s),children:Object(V.jsx)(Kl.a,{fontSize:"small"})})}),endAdornment:Tu(s)?Object(V.jsx)(Mi.a,{position:"end",children:Object(V.jsx)(C.a,{onClick:function(){return d()},children:Object(V.jsx)(Xl.a,{fontSize:"small"})})}):null})})})})}),Iu(s)?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Vl.a,{display:"flex",marginY:"50px",justifyContent:"center",children:Object(V.jsx)(k.BeatLoader,{color:sd(i).palette.primary.main})})})}):null,Eu(s)?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Du(s)?Object(V.jsxs)(Vl.a,{children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"50px",marginBottom:"25px",children:[Object(V.jsx)(A.a,{variant:"h6",children:"Explore"}),Object(V.jsxs)(A.a,{variant:"h6",color:"primary",children:["\xa0",Object(V.jsxs)("b",{children:[s.offerInstances.length," offers"]})]}),Object(V.jsx)(Vl.a,{marginLeft:"8px",children:Object(V.jsx)(C.a,{onClick:function(){return c(ed.Phase)},children:Object(V.jsx)(Qu.a,{})})})]}),o.currentUser&&xn(o.currentUser)?Object(V.jsx)(Vl.a,{marginBottom:"40px",children:Object(V.jsx)(Ad,{url:yn.constructCreateProjectRoute(null!==(e=i.groupNameFromUrl)&&void 0!==e?e:null),color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsxs)(G.a,{size:"medium",variant:"contained",color:"primary",className:Object(v.b)(ot.no_text_transform),children:[Object(V.jsx)(Vl.a,{marginRight:"8px",children:Object(V.jsx)(qu.a,{fontSize:"small"})}),"Create new offer"]})})}):null,Object(V.jsx)(I.a,{children:s.offerInstances.slice(j.startIndex,j.endIndex+1).map((function(e){return Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:3,children:Object(V.jsx)(Vl.a,{margin:"16px",children:Object(V.jsx)(Lu,{offerInstance:e})})},e.projectDetail.id)}))})]}):Object(V.jsx)(Vl.a,{marginY:"80px",children:Object(V.jsx)(A.a,{align:"center",variant:"h5",children:"There are no offers available using your current filter criteria"})})})}):null,Eu(s)?1===h?null:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",marginTop:"55px",children:Object(V.jsx)(Bu.a,{count:h,page:s.currentPage,color:"primary",onChange:u})})})}):null,Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Vl.a,{marginTop:"100px",children:Object(V.jsx)(Gu,{})})})})]})}}]),r}(n.Component),Hu=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageSystemAttributesState:e.ManageSystemAttributesState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,ExploreOffersLocalState:e.ExploreOffersLocalState}}),(function(e){return{onSearchEnter:function(t){return e(function(e){return function(t,r){return e.preventDefault(),t(wu(ed.Phase))}}(t))},fetchOffers:function(t){return e(wu(t))},filterChanged:function(t){return e(function(e){return function(t,r){var n=e.target.name,a=e.target.value;switch(t({type:ud.FilterChanged,name:n,value:a}),n){case"searchFilter":return;case"visibilityFilter":return"all"===a||a.toString()===3..toString()||a.toString()===2..toString()?t(wu(ed.Visibility)):t(wu(ed.Group));case"sectorFilter":return t(wu(ed.Sector));case"phaseFilter":return t(wu(ed.Phase));case"groupFilter":return t(wu("all"===a?void 0:ed.Group));default:return}}}(t))},clearSearchFilter:function(){return e((function(e,t){return e({type:ud.ClearSearchFilter}),e(wu(ed.Phase))}))},paginationChanged:function(t,r){return e(function(e,t){return function(e,r){return e({type:ud.PaginationChanged,page:t})}}(0,r))}}}))(Vu),Ju=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"fetchAccessRequests",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.listAccessRequestsRoute,{requestBody:null,queryParameters:null!==t&&void 0!==t?t:null});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAccessRequest",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("post",ta.createAccessRequestRoute,{queryParameters:null,requestBody:{userID:t,groupID:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeAccessRequest",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("delete",ta.removeAccessRequestRoute,{queryParameters:null,requestBody:{requestID:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.FetchingGroups="ExploreGroupsEvents.FetchingGroups",e.CompleteFetchingGroups="ExploreGroupsEvents.CompleteFetchingGroups",e.FilterChanged="ExploreGroupsEvents.FilterChanged",e.FilterGroupsByName="ExploreGroupsEvents.FilterGroupsByName",e.CancelFilterGroupsByName="ExploreGroupsEvents.CancelFilterGroupsByName",e.FilterGroupsByGroupFilter="ExploreGroupsEvents.FilterGroupsByGroupFilter",e.PaginationChanged="ExploreGroupsEvents.PaginationChanged",e.SendingAccessRequest="ExploreGroupsEvents.SendingAccessRequest",e.CompleteSendingAccessRequest="ExploreGroupsEvents.CompleteSendingAccessRequest",e.RemovingAccessRequest="ExploreGroupsEvents.RemovingAccessRequest",e.CompleteRemovingAccessRequest="ExploreGroupsEvents.CompleteRemovingAccessRequest"}(Pu||(Pu={}));var zu,Yu=function(){return function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l,d;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().ExploreGroupsLocalState,a=n.accessRequestsInstances,i=n.nameFilter,t({type:Pu.FetchingGroups}),o=r().AuthenticationState.currentUser,s={type:Pu.CompleteFetchingGroups,groups:[]},o){e.next=7;break}return s.error="Unauthenticated user.",e.abrupt("return",t(s));case 7:return e.prev=7,e.next=10,(new $l).fetchGroups(0===i.trim().length?void 0:{name:i});case 10:if(c=e.sent,s.groups=c.data,(l=bn(o))&&(!l||l.superAdmin)){e.next=19;break}if(a){e.next=19;break}return e.next=17,(new Ju).fetchAccessRequests({user:o.id,orderBy:"user"});case 17:d=e.sent,s.accessRequestInstances=d.data;case 19:return t(s),e.abrupt("return",t(Ku()));case 23:return e.prev=23,e.t0=e.catch(7),s.error=e.t0.toString(),e.abrupt("return",t(s));case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,r){return e.apply(this,arguments)}}()},Ku=function(){return function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l,d;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().ExploreGroupsLocalState,a=n.groupFilter,i=n.accessRequestsInstances,o=n.groups,s=r().AuthenticationState,c=s.currentUser){e.next=5;break}return e.abrupt("return");case 5:return l=[],o.map((function(e){var t=!1;switch(a){case"all":var r=bn(c);t=!(!r||!r.superAdmin)||-1===s.groupsOfMembership.findIndex((function(t){return t.group.anid===e.anid}))&&void 0!==i&&-1===i.findIndex((function(t){return t.group.anid===e.anid}));break;case"groupsOfMembership":t=-1!==s.groupsOfMembership.findIndex((function(t){return t.group.anid===e.anid}));break;case"groupsOfPendingRequest":t=void 0!==i&&-1!==i.findIndex((function(t){return t.group.anid===e.anid}))}return t&&l.push(e),null})),d={type:Pu.FilterGroupsByGroupFilter,groupsFiltered:l},e.abrupt("return",t(d));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Xu=12,Zu={groups:[],fetchingGroups:!1,groupsFetched:!1,filteringGroupsByName:!1,nameFilter:"",groupFilter:"all",groupsFiltered:[],currentPage:1},$u=function(e){return!e.groupsFetched&&e.fetchingGroups},ep=function(e){return e.groupsFetched&&!e.fetchingGroups&&void 0===e.error},tp=function(e){return e.filteringGroupsByName},rp=function(e){return ep(e)&&e.groupsFiltered.length>0},np=function(e,t){return void 0!==e.sendingAccessRequestToGroup&&e.sendingAccessRequestToGroup===t},ap=function(e,t){return void 0!==e.removingAccessRequestFromGroup&&e.removingAccessRequestFromGroup===t},ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pu.FetchingGroups:return Object(b.a)(Object(b.a)({},e),{},{groups:[],fetchingGroups:!0,groupsFetched:!1,error:void 0});case Pu.CompleteFetchingGroups:var r=t;return Object(b.a)(Object(b.a)({},e),{},{groups:Object(gn.a)(r.groups),accessRequestsInstances:void 0!==r.accessRequestInstances?Object(gn.a)(r.accessRequestInstances):e.accessRequestsInstances,fetchingGroups:!1,groupsFetched:!0,currentPage:1,error:void 0!==r.error?{detail:r.error}:e.error});case Pu.FilterChanged:var n=t;return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},n.name,n.value));case Pu.FilterGroupsByName:return Object(b.a)(Object(b.a)({},e),{},{filteringGroupsByName:!0});case Pu.CancelFilterGroupsByName:return Object(b.a)(Object(b.a)({},e),{},{nameFilter:"",filteringGroupsByName:!1});case Pu.FilterGroupsByGroupFilter:var a=t;return Object(b.a)(Object(b.a)({},e),{},{groupsFiltered:Object(gn.a)(a.groupsFiltered),currentPage:1});case Pu.PaginationChanged:var i=t;return Object(b.a)(Object(b.a)({},e),{},{currentPage:i.page});case Pu.SendingAccessRequest:var o=t;return Object(b.a)(Object(b.a)({},e),{},{sendingAccessRequestToGroup:o.groupID,errorSendingAccessRequest:void 0});case Pu.CompleteSendingAccessRequest:var s=t;return Object(b.a)(Object(b.a)({},e),{},{sendingAccessRequestToGroup:void 0,accessRequestsInstances:void 0!==s.updatedAccessRequestInstances?Object(gn.a)(s.updatedAccessRequestInstances):e.accessRequestsInstances,errorSendingAccessRequest:void 0!==s.error?{detail:s.error}:e.errorSendingAccessRequest});case Pu.RemovingAccessRequest:var c=t;return Object(b.a)(Object(b.a)({},e),{},{removingAccessRequestFromGroup:c.groupID,errorRemovingAccessRequest:void 0});case Pu.CompleteRemovingAccessRequest:var l=t;return Object(b.a)(Object(b.a)({},e),{},{removingAccessRequestFromGroup:void 0,accessRequestsInstances:void 0!==l.updatedAccessRequestInstances?Object(gn.a)(l.updatedAccessRequestInstances):e.accessRequestsInstances,errorRemovingAccessRequest:void 0!==l.error?{detail:l.error}:e.errorRemovingAccessRequest});default:return e}},op=r(776),sp=r(777),cp=r(779),lp=r(778),dp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e,t,r,n=this.props,a=n.group,i=n.ManageGroupUrlState,o=n.AuthenticationState,s=n.ExploreGroupsLocalState,c=n.sendAccessRequest,l=n.removeAccessRequest,d=o.currentUser;if(!d)return null;var u,p,h=o.groupsOfMembership.find((function(e){return e.group.anid===a.anid})),j=!1;ep(p=s)&&void 0!==p.accessRequestsInstances&&(j=-1!==(null===(u=s.accessRequestsInstances)||void 0===u?void 0:u.findIndex((function(e){return e.group.anid===a.anid}))));return Object(V.jsx)(Vl.a,{marginY:"18px",children:Object(V.jsxs)(op.a,{children:[Object(V.jsx)(Ad,{url:yn.constructGroupDetailRoute(null!==(e=i.groupNameFromUrl)&&void 0!==e?e:null,a.groupUserName),color:"black",activeColor:"none",activeUnderline:!1,component:"nav-link",childComponent:Object(V.jsx)(sp.a,{onClick:function(){bn(d)||aa({userID:d.id,activityType:1,interactedObjectLocation:dt,interactedObjectID:a.anid,activitySummary:"Clicked to view %group%.".replace("%group%",a.displayName),action:yn.nonGroupViewGroup.replace(":groupID",a.anid)})},children:Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(Vl.a,{display:"flex",height:"220px",justifyContent:"center",bgcolor:Hl.a.grey[200],children:Object(V.jsx)(te.a,{alt:"".concat(a.displayName," logo"),src:null!==(t=Nu(a))&&void 0!==t?t:void 0,height:"auto",width:"100%",style:{padding:40,objectFit:"scale-down"}})}),Object(V.jsxs)(Vl.a,{paddingX:"18px",paddingY:"20px",children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"center",noWrap:!0,children:Object(V.jsx)("b",{children:a.displayName})}),h?Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",marginTop:"15px",alignItems:"center",justifyContent:"center",children:[Object(V.jsx)(lp.a,{fontSize:"small",color:"primary"}),Object(V.jsx)(Vl.a,{width:"6px"}),Object(V.jsx)(A.a,{variant:"body1",align:"center",noWrap:!0,color:"textSecondary",children:(null===(r=mn(o.groupsOfMembership))||void 0===r?void 0:r.group.anid)===h.group.anid?"Home member":"Platform member"})]}):null]})]})})}),bn(d)||h?null:Object(V.jsx)(cp.a,{style:{padding:0},children:Object(V.jsx)(Vl.a,{display:"flex",width:"100%",padding:"18px",justifyContent:"center",children:j?Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return l(a.anid)},disabled:ap(s,a.anid),children:ap(s,a.anid)?"Cancelling ...":"Cancel request"}):Object(V.jsx)(G.a,{fullWidth:!0,variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return c(a.anid)},disabled:np(s,a.anid),children:np(s,a.anid)?"Sending request ...":"Join Group"})})})]})})}}]),r}(n.Component),up=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,ExploreGroupsLocalState:e.ExploreGroupsLocalState}}),(function(e){return{sendAccessRequest:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o,s,c,l;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n().AuthenticationState.currentUser){t.next=3;break}return t.abrupt("return");case 3:return i={type:Pu.SendingAccessRequest,groupID:e},r(i),o={type:Pu.CompleteSendingAccessRequest},t.prev=6,t.next=9,(new Ju).createAccessRequest(a.id,e);case 9:return s=t.sent,c=s.data,l=n().ExploreGroupsLocalState.accessRequestsInstances,o.updatedAccessRequestInstances=void 0!==l?[].concat(Object(gn.a)(l),[c]):[c],r(o),t.abrupt("return",r(Ku()));case 17:return t.prev=17,t.t0=t.catch(6),o.error=t.t0.toString(),t.abrupt("return",r(o));case 21:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},removeAccessRequest:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o,s,c,l,d;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n().AuthenticationState.currentUser){t.next=3;break}return t.abrupt("return");case 3:if(i={type:Pu.RemovingAccessRequest,groupID:e},r(i),o={type:Pu.CompleteRemovingAccessRequest},t.prev=6,s=n().ExploreGroupsLocalState.accessRequestsInstances){t.next=10;break}return t.abrupt("return",r(o));case 10:if(-1!==(c=s.findIndex((function(t){return t.group.anid===e&&t.user.id===a.id})))){t.next=13;break}return t.abrupt("return",r(o));case 13:return l=Object(gn.a)(s),d=l[c].request,t.next=17,(new Ju).removeAccessRequest(d.id);case 17:return l.splice(c,1),o.updatedAccessRequestInstances=l,r(o),t.abrupt("return",r(Ku()));case 23:return t.prev=23,t.t0=t.catch(6),o.error=t.t0.toString(),t.abrupt("return",r(o));case 27:case"end":return t.stop()}}),t,null,[[6,23]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}}}))(dp),pp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e;(e=this.props.ExploreGroupsLocalState).groupsFetched||e.fetchingGroups||this.props.fetchGroups()}},{key:"render",value:function(){var e=this.props,t=e.MediaQueryState,r=e.ManageGroupUrlState,n=e.AuthenticationState,a=e.ExploreGroupsLocalState,i=e.fetchGroups,o=e.filterChanged,s=e.filterGroupsByName,c=e.cancelFilteringGroupsByName,l=e.paginationChanged;if(!n.currentUser)return null;var d,u=(d=a).groupsFiltered.length<=Xu?1:d.groupsFiltered.length%Xu===0?d.groupsFiltered.length/Xu|0:1+(d.groupsFiltered.length/Xu|0),p=function(e){var t,r;return(r=(t=(e.currentPage-1)*Xu)+Xu-1)>e.groupsFiltered.length-1&&(r=e.groupsFiltered.length-1),{startIndex:t,endIndex:r}}(a);return Object(V.jsxs)(Vl.a,{paddingX:t.isMobile?"20px":"56px",paddingY:t.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:4,offset:4},children:Object(V.jsx)(op.a,{elevation:0,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",alignItems:"center",bgcolor:sd(r).palette.primary.main,color:"white",paddingY:"28px",children:[Object(V.jsx)(A.a,{variant:"h6",align:"center",children:"Groups on Invest West network"}),Object(V.jsx)(Vl.a,{height:"28px"}),Object(V.jsx)(Vl.a,{width:"85%",height:"100%",bgcolor:"white",borderRadius:"50px",children:Object(V.jsx)(Jl.a,{fullWidth:!0,name:"nameFilter",value:a.nameFilter,placeholder:"Search group by name",onChange:o,disabled:!ep(a),startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(C.a,{onClick:function(){return s()},disabled:!ep(a),children:Object(V.jsx)(Kl.a,{fontSize:"small"})})}),endAdornment:tp(a)?Object(V.jsx)(Mi.a,{position:"end",children:Object(V.jsx)(C.a,{onClick:function(){return c()},children:Object(V.jsx)(Xl.a,{fontSize:"small"})})}):null})})]})})})}),bn(n.currentUser)?null:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:8,sm:8,md:3,lg:2,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",marginTop:"48px",children:[Object(V.jsxs)(Ws.a,{fullWidth:!0,name:"groupFilter",value:a.groupFilter,variant:"outlined",margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:o,disabled:!ep(a),children:[Object(V.jsx)(Vs.a,{value:"all",children:"All groups"},"all"),Object(V.jsx)(Vs.a,{value:"groupsOfMembership",children:"My groups"},"groupsOfMembership"),Object(V.jsx)(Vs.a,{value:"groupsOfPendingRequest",children:"Pending requests"},"groupsOfPendingRequest")]}),Object(V.jsx)(Vl.a,{width:"15px"}),Object(V.jsx)(C.a,{onClick:function(){return i()},children:Object(V.jsx)(Zl.a,{})})]})})}),$u(a)?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Vl.a,{display:"flex",marginY:"80px",justifyContent:"center",children:Object(V.jsx)(k.BeatLoader,{color:sd(r).palette.primary.main})})})}):null,ep(a)?rp(a)?Object(V.jsx)(Vl.a,{marginTop:"30px",children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(I.a,{children:a.groupsFiltered.slice(p.startIndex,p.endIndex+1).map((function(e){return Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:3,xl:2,children:Object(V.jsx)(up,{group:e})},e.anid)}))})})})}):Object(V.jsx)(Vl.a,{marginY:"80px",children:Object(V.jsx)(A.a,{align:"center",variant:"h5",children:" There are no groups available using your current filter criteria "})}):null,ep(a)?1===u?null:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",marginTop:"55px",children:Object(V.jsx)(Bu.a,{count:u,page:a.currentPage,color:"primary",onChange:l})})})}):null]})}}]),r}(n.Component),hp=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,ExploreGroupsLocalState:e.ExploreGroupsLocalState}}),(function(e){return{fetchGroups:function(){return e(Yu())},filterChanged:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.name,i=e.target.value,o={type:Pu.FilterChanged,name:a,value:i},r(o),"groupFilter"===a&&r(Ku());case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},filterGroupsByName:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Pu.FilterGroupsByName}),e.abrupt("return",t(Yu()));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())},cancelFilteringGroupsByName:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Pu.CancelFilterGroupsByName}),e.abrupt("return",t(Yu()));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())},paginationChanged:function(t,r){return e(function(e,t){return function(e,r){return e({type:Pu.PaginationChanged,page:t})}}(0,r))}}}))(pp),jp=r(781);!function(e){e[e.EnquiryEmail=0]="EnquiryEmail",e[e.InvitationEmail=1]="InvitationEmail",e[e.PitchPublished=2]="PitchPublished",e[e.NewPitchSubmitted=3]="NewPitchSubmitted",e[e.ContactResource=4]="ContactResource",e[e.ContactPitchOwner=5]="ContactPitchOwner"}(zu||(zu={}));var gp,bp=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"sendEmail",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("post",ta.sendEmailRoute,{queryParameters:null,requestBody:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.Open="FeedbackSnackbarEvents.Open",e.Close="FeedbackSnackbarEvents.Close"}(gp||(gp={}));var mp,fp=function(e,t){return function(r,n){return r({type:gp.Open,snackbarType:e,message:t})}};!function(e){e.Success="success",e.Information="info",e.Error="error",e.Warning="warning"}(mp||(mp={}));var Op,xp={type:mp.Success,open:!1,message:""},vp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gp.Open:var r=t;return Object(b.a)(Object(b.a)({},e),{},{open:!0,type:r.snackbarType,message:r.message});case gp.Close:return Object(b.a)(Object(b.a)({},e),{},{open:!1});default:return e}};!function(e){e.DetailedPageToggleContactDialog="ResourcesEvents.DetailedPageToggleContactDialog",e.DetailedPageSendingContactEmail="ResourcesEvents.DetailedPageSendingContactEmail",e.DetailedPageCompleteSendingContactEmail="ResourcesEvents.DetailedPageCompleteSendingContactEmail"}(Op||(Op={}));var yp=function(){return function(e,t){return e({type:Op.DetailedPageToggleContactDialog})}},Ap={detailedPageContactDialogOpen:!1,detailedPageSendingContactEmail:!1},Cp=function(e){return e.detailedPageSendingContactEmail},Pp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Op.DetailedPageToggleContactDialog:return Object(b.a)(Object(b.a)({},e),{},{detailedPageContactDialogOpen:!e.detailedPageContactDialogOpen});case Op.DetailedPageSendingContactEmail:return Object(b.a)(Object(b.a)({},e),{},{detailedPageSendingContactEmail:!0,detailedPageErrorSendingContactEmail:void 0});case Op.DetailedPageCompleteSendingContactEmail:var r=t;return Object(b.a)(Object(b.a)({},e),{},{detailedPageContactDialogOpen:!1,detailedPageSendingContactEmail:!1,detailedPageErrorSendingContactEmail:void 0!==r.error?{detail:r.error}:e.detailedPageErrorSendingContactEmail});default:return e}},wp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.resourceName,r=e.resourceEmail,n=e.ResourcesLocalState,a=e.toggle,i=e.sendContactEmail;return Object(V.jsxs)(U.a,{open:n.detailedPageContactDialogOpen,onClose:function(){return a()},children:[Object(V.jsx)(B.a,{children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"We will send an email to ".concat(t," asking them to contact you.")}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Are you happy for Invest West to share your email address with ".concat(t,"?")})]})}),Object(V.jsxs)(F.a,{children:[Cp(n)?null:Object(V.jsx)(G.a,{onClick:function(){return a()},className:Object(v.b)(ot.no_text_transform),children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),disabled:Cp(n),onClick:function(){return i(r)},children:Cp(n)?"Sending email to ".concat(t," ..."):"Yes"})]})]})}}]),r}(n.Component),Sp=Object(q.b)((function(e){return{ResourcesLocalState:e.ResourcesLocalState}}),(function(e){return{toggle:function(){return e(yp())},sendContactEmail:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o,s,c;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n().ResourcesLocalState.detailedPageSendingContactEmail){t.next=3;break}return t.abrupt("return");case 3:if(a=n().AuthenticationState.currentUser){t.next=6;break}return t.abrupt("return");case 6:return i=bn(a),r({type:Op.DetailedPageSendingContactEmail}),o={type:Op.DetailedPageCompleteSendingContactEmail},t.prev=9,c={receiver:e,sender:a.email,userName:"".concat(a.firstName," ").concat(a.lastName),userCompanyName:"".concat(i?"Not specified":(l=a,void 0!==l.BusinessProfile?null===(s=a.BusinessProfile)||void 0===s?void 0:s.companyName:"Not specified."))},t.next=13,(new bp).sendEmail({emailType:zu.ContactResource,emailInfo:c});case 13:return r(o),t.abrupt("return",r(fp(mp.Success,"Email sent.")));case 17:return t.prev=17,t.t0=t.catch(9),o.error=t.t0.toString(),r(o),t.abrupt("return",r(fp(mp.Error,o.error)));case 22:case"end":return t.stop()}var l}),t,null,[[9,17]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}}}))(wp),_p=r(780),Ip=r(804),Ep=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.FeedbackSnackbarLocalState,r=e.close;return Object(V.jsx)(_p.a,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2500,onClose:r,TransitionComponent:Tp,transitionDuration:{enter:130,exit:130},children:Object(V.jsx)(Ip.a,{variant:"filled",severity:t.type,onClose:r,children:t.message})})}}]),r}(n.Component),Dp=Object(q.b)((function(e){return{FeedbackSnackbarLocalState:e.FeedbackSnackbarLocalState}}),(function(e){return{close:function(){return e((function(e,t){return e({type:gp.Close})}))}}}))(Ep),Tp=a.a.forwardRef((function(e,t){return Object(V.jsx)(he.a,Object(b.a)(Object(b.a)({},e),{},{ref:t,direction:"up"}))})),kp="".concat("https://platform.investwest.online","/resources/keltie/logo.jpg"),Np="".concat("https://platform.investwest.online","/resources/keltie/sullivan-fountain.jpg"),Rp="".concat("https://platform.investwest.online","/resources/keltie/richard-lawrence.jpg"),Up=[{name:"An introduction to IP",url:"".concat("https://platform.investwest.online","/resources/keltie/an-introduction-to-ip.pdf")},{name:"Designs - Info Sheet",url:"".concat("https://platform.investwest.online","/resources/keltie/designs-info-sheet.pdf")},{name:"Patent searching overview guide",url:"".concat("https://platform.investwest.online","/resources/keltie/patent-searching-overview-guide.pdf")},{name:"How to get the best from your IP",url:"".concat("https://platform.investwest.online","/resources/keltie/how-to-get-the-best-from-your-ip.pptx")},{name:"The tool box",url:"".concat("https://platform.investwest.online","/resources/keltie/the-tool-box.pptx")}],Lp=[{name:"IP for Startups: Top 5 Things You Need to Know",url:"https://www.youtube.com/watch?v=r5mOCm2tzjg"},{name:"Patents for non patent attorneys - Episode 1",url:"".concat("https://platform.investwest.online","/resources/keltie/patents-for-non-patent-attorneys-episode-1.mp4")},{name:"Patents for non patent attorneys - Episode 2",url:"".concat("https://platform.investwest.online","/resources/keltie/patents-for-non-patent-attorneys-episode-2.mp4")},{name:"Artificial Intelligence and Patents: AI Inventors",url:"https://www.youtube.com/watch?v=QZOC2ZLWjPI"},{name:"Patents and the Internet of Things",url:"https://www.youtube.com/watch?v=BnyvbgUSjv4"},{name:"IP Tips: Reducing patent spend (in light of Covid-19)",url:"https://www.youtube.com/watch?v=7v00c9VpS-E"}],Bp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.MediaQueryState,r=e.toggleContactResourceDialog;return Object(V.jsxs)(Vl.a,{height:"100%",minHeight:"100vh",bgcolor:Hl.a.grey[200],paddingX:t.isMobile?"15px":"56px",paddingY:t.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:8,offset:2},xl:{span:6,offset:3},children:Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Vl.a,{padding:"20px",children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",width:"100%",children:[Object(V.jsxs)(I.a,{noGutters:!0,style:{width:"100%"},children:[Object(V.jsx)(E.a,{sm:12,md:12,lg:12,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",paddingX:"25px",children:[Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(A.a,{variant:"h3",align:"center",children:"Intellectual Property"})}),Object(V.jsx)(A.a,{variant:"h6",align:"center",children:"A collection of resources to help entrepreneurs better understand Intellectual Property issues. This content is kindly provided by our friends at Keltie LLP."})]})}),Object(V.jsx)(E.a,{sm:12,md:12,lg:12,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",children:Object(V.jsx)(Xr.a,{url:Lp[0].url,height:"50vh",width:"100%",playing:!1,controls:!0})})})]}),Object(V.jsx)(Vl.a,{height:"30px"}),Object(V.jsx)(I.a,{noGutters:!0,style:{width:"100%"},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,xl:12,children:Object(V.jsx)(Z.a,{})})}),Object(V.jsx)(Vl.a,{height:"30px"}),Object(V.jsx)(I.a,{noGutters:!0,style:{width:"100%"},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,xl:12,children:Object(V.jsx)(A.a,{variant:"body1",align:"center",children:"Intellectual property comprises the intangible business assets that are the result of creativity. In a technology business, much or even most of the value of the business may lie in the intellectual property that it owns or controls. While this asset value is significant, the main role of intellectual property is usually to support the commercial strategy of the business. It is therefore very important to understand what intellectual property is needed by a business to support its commercial strategy, so that the business can make good decisions about identifying and securing the intellectual property that it needs as efficiently as possible."})})})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Top 5 Things You Need to Know"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"span",children:Object(V.jsxs)("ol",{children:[Object(V.jsxs)("li",{children:["There are four main forms of IP Protection",Object(V.jsx)("br",{}),Object(V.jsxs)("ol",{type:"a",children:[Object(V.jsxs)("li",{children:[Object(V.jsx)("i",{children:"Patents"})," for technological innovations,"]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("i",{children:"Trademarks"})," for branding,"]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("i",{children:"Registered"})," Designs for the look and feel of a product,"]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("i",{children:"Copyright"})," for creative works such as instruction manuals or software code."]})]})]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:["Registered vs. unregistered rights",Object(V.jsx)("br",{}),Object(V.jsx)("ul",{children:Object(V.jsx)("li",{children:"There are differences in strength of registered vs unregistered rights, as well as their costs and timescales. Its important to choose the right option for your business."})})]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:["Application vs. granted rights",Object(V.jsx)("br",{}),Object(V.jsx)("ul",{children:Object(V.jsx)("li",{children:"When discussing registered rights, always be clear whether you have made an application for rights, or actually have granted rights."})})]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:["Assessing risk - registrability searching vs Freedom To Operate (FTO)",Object(V.jsx)("br",{}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:"Owning a registered right, be it a trade mark, patent or registered design, does not mean that you automatically have the right to use it."}),Object(V.jsx)("li",{children:"Two types of searching are therefore common with IP. The first is performed to understand the chances of your application passing the registration process (i.e. patentability searching or trade mark registrability searching), whilst the second considers whether your proposed commercial activities will be impacted by pre-existing rights."})]})]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:["IP rights are jurisdictional",Object(V.jsx)("br",{}),Object(V.jsx)("ul",{children:Object(V.jsx)("li",{children:" IP rights are only enforceable in the country or region they have been granted."})})]})]})}),Object(V.jsx)("br",{}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["The UK IPO (Intellectual Property Office) provide funding for IP audits and support for start-ups. ",Object(V.jsx)("b",{children:"For more information on accessing IP audit funding in the South West, follow this link"}),"\xa0",Object(V.jsx)("a",{href:"https://www.businesswest.co.uk/about/partners-programmes/innovate2succeed",target:"_blank",rel:"noreferrer",children:"Innovate UK EDGE | Business West"}),"."]})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Resources"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",children:Up.map((function(e){return Object(V.jsx)(Ad,{url:e.url,target:"_blank",color:"black",activeColor:"none",activeUnderline:!0,component:"a",childComponent:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"12px",children:[Object(V.jsx)(jp.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"10px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:e.name})]})},e.name)}))})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Training"}),Object(V.jsx)(Vl.a,{height:"30px"}),Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",children:Lp.map((function(e,t){return Object(V.jsx)(Vl.a,{marginBottom:"20px",children:Object(V.jsxs)(I.a,{style:{width:"100%"},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:3,children:Object(V.jsx)(Xr.a,{url:e.url,height:"auto",width:"100%",playing:!1,controls:!0})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:8,lg:9,children:Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",children:Object(V.jsx)("b",{children:e.name})})})]})},t)}))})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"About us"}),Object(V.jsx)(Vl.a,{height:"15px"}),Object(V.jsxs)(A.a,{variant:"body1",align:"justify",children:["Keltie is an intellectual property firm with a unique personality. A firm that\u2019s renowned for its excellence, earned by putting talented, energetic and principled people at its heart.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Based in Europe but with global reach, we specialise in IP law and management. Our clients benefit from an extraordinarily experienced and multi-faceted group of IP experts. Our team includes patent, trade mark and design attorneys who work on every technology and in all commercial fields.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Sullivan Fountain and Richard Lawrence at the Keltie Cotswolds office serve the South West region and would be delighted to discuss your IP challenges further."]}),Object(V.jsx)(Vl.a,{height:"40px"}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(V.jsx)(Ad,{url:"https://www.keltie.com",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:kp,alt:"Keltie logo",width:t.isMobile?100:145,height:t.isMobile?100:145,style:{objectFit:"cover"}})}),Object(V.jsx)(Vl.a,{width:"25px"}),Object(V.jsx)(Ad,{url:"https://www.keltie.com/staff/sullivan-fountain.html",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:Np,alt:"Sullivan Fountain",width:t.isMobile?100:145,height:t.isMobile?100:145,style:{objectFit:"cover"}})}),Object(V.jsx)(Vl.a,{width:"25px"}),Object(V.jsx)(Ad,{url:"https://www.keltie.com/staff/richard-lawrence.html",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:Rp,alt:"Richard Lawrence",width:t.isMobile?100:145,height:t.isMobile?100:145,style:{objectFit:"cover"}})})]}),Object(V.jsx)(Vl.a,{height:"60px"}),Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(V.jsx)(Vl.a,{bgcolor:"#52155A",color:"white",clone:!0,children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return r()},children:" Contact us "})})}),Object(V.jsx)(Vl.a,{height:"20px"})]})]})})})}),Object(V.jsx)(Sp,{resourceName:"Keltie LLP",resourceEmail:["sullivan.fountain@keltie.com"]}),Object(V.jsx)(Dp,{})]})}}]),r}(n.Component),Fp=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ResourcesLocalState:e.ResourcesLocalState}}),(function(e){return{toggleContactResourceDialog:function(){return e(yp())}}}))(Bp),Gp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e,t=this.props,r=t.resource,n=t.ManageGroupUrlState;return Object(V.jsx)(Vl.a,{marginY:"18px",children:Object(V.jsx)(op.a,{children:Object(V.jsx)(Ad,{url:yn.constructViewResourceDetailRoute(null!==(e=n.groupNameFromUrl)&&void 0!==e?e:null,r.name),color:"black",activeColor:"none",activeUnderline:!1,component:"nav-link",childComponent:Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(Vl.a,{display:"flex",height:"220px",justifyContent:"center",bgcolor:Hl.a.grey[200],children:Object(V.jsx)(te.a,{alt:"".concat(r.name," logo"),src:r.logo,height:"auto",width:"100%",style:{padding:40,objectFit:"scale-down"}})}),Object(V.jsx)(Vl.a,{paddingX:"18px",paddingY:"20px",children:Object(V.jsx)(A.a,{variant:"subtitle1",align:"center",noWrap:!0,children:Object(V.jsx)("b",{children:r.name})})})]})})})})}}]),r}(n.Component),Mp=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState}}),(function(e){return{}}))(Gp),qp="".concat("https://platform.investwest.online","/resources/founder-catalyst/logo.svg"),Wp="".concat("https://platform.investwest.online","/resources/founder-catalyst/justyn-waterworth.jpeg"),Qp="".concat("https://platform.investwest.online","/resources/founder-catalyst/sam-simpson.jpeg"),Vp="".concat("https://platform.investwest.online","/resources/founder-catalyst/charles-frank.jpeg"),Hp=[{name:"Model Articles of Association",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-articles-of-association.pdf")},{name:"Model Board Minutes",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-board-minutes.pdf")},{name:"Model Subscription & Shareholders\u2019 Agreement",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-subscription-and-shareholder-agreement.pdf")},{name:"Model Founder Service Agreement",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-founder-service-agreement.pdf")},{name:"Model IP Assignment",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-ip-assignment.pdf")},{name:"Model Disclosure Letter",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-disclosure-letter.pdf")},{name:"Model Non-disclosure Agreement",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-non-disclosure-agreement.pdf")},{name:"Model Term Sheet",url:"".concat("https://platform.investwest.online","/resources/founder-catalyst/model-term-sheet.pdf")}],Jp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.MediaQueryState,r=e.toggleContactResourceDialog;return Object(V.jsxs)(Vl.a,{height:"100%",minHeight:"100vh",bgcolor:Hl.a.grey[200],paddingX:t.isMobile?"15px":"56px",paddingY:t.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:8,offset:2},xl:{span:6,offset:3},children:Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Vl.a,{padding:"20px",children:[Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",width:"100%",children:Object(V.jsxs)(I.a,{noGutters:!0,style:{width:"100%"},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:5,lg:4,xl:3,children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",paddingX:"25px",children:Object(V.jsx)(te.a,{src:qp,alt:"Founder Catalyst Logo",width:"100%",height:"auto",style:{objectFit:"cover"}})})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:7,lg:8,xl:9,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start",height:"100%",paddingX:"25px",children:[Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(A.a,{variant:"h4",align:"left",children:"Founder Catalyst"})}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Legal paperwork for founders raising investment.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"A collection of resources to help entrepreneurs better understand the legal requirements when equity fundraising. This content is kindly provided by our friends at FounderCatalyst.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"When raising investment for your business, the legal journey can be slow, frustrating and expensive. When do you need a lawyer? How do you find a good one? How can you afford them? This page aims to demystify some of the process by showing you what documents you and your investors likely to need as part of your fund-raising process."]})]})})]})}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"8 reasons why founders use FounderCatalyst\u2019s platform"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsxs)("ol",{children:[Object(V.jsx)("li",{children:"Save over \xa33,500. The traditional lawyer approach costs between \xa35,000 to \xa310,000. FounderCatalyst is \xa31,495 plus VAT, fixed!"}),Object(V.jsx)("br",{}),Object(V.jsx)("li",{children:"Simplifying the legal process. The FounderCatalyst platform is designed for founders, to be as simple and intuitive to use as possible. The platform works by asking you a series of questions in a logical order, with detailed explanations alongside."}),Object(V.jsx)("br",{}),Object(V.jsx)("li",{children:"Up-to-date legal documents. Trusted documents based on the British Venture Capital Association\u2019s (BVCA) model documents, used by many of the UK\u2019s leading law firms."}),Object(V.jsx)("br",{}),Object(V.jsx)("li",{children:"By using the FounderCatalyst platform, angel investors know you are more likely to be \u2018investment ready\u2019 and due diligence will be easier. A real differentiator for you in the crowded funding market."}),Object(V.jsx)("br",{}),Object(V.jsx)("li",{children:"Time is risk. The conventional legal approach can be slow and frustrating. By using the FounderCatalyst platform, get your legals completed in as little as 30 minutes. Updates in minutes rather than days. Deal momentum is key to your funding success."}),Object(V.jsx)("br",{}),Object(V.jsx)("li",{children:"Unsure and still want to use an advisor? No problem. By using both founder and advisor roles on the platform, your trusted advisor can help as much or as little as you want \u2013 so you still achieve significant time and cost savings."}),Object(V.jsx)("br",{}),Object(V.jsx)("li",{children:"EIS and SEIS advance assurance a must? Proven expertise on hand to help you achieve this important tax relief for your investors, at no extra charge."}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:["Invest West has negotiated a further 10% discount for our members. Please sign up via the button below to receive your discount.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),Object(V.jsx)(Ad,{url:"http://www.foundercatalyst.com/v/INVESTWEST",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(Vl.a,{bgcolor:"#31C2DE",color:"white",clone:!0,children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),children:"10% Discount"})})})]})]})}),Object(V.jsx)(Vl.a,{height:"50px"}),Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"What documents are you and your investors likely to need?"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsxs)("ol",{children:[Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Initial Term Sheet:"})," this summarises all the key points of the deal you are offering to potential investors."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Founder Service Agreement:"})," one for each founder - it is an agreement between you and the company, very similar to an employment contract."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"IP Assignment Letter:"})," this ensures that all intellectual property relevant to the company has been transferred by you and other founders to the company itself."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Subscription and Shareholders' Agreement (SSA):"})," this document details the agreement between you and your fellow founders, the company, any existing shareholders and your new investors."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Articles of Association:"})," this document works alongside the SSA and contains the company's constitution."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Cap Table:"})," one for before investment and one for after. These provide details of your current and future shareholders."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Resolutions:"})," for both shareholders and directors. These formally allow the company to take on the new investment you are seeking."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Disclosure Letter:"})," this enables you to formally disclose any issues relating to your business to your potential investors."]})]})})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Resources"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",children:Hp.map((function(e){return Object(V.jsx)(Ad,{url:e.url,target:"_blank",color:"black",activeColor:"none",activeUnderline:!0,component:"a",childComponent:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"12px",children:[Object(V.jsx)(jp.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"10px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:e.name})]})},e.name)}))})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"About us"}),Object(V.jsx)(Vl.a,{height:"15px"}),Object(V.jsxs)(A.a,{variant:"body1",align:"justify",children:["FounderCatalyst was created by a team of successful entrepreneurs, angel investors and lawyers to simplify and accelerate the early-stage investment legal journey.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"FounderCatalyst\u2019s aim is to be the trusted legal platform of choice, simplifying and managing the funding process, raising everyone\u2019s chances of success."]}),Object(V.jsx)(Vl.a,{height:"40px"}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(V.jsx)(Ad,{url:"https://www.linkedin.com/in/justynwaterworth/",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:Wp,alt:"Justyn Waterworth",width:t.isMobile?100:145,height:t.isMobile?100:145,style:{objectFit:"cover"}})}),Object(V.jsx)(Vl.a,{width:"25px"}),Object(V.jsx)(Ad,{url:"https://www.linkedin.com/in/samsimpson1/",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:Qp,alt:"Sam Simpson",width:t.isMobile?100:145,height:t.isMobile?100:145,style:{objectFit:"cover"}})}),Object(V.jsx)(Vl.a,{width:"25px"}),Object(V.jsx)(Ad,{url:"https://www.linkedin.com/in/charlesfrankspeechlys/",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:Vp,alt:"Charles Frank",width:t.isMobile?100:145,height:t.isMobile?100:145,style:{objectFit:"cover"}})})]}),Object(V.jsx)(Vl.a,{height:"60px"}),Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(V.jsx)(Vl.a,{bgcolor:"#31C2DE",color:"white",clone:!0,children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return r()},children:"Contact us"})})}),Object(V.jsx)(Vl.a,{height:"20px"})]})]})})})}),Object(V.jsx)(Sp,{resourceName:"Founder Catalyst",resourceEmail:["justyn@foundercatalyst.com","sam@foundercatalyst.com"]}),Object(V.jsx)(Dp,{})]})}}]),r}(n.Component),zp=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ResourcesLocalState:e.ResourcesLocalState}}),(function(e){return{toggleContactResourceDialog:function(){return e(yp())}}}))(Jp),Yp="".concat("https://platform.investwest.online","/resources/grant-funding/logo.png"),Kp=[{name:"Our Services Brochure",url:"https://drive.google.com/open?id=1-GiFZT-maCglNUo-7UWJrezpXL64hLz2",img:"".concat("https://platform.investwest.online","/resources/grant-funding/our-services-brochure.png")},{name:"The Grant Report 2020",url:"https://drive.google.com/open?id=1Wz-1dDroReh4s7UspQTQJ-tSafNnv7eg",img:"".concat("https://platform.investwest.online","/resources/grant-funding/the-grant-report-2020.png")},{name:"Blog - Are You Missing Out on R&D Tax Credits?",url:"https://grantedltd.co.uk/about-us/the-funding-blog/",img:"".concat("https://platform.investwest.online","/resources/grant-funding/blog-are-you-missing-out-on-rd-tax-credits.png")},{name:"Blog - When is the Right Time to Apply for Grant Funding?",url:"https://grantedltd.co.uk/about-us/the-funding-blog/",img:"".concat("https://platform.investwest.online","/resources/grant-funding/blog-when-is-the-right-time-to-apply-for-grant-funding.png")},{name:"Granted Consultancy Introduction",url:"https://vimeo.com/317446864",img:"".concat("https://platform.investwest.online","/resources/grant-funding/granted-consultancy-introduction.png")},{name:"How to Know If Your Project is Eligible for R&D Grant Funding",url:"https://vimeo.com/317450389",img:"".concat("https://platform.investwest.online","/resources/grant-funding/how-to-know-if-your-project-is-eligible-for-rd-grant-funding.png")}],Xp=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.MediaQueryState,r=e.toggleContactResourceDialog;return Object(V.jsxs)(Vl.a,{height:"100%",minHeight:"100vh",bgcolor:Hl.a.grey[200],paddingX:t.isMobile?"15px":"56px",paddingY:t.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:8,offset:2},xl:{span:6,offset:3},children:Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Vl.a,{padding:"20px",children:[Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",width:"100%",children:Object(V.jsx)(A.a,{variant:"h4",align:"left",children:"Grant Funding"})}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"What are the Benefits of Grant Funding?"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsxs)(A.a,{align:"left",variant:"body1",children:["There are two main types of grants:",Object(V.jsxs)("ol",{children:[Object(V.jsx)("li",{children:"Capital/Business Growth grants and"}),Object(V.jsx)("li",{children:"R&D grants."})]}),"Using Business Growth grants enables bigger, more impactful projects to be realised by covering capital expenditure e.g. buildings or machinery, with project success often being predicated on job growth.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Research and Development (R&D) grants allow a significant reduction in an innovative product\u2019s time to market, beating the competition and establishing first-to-market status. This can have a pronounced impact on your business through the increase of commercial returns and subsequent business growth.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Other benefits of grant funding include:",Object(V.jsx)("br",{}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:"No Debt - no costs or need to provide security"}),Object(V.jsx)("li",{children:"No Equity giveaway - ensuring you retain control"}),Object(V.jsx)("li",{children:"Access to Partners \u2013 funding may cover the costs of academic and commercial experts and attract renowned organisations"}),Object(V.jsx)("li",{children:"External Validation \u2013 via a competitive process that has been scrutinised, supporting later access to investors."})]})]})}),Object(V.jsx)(Vl.a,{height:"50px"}),Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"How do you know you are eligible for an R&D grant?"}),Object(V.jsx)(Vl.a,{height:"10px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsxs)(A.a,{align:"left",variant:"body1",children:["The main focus when applying for R&D grant funding should be on the outputs of a defined project. There are typically four categories for assessing project eligibility:",Object(V.jsx)("br",{}),Object(V.jsxs)("ol",{children:[Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Innovation"})," - Is your R&D project novel, disruptive and innovative with wider economic, social and environmental impacts?"]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Scalable"})," - Does your project have high commercial growth (and ideally export) potential?"]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"IP Assignment Letter:"})," this ensures that all intellectual property relevant to the company has been transferred by you and other founders to the company itself."]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Funding"})," - are you seeking \xa350k-\xa35m funding for feasibility, prototyping and/or testing?"]}),Object(V.jsxs)("li",{children:[Object(V.jsx)("b",{children:"Business"})," - Have you proven the concept, put a team of (UK/EU) experts in place and investigated IP protection?"]})]})]})}),Object(V.jsx)(Vl.a,{height:"50px"}),Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"What Does the Application Process Typically Look Like?"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsx)(A.a,{align:"left",variant:"body1",children:"As a guide, it typically takes between 9-12 months from engaging with Granted Consultancy to first drawdown of grant funds. The process involves taking into account finding the right funding competition, developing the application, waiting during the assessment window, progressing through due diligence and then completing project kick off."})}),Object(V.jsx)(Vl.a,{height:"50px"}),Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Why Use a Grant Funding Consultancy?"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsxs)(A.a,{align:"left",variant:"body1",children:["There are many different factors that will improve your chance of grant funding success; a grant funding consultancy will know where to find suitable funding, how to access it successfully and how to use it to best effect. Granted let you focus on your business, saving you time while we write the grant application for you.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"A good consultancy will have pertinent sector expertise, the ability to upskill at a rapid pace in new technologies, and experience of working with companies of all sizes."]})})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Resources"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",children:Kp.map((function(e){return Object(V.jsx)(Ad,{url:e.url,target:"_blank",color:"black",activeColor:"none",activeUnderline:!0,component:"a",childComponent:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"12px",children:[Object(V.jsx)(te.a,{src:e.img,alt:e.name,style:{objectFit:"cover"}}),Object(V.jsx)(Vl.a,{width:"10px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:e.name})]})},e.name)}))})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"About us"}),Object(V.jsx)(Vl.a,{height:"15px"}),Object(V.jsxs)(A.a,{variant:"body1",align:"justify",children:["Granted Consultancy are an in-house team of funding specialists with a demonstrable 10-year track record of securing non-dilutive funding for innovative companies, raising over \xa385m in grant funding and \xa32.5m in R&D Tax Credits for clients.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Our full range of non-dilutive funding services (grant writing, project management, training and R&D tax credit support) allow our clients to focus on their business. Our experience covers the full lifespan of business maturities, from start-ups to multinationals.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Granted Consultancy\u2019s expertise spans a variety of cutting-edge technologies with a focus on four key areas:",Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:"AI, Digital and Data"}),Object(V.jsx)("li",{children:"Clean-tech and Agri-tech"}),Object(V.jsx)("li",{children:"Health, Life Sciences and Education"}),Object(V.jsx)("li",{children:"Manufacturing, Mobility and Materials"})]}),Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"The Granted team thrives on learning about new technologies, innovative business models and the people behind them \u2013 then taking that information and translating it into a language and format that funders can understand."]}),Object(V.jsx)(Vl.a,{height:"40px"}),Object(V.jsx)(Vl.a,{children:Object(V.jsx)(Ad,{url:"https://grantedltd.co.uk",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(te.a,{src:Yp,alt:"logo",width:t.isMobile?"100%":400,height:"100%",style:{objectFit:"contain"}})})}),Object(V.jsx)(Vl.a,{height:"60px"}),Object(V.jsxs)(A.a,{align:"left",variant:"body1",children:[Object(V.jsx)("b",{children:"Get in touch! "}),Object(V.jsx)("br",{}),"If you have an R&D project that you would like to explore funding for,"]}),Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"25px",children:Object(V.jsx)(Vl.a,{bgcolor:"#8DC341",color:"white",clone:!0,children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return r()},children:"Contact us"})})}),Object(V.jsx)(Vl.a,{height:"20px"})]})]})})})}),Object(V.jsx)(Sp,{resourceName:"Grant Funding",resourceEmail:["info@grantedltd.co.uk"]}),Object(V.jsx)(Dp,{})]})}}]),r}(n.Component),Zp=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ResourcesLocalState:e.ResourcesLocalState}}),(function(e){return{toggleContactResourceDialog:function(){return e(yp())}}}))(Xp),$p="".concat("https://platform.investwest.online","/resources/merix-studio/chart-1.png"),eh="".concat("https://platform.investwest.online","/resources/merix-studio/chart-4.jpg"),th=[{name:"Minimum Viable Product uncovered",url:"https://content.merixstudio.com/insights/minimum-viable-product-uncovered-what-it-really-an/?theme=startups"},{name:"The right solution for your product launch",url:"https://learn.merixstudio.com/product-launch-ebook"},{name:"Startup DNA",url:"https://www.merixstudio.com/services/startup-dna/"},{name:"How to launch with a bang",url:"https://content.merixstudio.com/insights/how-to-launch-a-product-with-a-bang/"},{name:"State of early-stage startups 2021",url:"https://content.merixstudio.com/insights/early-stage-startups-2021-report/"},{name:"Startup DNA, turn your idea into a prototype",url:"https://content.merixstudio.com/insights/startup-dna-turn-your-idea-prototype/"},{name:"If you're passionate about an idea give it a try",url:"https://content.merixstudio.com/insights/if-youre-passionate-about-an-idea-give-it-a-try-in/"},{name:"Prototype is just one piece of the puzzle",url:"https://content.merixstudio.com/insights/prototype-just-one-piece-puzzle-interview-truman-d/"},{name:"Pimp your pitch deck",url:"https://content.merixstudio.com/insights/pimp-your-pitch-deck/"},{name:"Building prototype in a UK based startup",url:"https://content.merixstudio.com/insights/building-prototype-uk-based-startup/"}],rh=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.MediaQueryState,r=e.toggleContactResourceDialog;return Object(V.jsxs)(Vl.a,{height:"100%",minHeight:"100vh",bgcolor:Hl.a.grey[200],paddingX:t.isMobile?"15px":"56px",paddingY:t.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:8,offset:2},xl:{span:6,offset:3},children:Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Vl.a,{padding:"20px",children:[Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",width:"100%",children:Object(V.jsx)(A.a,{variant:"h4",align:"left",children:"Merixstudio"})}),Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(A.a,{align:"left",variant:"body1",children:"Merixstudio\u2019s key expertise is the delivery of high-quality and performant web applications and cross-platform mobile apps. Based on the needs of our clients, we can support them in end-to-end product development or seamlessly extend their in-house team of engineers."}),Object(V.jsx)(Ad,{url:"https://www.merixstudio.com/contact/",target:"_blank",color:"none",activeColor:"none",activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(Vl.a,{bgcolor:"#31C2DE",color:"white",marginY:"20px",clone:!0,children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),children:"Contact Us"})})})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"The right solution for your product launch"})}),Object(V.jsx)(A.a,{variant:"body1",align:"center",children:"THE ULTIMATE GUIDE TO COMPOSING"}),Object(V.jsx)(A.a,{variant:"body1",align:"center",children:"THE RIGHT SOLUTION FOR YOUR PRODUCT LAUNCH"}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Although similar at first glance, the three concepts differ considerably - especially in terms of the purpose each of them serves. The choice of which one to start with depends on many factors, including your current state of knowledge or the budget you can spend on a given project."})}),Object(V.jsx)("img",{width:"100%",height:"auto",src:$p,alt:"Merix image"}),Object(V.jsx)("img",{width:"100%",height:"auto",src:eh,alt:"Merix image"})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"Resources"}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",children:th.map((function(e){return Object(V.jsx)(Ad,{url:e.url,target:"_blank",color:"black",activeColor:"none",activeUnderline:!0,component:"a",childComponent:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"12px",children:[Object(V.jsx)(jp.a,{fontSize:"small"}),Object(V.jsx)(Vl.a,{width:"10px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:e.name})]})},e.name)}))})]}),Object(V.jsx)(Vl.a,{marginY:"30px",children:Object(V.jsx)(Z.a,{})}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"About us"}),Object(V.jsxs)(A.a,{variant:"body1",align:"justify",children:[Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Merixstudio\u2019s key expertise is the delivery of high-quality and performant web applications and cross-platform mobile apps. Based on the needs of our clients, we can support them in end-to-end product development or seamlessly extend their in-house team of engineers.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:"200+ engineers"}),Object(V.jsx)("li",{children:"250 clients supported"})]})]}),Object(V.jsxs)(A.a,{align:"left",variant:"body1",children:[Object(V.jsx)("b",{children:"Get in touch!"}),Object(V.jsx)("br",{})]}),Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"25px",children:Object(V.jsx)(Vl.a,{bgcolor:"#8DC341",color:"white",clone:!0,children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return r()},children:"Contact us"})})}),Object(V.jsx)(Vl.a,{height:"20px"})]})]})})})}),Object(V.jsx)(Sp,{resourceName:"Merix Studio",resourceEmail:["g.spychalski@merixstudio.com"]}),Object(V.jsx)(Dp,{})]})}}]),r}(n.Component),nh=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ResourcesLocalState:e.ResourcesLocalState}}),(function(e){return{toggleContactResourceDialog:function(){return e(yp())}}}))(rh),ah=[{name:"Intellectual Property",logo:"".concat("https://platform.investwest.online","/resources/keltie/logo.jpg"),page:Object(V.jsx)(Fp,{})},{name:"Fundraising Legals",logo:"".concat("https://platform.investwest.online","/resources/founder-catalyst/logo.svg"),page:Object(V.jsx)(zp,{})},{name:"Grant Funding",logo:"".concat("https://platform.investwest.online","/resources/grant-funding/logo.png"),page:Object(V.jsx)(Zp,{})},{name:"Product Development",logo:"".concat("https://platform.investwest.online","/resources/merix-studio/merix-logo.png"),page:Object(V.jsx)(nh,{})}],ih=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.MediaQueryState,r=e.ManageGroupUrlState;return Object(V.jsxs)(Vl.a,{paddingX:t.isMobile?"20px":"56px",paddingY:t.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:4,offset:4},children:Object(V.jsx)(op.a,{elevation:0,children:Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",alignItems:"center",bgcolor:sd(r).palette.primary.main,color:"white",paddingY:"28px",children:Object(V.jsx)(A.a,{variant:"h6",align:"center",children:"Resources on Invest West"})})})})}),Object(V.jsx)(Vl.a,{marginTop:"30px",children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(I.a,{children:ah.map((function(e){return Object(V.jsx)(E.a,{xs:12,sm:12,md:3,children:Object(V.jsx)(Mp,{resource:e})},e.name)}))})})})})]})}}]),r}(n.Component),oh=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageGroupUrlState:e.ManageGroupUrlState}}),(function(e){return{}}))(ih),sh=new Map;function ch(e){return!!localStorage?localStorage.getItem(e):e&&sh.has(e)?sh.get(e):null}function lh(e){if(!!localStorage)localStorage.removeItem(e);else{if(!e||!sh.has(e))return;sh.delete(e)}}var dh,uh=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).setDataForComponents=function(){var e=n.props,t=e.user,r=e.editUserProfile_userEdited,a=e.editUserProfile_setOriginalUserAndEditedUser;!t||t&&2!==t.type||r||a(t)},n.renderPageContent=function(){var e=Cu.a.parse(n.props.location.search);return e.tab===Ds?Object(V.jsx)(Hu,{}):e.tab===ks?Object(V.jsx)("div",{style:{margin:30},children:Object(V.jsx)($d,{})}):e.tab===Ts?Object(V.jsx)(nu,{}):e.tab===Rs?Object(V.jsx)(ui,{}):e.tab===Ls?Object(V.jsx)(hp,{}):e.tab===Us?Object(V.jsx)(oh,{}):void 0},n.renderPageTitle=function(){var e="";switch(Cu.a.parse(n.props.location.search).tab){case Ds:e=Ds;break;case ks:e=ks;break;case Ts:e=Ts;break;case Us:e=Us;break;case Rs:e=Rs;break;case Ls:e=Ls;break;default:return}return Object(V.jsx)(A.a,{variant:"h6",className:Object(v.b)(hh.page_title),children:e})},n.firebaseDB=R.database(),n.notificationBell=a.a.createRef(),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.setGroupUserNameFromParams,a=e.setExpectedAndCurrentPathsForChecking,i=e.loadAngelNetwork,o=e.notificationRefUpdated,s=e.history,c=e.match,l=ch("redirectToAfterAuth");l&&(lh("redirectToAfterAuth"),s.push(l)),n(c.params.hasOwnProperty("groupUserName")?c.params.groupUserName:null),a(c.params.hasOwnProperty("groupUserName")?_n:In,c.path),i(),t&&r&&this.setDataForComponents(),o(this.notificationBell.current)}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.loadAngelNetwork,s=n.notificationRefUpdated;o(),a&&i&&this.setDataForComponents(),s(this.notificationBell.current)}},{key:"render",value:function(){var e=this.props,t=e.shouldLoadOtherData,r=e.groupProperties,n=e.groupPropertiesLoaded,a=e.sidebarDocked,i=e.sidebarOpen,o=e.authStatus,s=e.authenticating,c=e.user,l=e.userLoaded,d=e.notifications,u=e.notificationsAnchorEl,p=e.toggleSidebar,h=e.toggleNotifications;return n?t?s||!l?Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(k.HashLoader,{color:r?r.settings.primaryColor:et})}):o!==co||!c||c&&2!==c.type?Object(V.jsx)(jn,{}):Object(V.jsx)(y.a,{sidebar:Object(V.jsx)(qs,{dashboardProps:this.props}),shadow:!1,open:i,docked:a,onSetOpen:function(){return p(!0)},transitions:!0,styles:{sidebar:{backgroundColor:Pe},content:{backgroundColor:Oe}},children:Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{height:55,width:"100%",vAlignContent:"center",style:{backgroundColor:r?r.settings.primaryColor:et},children:Object(V.jsxs)(I.a,{style:{width:"100%"},noGutters:!0,children:[Object(V.jsx)(E.a,{xs:10,sm:10,md:11,lg:11,children:Object(V.jsxs)(x.a,{vAlignContent:"center",width:"100%",children:[Object(V.jsx)(C.a,{className:Object(v.b)(ot.hamburger_button),onClick:function(){return p(!0)},children:Object(V.jsx)(T.a,{})}),this.renderPageTitle()]})}),Object(V.jsx)(E.a,{xs:2,sm:2,md:1,lg:1,style:{paddingRight:13},children:Object(V.jsx)(x.a,{vAlignContent:"center",hAlignContent:"right",width:"100%",children:Object(V.jsx)("div",{ref:this.notificationBell,children:Object(V.jsx)(C.a,{onClick:h,children:Object(V.jsx)(P.a,{badgeContent:d.length,color:"secondary",invisible:0===d.length,children:Object(V.jsx)(S.a,{className:Object(v.b)(ot.white_text)})})})})})})]})})})}),this.renderPageContent(),null!==u&&Object(V.jsx)(vu,{}),Object(V.jsx)(K,{}),Object(V.jsx)(Jr,{}),Object(V.jsx)(dn,{})]})}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(k.HashLoader,{color:et})})}}]),r}(n.Component),ph=Object(q.b)((function(e){return{groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,sidebarDocked:e.dashboardSidebar.sidebarDocked,sidebarOpen:e.dashboardSidebar.sidebarOpen,authStatus:e.auth.authStatus,authenticating:e.auth.authenticating,user:e.auth.user,userLoaded:e.auth.userLoaded,notifications:e.manageNotifications.notifications,notificationsAnchorEl:e.manageNotifications.notificationsAnchorEl,notificationBellRef:e.manageNotifications.notificationBellRef,editUserProfile_userEdited:e.editUser.userEdited}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},toggleSidebar:function(t){return e(To(t))},editUserProfile_setOriginalUserAndEditedUser:function(t){return e(zc(t))},toggleNotifications:function(t){return e(hu())},notificationRefUpdated:function(t){return e(gu(t))}}}))(uh),hh=v.a.create({page_title:{fontSize:19,marginLeft:8,color:be}}),jh=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).setDataForComponents=function(){var e=n.props,t=e.user,r=e.editUserProfile_userEdited,a=e.editUserProfile_setOriginalUserAndEditedUser;!t||t&&1!==t.type||r||a(t)},n.renderPageContent=function(){var e=Cu.a.parse(n.props.location.search);return e.tab===Ds?Object(V.jsx)(Hu,{}):e.tab===Ts?Object(V.jsx)(nu,{}):e.tab===Rs?Object(V.jsx)(ui,{}):e.tab===Ls?Object(V.jsx)(hp,{}):e.tab===Us?Object(V.jsx)(oh,{}):void 0},n.renderPageTitle=function(){var e="";switch(Cu.a.parse(n.props.location.search).tab){case Ds:e=Ds;break;case Ts:e=Ts;break;case Us:e=Us;break;case Rs:e=Rs;break;case Ls:e=Ls;break;default:return}return Object(V.jsx)(A.a,{variant:"h6",className:Object(v.b)(bh.page_title),children:e})},n.notificationBell=a.a.createRef(),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.setGroupUserNameFromParams,a=e.setExpectedAndCurrentPathsForChecking,i=e.loadAngelNetwork,o=e.notificationRefUpdated,s=e.history,c=e.match,l=ch("redirectToAfterAuth");l&&(lh("redirectToAfterAuth"),s.push(l)),n(c.params.hasOwnProperty("groupUserName")?c.params.groupUserName:null),a(c.params.hasOwnProperty("groupUserName")?En:Dn,c.path),i(),t&&r&&this.setDataForComponents(),o(this.notificationBell.current)}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.loadAngelNetwork,s=n.notificationRefUpdated;o(),a&&i&&this.setDataForComponents(),s(this.notificationBell.current)}},{key:"render",value:function(){var e=this.props,t=e.shouldLoadOtherData,r=e.groupProperties,n=e.groupPropertiesLoaded,a=e.sidebarDocked,i=e.sidebarOpen,o=e.authStatus,s=e.authenticating,c=e.user,l=e.userLoaded,d=e.notifications,u=e.notificationsAnchorEl,p=e.toggleSidebar,h=e.toggleNotifications;return n?t?s||!l?Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})}):o!==co||!c||c&&1!==c.type?Object(V.jsx)(jn,{}):Object(V.jsx)(y.a,{sidebar:Object(V.jsx)(qs,{dashboardProps:this.props}),open:i,docked:a,onSetOpen:function(){return p(!0)},transitions:!0,shadow:!1,styles:{sidebar:{backgroundColor:Pe},content:{backgroundColor:Oe}},children:Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{height:55,width:"100%",vAlignContent:"center",style:{backgroundColor:r?r.settings.primaryColor:et},children:Object(V.jsxs)(I.a,{noGutters:!0,style:{width:"100%"},children:[Object(V.jsx)(E.a,{xs:10,sm:10,md:11,lg:11,children:Object(V.jsxs)(x.a,{vAlignContent:"center",width:"100%",children:[Object(V.jsx)(C.a,{className:Object(v.b)(ot.hamburger_button),onClick:function(){return p(!0)},children:Object(V.jsx)(T.a,{})}),this.renderPageTitle()]})}),Object(V.jsx)(E.a,{xs:2,sm:2,md:1,lg:1,style:{paddingRight:13},children:Object(V.jsx)(x.a,{vAlignContent:"center",hAlignContent:"right",width:"100%",children:Object(V.jsx)("div",{ref:this.notificationBell,children:Object(V.jsx)(C.a,{onClick:h,children:Object(V.jsx)(P.a,{badgeContent:d.length,color:"secondary",invisible:0===d.length,children:Object(V.jsx)(S.a,{className:Object(v.b)(ot.white_text)})})})})})})]})})})}),this.renderPageContent(),null!==u&&Object(V.jsx)(vu,{}),Object(V.jsx)(K,{}),Object(V.jsx)(Jr,{}),Object(V.jsx)(dn,{})]})}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),r}(n.Component),gh=Object(q.b)((function(e){return{groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,sidebarDocked:e.dashboardSidebar.sidebarDocked,sidebarOpen:e.dashboardSidebar.sidebarOpen,clubAttributes:e.manageClubAttributes.clubAttributes,clubAttributesLoaded:e.manageClubAttributes.clubAttributesLoaded,authStatus:e.auth.authStatus,authenticating:e.auth.authenticating,user:e.auth.user,userLoaded:e.auth.userLoaded,notifications:e.manageNotifications.notifications,notificationsAnchorEl:e.manageNotifications.notificationsAnchorEl,notificationBellRef:e.manageNotifications.notificationBellRef,editUserProfile_userEdited:e.editUser.userEdited}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},toggleSidebar:function(t){return e(To(t))},editUserProfile_setOriginalUserAndEditedUser:function(t){return e(zc(t))},toggleNotifications:function(t){return e(hu())},notificationRefUpdated:function(t){return e(gu(t))}}}))(jh),bh=v.a.create({page_title:{fontSize:19,marginLeft:8,color:be}}),mh=r(787),fh=r(788),Oh=r(789),xh=r(33),vh=r.n(xh),yh=r(783),Ah=r(806),Ch=r(406),Ph=r.n(Ch),wh=r(405),Sh=function(e){return/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim().toLowerCase())},_h=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,n,a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serverURL,n=t.emailType,a=t.data,e.abrupt("return",new Promise(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,i){var o,s;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={},e.prev=1,1!==n){e.next=7;break}return e.next=5,R.auth().currentUser.getIdToken(!0);case 5:s=e.sent,o={headers:{Authorization:s}};case 7:return e.next=9,ea.a.post("".concat(r).concat(ta.sendEmailRoute),{emailType:n,emailInfo:a},o);case 9:return e.abrupt("return",t());case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",i(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ih="TOGGLE_INVITATION_DIALOG",Eh=function(){return{type:Ih}},Dh="INVITATION_DIALOG_INPUT_CHANGED",Th="INVITATION_DIALOG_SEND_BUTTON_CLICKED",kh="INVITATION_DIALOG_SEND_RESULT_CHANGED",Nh=1,Rh=2,Uh=3,Lh=4,Bh=5,Fh=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderRespondCode=function(){var t=e.props,r=t.sendResult,n=t.sendStatusExtraInfo,a={msg:"",color:""};switch(r){case 0:return null;case Nh:a.msg="Checking...",a.color="primary";break;case Rh:a.msg=n.hasOwnProperty("officialUserID")?"This user is already an ".concat(1===n.type?"investor":"issuer"," in your group."):"You have invited this user as an ".concat(1===n.type?"investor":"issuer"," before."),a.color="error";break;case Uh:a.msg="User is an admin or an issuer of another group.",a.color="error";break;case Lh:a.msg="Error happened. Couldn't invite this user.",a.color="error";break;case Bh:a.msg="Invitation has been sent to this user.",a.color="primary"}return Object(V.jsx)(A.a,{color:a.color,variant:"subtitle1",children:a.msg})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.invitationDialogOpen,n=e.title,a=e.firstName,i=e.lastName,o=e.email,s=e.userType,c=e.sendButtonClick,l=(e.sendResult,e.sendStatusExtraInfo,e.toggleInvitationDialog),d=e.handleInputChanged,u=e.sendInvitation,p=Object(X.a)(e,["forwardedRef","invitationDialogOpen","title","firstName","lastName","email","userType","sendButtonClick","sendResult","sendStatusExtraInfo","toggleInvitationDialog","handleInputChanged","sendInvitation"]);return Object(V.jsxs)(U.a,Object(b.a)(Object(b.a)({ref:t,open:r,fullWidth:!0,maxWidth:"md",onClose:l},p),{},{children:[Object(V.jsx)(L.a,{disableTypography:!0,children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{grow:4,children:Object(V.jsx)(A.a,{variant:"h6",color:"primary",align:"left",children:"Send invitation email"})}),Object(V.jsx)(x.a,{grow:1,hAlignContent:"right",children:Object(V.jsx)(C.a,{onClick:l,children:Object(V.jsx)(ie.a,{})})})]})}),Object(V.jsxs)(B.a,{style:{marginTop:10},children:[Object(V.jsxs)(Gi.a,{required:!0,error:c&&n===Gt[0],children:[Object(V.jsx)(Ys.a,{children:"Title"}),Object(V.jsx)(Ws.a,{name:"title",value:n,margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:d,children:Gt.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)}))})]}),Object(V.jsx)(Yr.a,{label:"First name",placeholder:"Write first name here ...",name:"firstName",value:a,fullWidth:!0,margin:"normal",variant:"outlined",required:!0,error:c&&0===a.length,onChange:d}),Object(V.jsx)(Yr.a,{label:"Last name",placeholder:"Write last name here ...",name:"lastName",value:i,fullWidth:!0,margin:"normal",variant:"outlined",required:!0,error:c&&0===i.length,onChange:d}),Object(V.jsx)(Yr.a,{label:"Email",placeholder:"Write email here ...",name:"email",value:o,fullWidth:!0,margin:"normal",variant:"outlined",required:!0,error:c&&0===o.length,onChange:d}),Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsxs)(Gi.a,{required:!0,error:c&&0===s.length,children:[Object(V.jsx)(Ys.a,{children:"User type"}),Object(V.jsxs)(yh.a,{row:!0,name:"userType",value:s,onChange:d,children:[Object(V.jsx)(Js.a,{value:2..toString(),control:Object(V.jsx)(Ah.a,{color:"primary"}),label:"Issuer"}),Object(V.jsx)(Js.a,{value:1..toString(),control:Object(V.jsx)(Ah.a,{color:"primary"}),label:"Investor"})]})]})})]}),Object(V.jsx)(F.a,{children:Object(V.jsxs)(x.a,{width:"100%",marginRight:25,marginBottom:15,hAlignContent:"right",vAlignContent:"center",children:[this.renderRespondCode(),Object(V.jsxs)(G.a,{variant:"outlined",color:"primary",onClick:u,size:"medium",className:Object(v.b)(ot.no_text_transform),style:{marginLeft:35},children:["Send",Object(V.jsx)(Ph.a,{fontSize:"small",style:{marginLeft:8}})]})]})})]}))}}]),r}(n.Component),Gh=Object(q.b)((function(e){return{invitationDialogOpen:e.manageInvitationDialog.invitationDialogOpen,title:e.manageInvitationDialog.title,firstName:e.manageInvitationDialog.firstName,lastName:e.manageInvitationDialog.lastName,email:e.manageInvitationDialog.email,userType:e.manageInvitationDialog.userType,sendButtonClick:e.manageInvitationDialog.sendButtonClick,sendResult:e.manageInvitationDialog.sendResult,sendStatusExtraInfo:e.manageInvitationDialog.sendStatusExtraInfo}}),(function(e){return{handleInputChanged:function(t){return e(function(e){return{type:Dh,event:e}}(t))},toggleInvitationDialog:function(){return e(Eh())},sendInvitation:function(){return e((function(e,t){e({type:Th});var r=t().manageInvitationDialog,n=r.title,a=r.firstName,i=r.lastName,o=r.email,s=r.userType;if(n!==Gt[0]&&0!==a.trim().length&&0!==i.trim().length&&0!==o.trim().length&&0!==s.trim().length){e({type:kh,result:Nh});var c=t().auth.user,l=t().manageGroupFromParams.groupUserName,d=t().manageGroupFromParams.groupProperties,u=t().manageClubAttributes.clubAttributes;ga(o).then((function(t){var r,p=!1,h=!1,j=Object(wh.a)(t);try{for(j.s();!(r=j.n()).done;){var g=r.value;if(g.Invitor.anid===d.anid){p=!0,e({type:kh,result:Rh,extraInfo:g.Invitee});break}if(2===g.Invitee.type&&g.Invitor.anid!==d.anid){h=!0,e({type:kh,result:Uh,extraInfo:null});break}}}catch(b){j.e(b)}finally{j.f()}p||h||p||da(o).then((function(t){if(t.userExists&&t.hasOwnProperty("userIsAnAdmin")&&t.userIsAnAdmin)e({type:kh,result:Uh,extraInfo:null});else{var r=R.database().ref(xt).push().key,p={title:n,firstName:a,lastName:i,email:o.toLowerCase(),type:parseInt(s),status:0,id:r,invitedDate:$t(),invitedBy:d.anid};_h({serverURL:u.serverURL,emailType:1,data:{groupName:d.displayName,groupLogo:pr(1,d),groupWebsite:d.website,groupContactUs:"".concat(u.websiteURL,"/groups/").concat(d.groupUserName,"/contact-us"),sender:c.email,receiver:p.email,receiverName:"".concat(p.title," ").concat(p.firstName," ").concat(p.lastName),userType:2===p.type?"Issuer":"Investor",signupURL:l?"".concat(u.websiteURL,"/groups/").concat(l,"/signup/").concat(p.id):"".concat(u.websiteURL,"/signup/").concat(p.id)}}).then((function(){R.database().ref(xt).child(r).set(p).then((function(){aa({userID:c.id,activityType:4,interactedObjectLocation:xt,interactedObjectID:p.id,activitySummary:"Invited %userName% to %group% as an %userType%.".replace("%userName%","".concat(p.firstName," ").concat(p.lastName)).replace("%group%",d.displayName).replace("%userType%",2===p.type?"Issuer":"Investor"),action:kn.replace(":userID",p.id),value:p}),e({type:kh,result:Bh,extraInfo:null}),e({type:Er,message:"Email has been sent.",color:"primary",position:"bottom"})}))})).catch((function(t){e({type:kh,result:Lh,extraInfo:null}),e({type:Er,message:"Error happened.",color:"error",position:"bottom"})}))}})).catch((function(t){e({type:kh,result:Lh,extraInfo:null}),e({type:Er,message:"Error happened.",color:"error",position:"bottom"})}))})).catch((function(t){e({type:kh,result:Lh,extraInfo:null})}))}}))}}}))(a.a.forwardRef((function(e,t){return Object(V.jsx)(Fh,Object(b.a)(Object(b.a)({},e),{},{forwardedRef:t}))}))),Mh=r(784),qh=r(785),Wh=r(786),Qh=r(407),Vh=r.n(Qh),Hh=r(81),Jh=r.n(Hh),zh=(r(249),"SUPER_ADMIN_SETTINGS_INITIALIZE_CLUB_ATTRIBUTES_EDITED"),Yh="SUPER_ADMIN_SETTINGS_INPUT_CHANGED",Kh="SUPER_ADMIN_SETTINGS_QUILL_EDITOR_CHANGED",Xh="SUPER_ADMIN_SETTINGS_PLEDGE_FAQ_PANEL_EXPANSION_CHANGED",Zh="SUPER_ADMIN_SETTINGS_TOGGLE_EDIT_EXPANDED_PLEDGE_FAQ",$h="SUPER_ADMIN_SETTINGS_TOGGLE_ADD_NEW_PLEDGE_FAQ",ej=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"getSystemAttributes",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("get",ta.retrieveSystemAttributesRoute);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSystemAttributes",value:function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("put",ta.updateSystemAttributesRoute,{requestBody:t,queryParameters:null});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.SetSectors="ManageSectorsEvents.SetSectors",e.ToggleAddNewSector="ManageSectorsEvents.ToggleAddNewSector",e.AddNewSectorTextChanged="ManageSectorsEvents.AddNewSectorTextChanged",e.SavingSectorsChanges="ManageSectorsEvents.SavingSectorsChanges",e.CompletedSavingSectorsChanges="ManageSectorsEvents.CompletedSavingSectorsChanges"}(dh||(dh={}));var tj,rj=function(e){return function(t,r){return t({type:dh.SetSectors,sectors:Object(gn.a)(e)})}},nj=function(){return function(e,t){return e({type:dh.ToggleAddNewSector})}};!function(e){e.LoadingSystemAttributes="ManageSystemAttributesEvents.LoadingSystemAttributes",e.FinishedLoadingSystemAttributes="ManageSystemAttributesEvents.FinishedLoadingSystemAttributes"}(tj||(tj={}));var aj,ij={systemAttributes:null,systemAttributesLoaded:!1,loadingSystemAttributes:!1},oj=function(e){return e.loadingSystemAttributes},sj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ij,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tj.LoadingSystemAttributes:return Object(b.a)(Object(b.a)({},e),{},{systemAttributes:null,systemAttributesLoaded:!1,loadingSystemAttributes:!0});case tj.FinishedLoadingSystemAttributes:var r=t;return Object(b.a)(Object(b.a)({},e),{},{systemAttributes:r.systemAttributes,systemAttributesLoaded:!0,loadingSystemAttributes:!1,error:r.error});default:return e}},cj={addingNewSector:!1,newSector:"",sectors:[],savingSectors:!1},lj=function(e){return e.savingSectors},dj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dh.SetSectors:var r=t;return Object(b.a)(Object(b.a)({},e),{},{sectors:r.sectors});case dh.ToggleAddNewSector:return Object(b.a)(Object(b.a)({},e),{},{addingNewSector:!e.addingNewSector,newSector:""});case dh.AddNewSectorTextChanged:var n=t;return Object(b.a)(Object(b.a)({},e),{},{newSector:n.value});case dh.SavingSectorsChanges:return Object(b.a)(Object(b.a)({},e),{},{savingSectors:!0,errorSavingSectors:void 0});case dh.CompletedSavingSectorsChanges:var a=t;return Object(b.a)(Object(b.a)({},e),{},{savingSectors:!1,errorSavingSectors:void 0!==a.error?{detail:a.error}:e.errorSavingSectors});default:return e}},uj=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e,t=this.props,r=t.ManageSystemAttributesState,n=t.ManageSectorsLocalState,a=t.toggleAddNewSector,i=t.onTextChanged,o=t.addNewSector,s=t.deleteSector,c=t.saveSectorsChanges,l=t.cancelSectorsChanges;return(e=r).systemAttributes&&void 0===e.error?Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit sectors"}),Object(V.jsx)(Vl.a,{height:"15px"}),Object(V.jsxs)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"outlined",onClick:function(){return a()},children:[n.addingNewSector?Object(V.jsx)(ie.a,{}):Object(V.jsx)(ne.a,{}),Object(V.jsx)(Vl.a,{width:"6px"}),n.addingNewSector?"Cancel adding new sector":"Add new sector"]}),n.addingNewSector?Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px",children:[Object(V.jsx)(Yr.a,{variant:"outlined",margin:"dense",onChange:i}),Object(V.jsx)(Vl.a,{width:"15px"}),Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"contained",color:"primary",onClick:function(){return o()},children:"Add"})]}):null,Object(V.jsx)(Vl.a,{height:"30px"}),n.sectors.map((function(e){return Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px",children:[Object(V.jsx)(A.a,{align:"left",variant:"body1",children:e}),Object(V.jsx)(Vl.a,{width:"10px"}),Object(V.jsx)(C.a,{onClick:function(){return s(e)},children:Object(V.jsx)(lu.a,{fontSize:"small"})})]})})),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",marginTop:"20px",children:[Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"outlined",onClick:function(){return l()},children:"Cancel changes"}),Object(V.jsx)(Vl.a,{width:"15px"}),Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"contained",color:"primary",onClick:function(){return c()},disabled:lj(n),children:lj(n)?"Saving ...":"Save changes"})]})]}):null}}]),r}(n.Component),pj=Object(q.b)((function(e){return{ManageSystemAttributesState:e.ManageSystemAttributesState,ManageSectorsLocalState:e.ManageSectorsLocalState}}),(function(e){return{toggleAddNewSector:function(){return e(nj())},onTextChanged:function(t){return e(function(e){return function(t,r){return t({type:dh.AddNewSectorTextChanged,value:e.target.value})}}(t))},addNewSector:function(){return e((function(e,t){var r=Object(gn.a)(t().ManageSectorsLocalState.sectors),n=t().ManageSectorsLocalState.newSector;return r.push(n),e(rj(r)),e(nj())}))},deleteSector:function(t){return e(function(e){return function(t,r){var n=Object(gn.a)(r().ManageSectorsLocalState.sectors),a=n.findIndex((function(t){return t===e}));return-1!==a&&n.splice(a,1),t(rj(n))}}(t))},saveSectorsChanges:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(JSON.stringify(r().ManageSystemAttributesState.systemAttributes))){e.next=3;break}return e.abrupt("return");case 3:return a=Object(gn.a)(r().ManageSectorsLocalState.sectors),i={type:dh.CompletedSavingSectorsChanges},e.prev=5,n.Sectors=a,t({type:dh.SavingSectorsChanges}),e.next=10,(new ej).updateSystemAttributes(n);case 10:return e.abrupt("return",t(i));case 13:return e.prev=13,e.t0=e.catch(5),i.error=e.t0.toString(),t(fp(mp.Error,i.error)),e.abrupt("return",t(i));case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,r){return e.apply(this,arguments)}}())},cancelSectorsChanges:function(){return e((function(e,t){var r=t().ManageSystemAttributesState.systemAttributes;if(r)return e(rj(Object(gn.a)(r.Sectors)))}))}}}))(uj),hj=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleExpandPledgeFAQPanel=function(t){return function(r,n){e.props.handleExpandPledgeFAQPanel(t,n)}},e.handleQuillEditorChanged=function(t){return function(r,n,a,i){e.props.handleQuillEditorChanged(t,r,n,a,i)}},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.initializeClubAttributesEdited)()}},{key:"render",value:function(){var e=this,t=this.props,r=t.clubAttributes,n=t.clubAttributesEdited,a=t.addNewPledgeFAQ,i=t.addedPledgeQuestion,o=t.addedPledgeAnswer,s=t.expandedPledgeFAQ,c=t.editExpandedPledgeFAQ,l=t.editedPledgeQuestion,d=t.editedPledgeAnswer,u=t.handleInputChanged,p=t.toggleAddNewPledgeFAQ,h=t.submitNewPledgeFAQ,j=t.toggleEditExpandedPledgeFAQ,g=t.saveEditedPledgeFAQ,b=t.deleteExistingPledgeFAQ,f=t.saveEditedQuill;return r&&n?Object(V.jsxs)(_.a,{fluid:!0,style:{padding:30},children:[Object(V.jsx)(Dp,{}),Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Manage system's functions"}),Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(Js.a,{name:"allowVideoUpload",control:Object(V.jsx)(zs.a,{color:"primary",value:n.allowVideoUpload,checked:n.allowVideoUpload,onChange:u}),label:"Allow video upload",labelPlacement:"end"}),Object(V.jsx)(Xs.a,{children:"Allow videos (Introduction video in Profile page and Pitch cover video) to be uploaded to the database. When turned off, the users cannot upload videos from their machines, instead they can only upload a video URL."})]})})]}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit support email"}),Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsx)(Yr.a,{name:"supportEmail",label:"Support email",value:n.supportEmail,margin:"normal",variant:"outlined",fullWidth:!0,required:!0,onChange:u})})]}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(pj,{})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit FAQs in Pledge Page"}),Object(V.jsxs)(G.a,{onClick:p,variant:"outlined",className:Object(v.b)(ot.no_text_transform),style:{marginTop:18},children:[a?Object(V.jsx)(ie.a,{fontSize:"small",style:{marginRight:6}}):Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:6}}),a?"Cancel adding new FAQ":"Add new FAQ"]}),a?Object(V.jsxs)(x.a,{column:!0,marginTop:15,children:[Object(V.jsx)(Yr.a,{name:"addedPledgeQuestion",label:"Question",value:i,margin:"dense",variant:"outlined",fullWidth:!0,required:!0,onChange:u}),Object(V.jsx)(Yr.a,{name:"addedPledgeAnswer",label:"Answer",value:o,margin:"dense",variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rowsMax:5,onChange:u,style:{marginTop:10}}),Object(V.jsx)(x.a,{hAlignContent:"right",marginTop:10,children:Object(V.jsx)(G.a,{onClick:h,variant:"contained",color:"primary",className:Object(v.b)(ot.no_text_transform),children:"Add"})})]}):null,Object(V.jsx)(x.a,{column:!0,marginTop:20,children:n.PledgeFAQs?n.PledgeFAQs.map((function(t){return Object(V.jsxs)(Mh.a,{elevation:0,className:Object(v.b)(bj.frequently_asked_question_box),expanded:!(!s||t.id!==s.id),onChange:e.handleExpandPledgeFAQPanel(t),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:Object(V.jsx)("b",{children:t.question})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",children:t.answer}),Object(V.jsxs)(x.a,{marginTop:28,children:[Object(V.jsxs)(G.a,{onClick:j,variant:"outlined",color:s&&s.id===t.id&&c?"default":"primary",className:Object(v.b)(ot.no_text_transform),children:[s&&s.id===t.id&&c?Object(V.jsx)(ie.a,{fontSize:"small",style:{marginRight:6}}):Object(V.jsx)(qu.a,{fontSize:"small",style:{marginRight:6}}),s&&s.id===t.id&&c?"Cancel editing":"Edit"]}),Object(V.jsxs)(G.a,{onClick:b,variant:"outlined",color:"secondary",className:Object(v.b)(ot.no_text_transform),style:{marginLeft:12},children:[Object(V.jsx)(Vh.a,{fontSize:"small",style:{marginRight:6}}),"Delete"]})]}),s&&s.id===t.id&&c?Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"right",marginTop:12,children:[Object(V.jsx)(Yr.a,{name:"editedPledgeQuestion",label:"Question",value:l,margin:"dense",variant:"outlined",fullWidth:!0,required:!0,error:0===l.trim().length,onChange:u}),Object(V.jsx)(Yr.a,{name:"editedPledgeAnswer",label:"Answer",value:d,margin:"dense",variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rowsMax:5,error:0===d.trim().length,onChange:u,style:{marginTop:10}}),Object(V.jsx)(G.a,{onClick:g,variant:"contained",color:"primary",className:Object(v.b)(ot.no_text_transform),style:{marginTop:10},children:"Save"})]}):null]})})]},t.id)})):null})]}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit privacy policy"}),Object(V.jsx)(m.b,{to:Xn,target:"_blank",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),style:{marginTop:30},children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),children:"View privacy policy page"})}),Object(V.jsx)(Jh.a,{theme:"snow",onChange:this.handleQuillEditorChanged("privacyPolicy"),modules:gj,value:n.hasOwnProperty("privacyPolicy")?n.privacyPolicy:{ops:[]},style:{marginTop:20}}),Object(V.jsx)(x.a,{marginTop:15,width:"100%",hAlignContent:"right",children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){return f("privacyPolicy")},style:{marginLeft:12},children:"Save"})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit terms of use"}),Object(V.jsx)(m.b,{to:Kn,target:"_blank",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),style:{marginTop:30},children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),children:"View terms of use page"})}),Object(V.jsx)(Jh.a,{theme:"snow",onChange:this.handleQuillEditorChanged("termsOfUse"),modules:gj,value:n.hasOwnProperty("termsOfUse")?n.termsOfUse:{ops:[]},style:{marginTop:20}}),Object(V.jsx)(x.a,{marginTop:15,width:"100%",hAlignContent:"right",children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){return f("termsOfUse")},style:{marginLeft:12},children:"Save"})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit risk warnings"}),Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:"Risk warning footer"})}),Object(V.jsx)("br",{}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",color:"textSecondary",children:["Risk warning footer is used in the footer of the Explore Offers page and the Pledge page.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"As the group's name will be populated dynamically, therefore, anywhere in the text that needs to use group's name, please replace it with ",Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"%groupName%"})}),".",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Also, this risk warning footer will need to have a URL that leads to the risk warning page where the information will be further explained. Therefore, please use the following format to express the URL:",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"%URL%any text inside%URL%"})}),". For example:\xa0",Object(V.jsx)("b",{children:"%URL%Please click here to see full risk warning.%URL%"}),". The URL doesn't need to be put here manually, it will be done on the development side as long as the format is correct."]}),Object(V.jsx)("br",{}),Object(V.jsx)(Yr.a,{variant:"outlined",name:"riskWarningFooter",placeholder:"Edit risk warning footer",value:n.riskWarningFooter,onChange:u,multiline:!0,rowsMax:10,rows:10})]}),Object(V.jsx)(Z.a,{style:{marginTop:50,marginBottom:40}}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:"Risk warning page"})}),Object(V.jsx)("br",{}),Object(V.jsx)(m.b,{to:"/risk-warning-footer",target:"_blank",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),children:"View risk warning page"})}),Object(V.jsx)(Jh.a,{theme:"snow",onChange:this.handleQuillEditorChanged("riskWarning"),modules:gj,value:n.hasOwnProperty("riskWarning")?n.riskWarning:{ops:[]},style:{marginTop:20}}),Object(V.jsx)(x.a,{marginTop:15,width:"100%",hAlignContent:"right",children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){return f("riskWarning")},style:{marginLeft:12},children:"Save"})})]})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit create pitch terms and conditions"}),Object(V.jsx)(m.b,{to:Zn,target:"_blank",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),style:{marginTop:30},children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),children:"View create pitch terms and conditions page"})}),Object(V.jsx)(Jh.a,{theme:"snow",onChange:this.handleQuillEditorChanged("createPitchTermsAndConditions"),modules:gj,value:n.hasOwnProperty("createPitchTermsAndConditions")?n.createPitchTermsAndConditions:{ops:[]},style:{marginTop:20}}),Object(V.jsx)(x.a,{marginTop:15,width:"100%",hAlignContent:"right",children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){return f("createPitchTermsAndConditions")},style:{marginLeft:12},children:" Save"})})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:3,backgroundColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Edit marketing preferences"}),Object(V.jsx)(m.b,{to:"/marketing-preferences",target:"_blank",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),style:{marginTop:30},children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),children:"View marketing preferences page"})}),Object(V.jsx)(Jh.a,{theme:"snow",onChange:this.handleQuillEditorChanged("marketingPreferences"),modules:gj,value:n.hasOwnProperty("marketingPreferences")?n.marketingPreferences:{ops:[]},style:{marginTop:20}}),Object(V.jsx)(x.a,{marginTop:15,width:"100%",hAlignContent:"right",children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){return f("marketingPreferences")},style:{marginLeft:12},children:"Save"})})]})})]})]}):null}}]),r}(n.Component),jj=Object(q.b)((function(e){return{clubAttributes:e.manageClubAttributes.clubAttributes,clubAttributesEdited:e.superAdminSettings.clubAttributesEdited,addNewPledgeFAQ:e.superAdminSettings.addNewPledgeFAQ,addedPledgeQuestion:e.superAdminSettings.addedPledgeQuestion,addedPledgeAnswer:e.superAdminSettings.addedPledgeAnswer,expandedPledgeFAQ:e.superAdminSettings.expandedPledgeFAQ,editExpandedPledgeFAQ:e.superAdminSettings.editExpandedPledgeFAQ,editedPledgeQuestion:e.superAdminSettings.editedPledgeQuestion,editedPledgeAnswer:e.superAdminSettings.editedPledgeAnswer}}),(function(e){return{initializeClubAttributesEdited:function(){return e((function(e,t){e({type:zh,clubAttributes:t().manageClubAttributes.clubAttributes})}))},handleInputChanged:function(t){return e(function(e){return function(t,r){var n=r().superAdminSettings.clubAttributesEdited,a=e.target,i=!1;switch(a.type){case"checkbox":if(n.hasOwnProperty(a.name))return void R.database().ref(pt).child(a.name).set(a.checked);break;case"radio":if(n.hasOwnProperty(a.name))return void R.database().ref(pt).child(a.name).set(isNaN(a.value)?a.value:parseInt(a.value));break;case"text":case"textarea":n.hasOwnProperty(a.name)&&(i=!0,R.database().ref(pt).child(a.name).set(a.value));break;default:return}t({type:Yh,name:a.name,value:"checkbox"===a.type?a.checked:a.value,isPropertyOfClubAttributes:i})}}(t))},handleExpandPledgeFAQPanel:function(t,r){return e(function(e,t){return function(r,n){var a=n().superAdminSettings.expandedPledgeFAQ;t?r({type:Xh,expandedPledgeFAQ:e,editExpandedPledgeFAQ:!1}):a&&a.id===e.id&&r({type:Xh,expandedPledgeFAQ:null,editExpandedPledgeFAQ:!1})}}(t,r))},toggleAddNewPledgeFAQ:function(){return e({type:$h})},submitNewPledgeFAQ:function(){return e((function(e,t){var r=t().superAdminSettings,n=r.addedPledgeQuestion,a=r.addedPledgeAnswer,i=Object.assign({},t().manageClubAttributes.clubAttributes);if(0!==n.trim().length&&0!==a.trim().length){var o={id:$t(),question:n,answer:a};i.PledgeFAQs?i.PledgeFAQs.push(o):i.PledgeFAQs=[o],R.database().ref(pt).child(St).update(i.PledgeFAQs).then((function(){e({type:$h})}))}}))},toggleEditExpandedPledgeFAQ:function(){return e({type:Zh})},saveEditedPledgeFAQ:function(){return e((function(e,t){var r=t().superAdminSettings,n=r.clubAttributesEdited,a=r.expandedPledgeFAQ,i=r.editedPledgeQuestion,o=r.editedPledgeAnswer;if(0!==i.trim().length&&0!==o.trim().length){var s={id:a.id,question:i,answer:o},c=n.PledgeFAQs.findIndex((function(e){return e.id===a.id}));n.PledgeFAQs[c]=s,R.database().ref(pt).child(St).set(n.PledgeFAQs).then((function(){e({type:Zh})}))}}))},deleteExistingPledgeFAQ:function(){return e((function(e,t){var r=t().superAdminSettings.expandedPledgeFAQ,n=Object.assign({},t().manageClubAttributes.clubAttributesEdited),a=n.PledgeFAQs.findIndex((function(e){return e.id===r.id}));n.PledgeFAQs.splice(a,1),R.database().ref(pt).child(St).set(n.PledgeFAQs)}))},handleQuillEditorChanged:function(t,r,n,a,i){return e(function(e,t,r,n,a){return function(t,r){0===a.getText().trim().length?t({type:Kh,fieldName:e,value:{ops:[]}}):t({type:Kh,fieldName:e,value:a.getContents()})}}(t,0,0,0,i))},saveEditedQuill:function(t){return e(function(e){return function(t,r){R.database().ref(pt).child(e).set(r().superAdminSettings.clubAttributesEdited[e])}}(t))}}}))(hj),gj={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},bj=v.a.create({frequently_asked_question_box:{border:"1px solid ".concat(ye),marginTop:12}}),mj=r(800),fj="GROUP_ADMIN_SETTINGS_INITIALIZE_GROUP_ATTRIBUTES_EDITED",Oj="GROUP_ADMIN_SETTINGS_CHANGED",xj="GROUP_ADMIN_SETTINGS_PLEDGE_FAQ_PANEL_EXPANSION_CHANGED",vj="GROUP_ADMIN_SETTINGS_TOGGLE_EDIT_EXPANDED_PLEDGE_FAQ",yj="GROUP_ADMIN_SETTINGS_TOGGLE_ADD_NEW_PLEDGE_FAQ",Aj="GROUP_ADMIN_SETTINGS_CANCEL_EDITING_GROUP_DETAILS",Cj="GROUP_ADMIN_SETTINGS_CANCEL_EDITING_COLOR",Pj=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleExpandPledgeFAQPanel=function(t){return function(r,n){e.props.handleExpandPledgeFAQPanel(t,n)}},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.initializeGroupAttributesEdited)()}},{key:"render",value:function(){var e=this.props,t=e.groupUserName,r=e.groupDetails,n=e.groupAttributesEdited,a=e.groupWebsite,i=e.groupDescription,o=e.primaryColor,s=e.secondaryColor,c=e.handleInputChanged,l=e.handlePitchExpiryDateChanged,d=e.handleSavePitchExpiryDate,u=e.handleCancelEditingPitchExpiryDate,p=e.saveGroupDetails,h=e.cancelEditingGroupDetails,j=e.saveColor,g=e.cancelEditingColor;return n?Object(V.jsx)(_.a,{fluid:!0,style:{padding:30},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Manage group details"}),Object(V.jsx)(x.a,{marginTop:16,marginBottom:32,children:Object(V.jsx)(m.b,{to:t?Qn.replace(":groupUserName",t).replace(":groupID",r.anid):Vn.replace(":groupID",r.anid),className:Object(v.b)(ot.nav_link_white_text_hover_without_changing_text_color),children:Object(V.jsxs)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",children:[Object(V.jsx)(tc.a,{style:{marginRight:8}}),"View group's public page"]})})}),Object(V.jsxs)(x.a,{column:!0,marginTop:20,children:[Object(V.jsx)(Yr.a,{name:"description",value:i,variant:"outlined",label:"Group description",multiline:!0,rowsMax:5,rows:5,onChange:c}),Object(V.jsxs)(x.a,{width:"100%",hAlignContent:"right",marginTop:15,children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return h("description")},style:{marginRight:6},children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return p("description",i)},disabled:r.description===i,style:{marginLeft:6},children:"Save"})]})]}),Object(V.jsxs)(x.a,{marginTop:35,column:!0,children:[Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Yr.a,{label:"Website",placeholder:"Official website",name:"website",value:a,fullWidth:!0,margin:"dense",variant:"outlined",required:!0,onChange:c,error:0===a.trim().length||a.trim().length>0&&!gr(a)}),0===a.trim().length||gr(a)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",children:"Invalid website URL"})]}),Object(V.jsxs)(x.a,{width:"100%",hAlignContent:"right",marginTop:15,children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return h("website")},style:{marginRight:6},children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return p("website",a)},disabled:r.website===a||0===a.trim().length||a.trim().length>0&&!gr(a),style:{marginLeft:6},children:"Save"})]})]}),Object(V.jsx)(x.a,{marginTop:35,column:!0,children:Object(V.jsx)(Gi.a,{fullWidth:!0,children:Object(V.jsx)(Yr.a,{label:"Public registration link",fullWidth:!0,margin:"dense",variant:"outlined",helperText:"This link can be shared to unregistered issuers/investors so that they can sign up and become members of your group without sending invitation emails manually.",value:"https://platform.investwest.online"+yn.constructSignUpRoute(t)})})}),Object(V.jsxs)(x.a,{marginTop:35,column:!0,children:[Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(Yr.a,{required:!0,name:"primaryColor",variant:"outlined",margin:"dense",label:"Primary color",value:o.toUpperCase(),onChange:c}),jr(o)?Object(V.jsx)(x.a,{width:20,height:20,marginLeft:15,style:{backgroundColor:o}}):null]}),jr(o)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",style:{marginTop:4},children:"Invalid color"}),Object(V.jsxs)(x.a,{width:"100%",marginTop:10,children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return g("primaryColor")},style:{marginRight:6},children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return j("primaryColor")},disabled:!jr(o)||r.settings.primaryColor===o,style:{marginLeft:6},children:"Save"})]})]}),Object(V.jsxs)(x.a,{marginTop:35,column:!0,children:[Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(Yr.a,{required:!0,name:"secondaryColor",variant:"outlined",margin:"dense",label:"Secondary color",value:s.toUpperCase(),onChange:c}),jr(s)?Object(V.jsx)(x.a,{width:20,height:20,marginLeft:15,style:{backgroundColor:s}}):null]}),jr(s)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",style:{marginTop:4},children:"Invalid color"}),Object(V.jsxs)(x.a,{width:"100%",marginTop:10,children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return g("secondaryColor")},style:{marginRight:6},children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return j("secondaryColor")},disabled:!jr(s)||r.settings.secondaryColor===s,style:{marginLeft:6},children:"Save"})]})]})]}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:4,backgroundColor:r?r.settings.primaryColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Manage group attributes"}),"qib"!==t?null:Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(mj.a,{autoOk:!0,fullWidth:!0,variant:"dialog",inputVariant:"outlined",label:"Choose expired date for this pitch",format:"dd/MM/yyyy",minDate:er(1),value:n.hasOwnProperty("defaultPitchExpiryDate")?n.defaultPitchExpiryDate:er(1),InputAdornmentProps:{position:"start"},error:!!n.hasOwnProperty("groupAttributesEdited")&&(null===n.defaultPitchExpiryDate||isNaN(n.defaultPitchExpiryDate)),onChange:l}),Object(V.jsxs)(x.a,{width:"100%",marginTop:15,children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:u,style:{marginRight:6},children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:d,disabled:!!n.hasOwnProperty("defaultPitchExpiryDate")&&(null===n.defaultPitchExpiryDate||isNaN(n.defaultPitchExpiryDate)||r.settings.hasOwnProperty("defaultPitchExpiryDate")&&n.hasOwnProperty("defaultPitchExpiryDate")&&r.settings.defaultPitchExpiryDate===n.defaultPitchExpiryDate),style:{marginLeft:6},children:"Save"})]}),Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:20,height:3}})]}),Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsxs)(Gi.a,{children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Choose default visibility value for all newly created investment opportunities"}),Object(V.jsxs)(yh.a,{name:"projectVisibility",value:n.projectVisibility.toString(),onChange:c,children:[Object(V.jsx)(Js.a,{value:1..toString(),control:Object(V.jsx)(Ah.a,{}),label:"Private"}),Object(V.jsx)(Js.a,{value:2..toString(),control:Object(V.jsx)(Ah.a,{}),label:"Restricted"}),Object(V.jsx)(Js.a,{value:3..toString(),control:Object(V.jsx)(Ah.a,{}),label:"Public"})]})]})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20,height:3}})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{marginTop:40,marginBottom:40,height:4,backgroundColor:r?r.settings.primaryColor:et}})})]})}):null}}]),r}(n.Component),wj=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupDetails:e.manageGroupFromParams.groupProperties,groupAttributesEdited:e.groupAdminSettings.groupAttributesEdited,clubAttributes:e.manageClubAttributes.clubAttributes,groupWebsite:e.groupAdminSettings.website,groupDescription:e.groupAdminSettings.description,primaryColor:e.groupAdminSettings.primaryColor,secondaryColor:e.groupAdminSettings.secondaryColor,addNewPledgeFAQ:e.groupAdminSettings.addNewPledgeFAQ,addedPledgeQuestion:e.groupAdminSettings.addedPledgeQuestion,addedPledgeAnswer:e.groupAdminSettings.addedPledgeAnswer,expandedPledgeFAQ:e.groupAdminSettings.expandedPledgeFAQ,editExpandedPledgeFAQ:e.groupAdminSettings.editExpandedPledgeFAQ,editedPledgeQuestion:e.groupAdminSettings.editedPledgeQuestion,editedPledgeAnswer:e.groupAdminSettings.editedPledgeAnswer}}),(function(e){return{initializeGroupAttributesEdited:function(){return e((function(e,t){e({type:fj,group:t().manageGroupFromParams.groupProperties})}))},handleInputChanged:function(t){return e(function(e){return function(t,r){var n=r().manageGroupFromParams.groupProperties,a=r().groupAdminSettings.groupAttributesEdited,i=e.target,o=!1,s=null,c=!1;switch(i.type){case"checkbox":a.hasOwnProperty(i.name)&&(c=!0,s=i.checked);break;case"radio":a.hasOwnProperty(i.name)&&(c=!0,s=isNaN(i.value)?i.value:parseInt(i.value));break;case"text":"primaryColor"!==i.name&&"secondaryColor"!==i.name&&a.hasOwnProperty(i.name)&&(o=!0,c=!0,s=i.value);break;case"textarea":a.hasOwnProperty(i.name)&&(o=!0);break;default:return}c&&Xa({anid:n.anid,field:i.name,value:s}).catch((function(e){t({type:Er,message:"Error happened. Could not update this field.",color:"error",position:"bottom"})})),t({type:Oj,name:i.name,value:"checkbox"===i.type?i.checked:i.value,isPropertyOfGroupAttributes:o})}}(t))},saveGroupDetails:function(t,r){return e(function(e,t){return function(r,n){var a=n().manageGroupFromParams.groupProperties;R.database().ref(dt).child(a.anid).child(e).set(t)}}(t,r))},cancelEditingGroupDetails:function(t){return e(function(e){return function(t,r){var n=r().manageGroupFromParams.groupProperties;t({type:Aj,name:e,value:n[e]})}}(t))},saveColor:function(t){return e(function(e){return function(t,r){var n=r().manageGroupFromParams.groupProperties,a="primaryColor"===e?r().groupAdminSettings.primaryColor:r().groupAdminSettings.secondaryColor;R.database().ref(dt).child(n.anid).child("settings").child(e).set(a.toUpperCase())}}(t))},cancelEditingColor:function(t){return e(function(e){return function(t,r){var n=r().manageGroupFromParams.groupProperties,a="primaryColor"===e?n.settings.primaryColor:n.settings.secondaryColor;t({type:Cj,field:e,color:a})}}(t))},handlePitchExpiryDateChanged:function(t){return e(function(e){return function(t,r){t(e&&"Invalid Date"===e?{type:Oj,isPropertyOfGroupAttributes:!0,name:"defaultPitchExpiryDate",value:NaN}:{type:Oj,isPropertyOfGroupAttributes:!0,name:"defaultPitchExpiryDate",value:e?e.getTime():null})}}(t))},handleSavePitchExpiryDate:function(){return e((function(e,t){var r=t().manageGroupFromParams.groupProperties,n=t().groupAdminSettings.groupAttributesEdited;Xa({anid:r.anid,field:"defaultPitchExpiryDate",value:n.defaultPitchExpiryDate}).catch((function(t){e({type:Er,message:"Error happened. Could not update this field.",color:"error",position:"bottom"})}))}))},handleCancelEditingPitchExpiryDate:function(){return e((function(e,t){var r=t().manageGroupFromParams.groupProperties;e({type:Oj,isPropertyOfGroupAttributes:!0,name:"defaultPitchExpiryDate",value:r.settings.hasOwnProperty("defaultPitchExpiryDate")?r.settings.defaultPitchExpiryDate:er(1)})}))},handleExpandPledgeFAQPanel:function(t,r){return e(function(e,t){return function(r,n){var a=n().groupAdminSettings.expandedPledgeFAQ;t?r({type:xj,expandedPledgeFAQ:e,editExpandedPledgeFAQ:!1}):a&&a.id===e.id&&r({type:xj,expandedPledgeFAQ:null,editExpandedPledgeFAQ:!1})}}(t,r))},toggleAddNewPledgeFAQ:function(){return e({type:yj})},submitNewPledgeFAQ:function(){return e((function(e,t){var r=t().groupAdminSettings,n=r.addedPledgeQuestion,a=r.addedPledgeAnswer,i=t().manageGroupFromParams.groupProperties,o=Object.assign({},t().groupAdminSettings.groupAttributesEdited);if(0!==n.trim().length&&0!==a.trim().length){var s={id:$t(),question:n,answer:a};o.PledgeFAQs?o.PledgeFAQs.push(s):o.PledgeFAQs=[s],R.database().ref(dt).child(i.anid).child("settings").child(St).set(o.PledgeFAQs).then((function(){e({type:yj})}))}}))},toggleEditExpandedPledgeFAQ:function(){return e({type:vj})},saveEditedPledgeFAQ:function(){return e((function(e,t){var r=t().groupAdminSettings,n=r.groupAttributesEdited,a=r.expandedPledgeFAQ,i=r.editedPledgeQuestion,o=r.editedPledgeAnswer,s=t().manageGroupFromParams.groupProperties;if(0!==i.trim().length&&0!==o.trim().length){var c={id:a.id,question:i,answer:o},l=n.PledgeFAQs.findIndex((function(e){return e.id===a.id}));n.PledgeFAQs[l]=c,R.database().ref(dt).child(s.anid).child("settings").child(St).set(n.PledgeFAQs).then((function(){e({type:vj})}))}}))},deleteExistingPledgeFAQ:function(){return e((function(e,t){var r=t().groupAdminSettings.expandedPledgeFAQ,n=Object.assign({},t().groupAdminSettings.groupAttributesEdited),a=t().manageGroupFromParams.groupProperties,i=n.PledgeFAQs.findIndex((function(e){return e.id===r.id}));n.PledgeFAQs.splice(i,1),R.database().ref(dt).child(a.anid).child("settings").child(St).set(n.PledgeFAQs)}))}}}))(Pj),Sj=r(713),_j=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.message,r=e.placement;return Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:r,flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-".concat(r),children:t}),children:Object(V.jsx)(Ri.a,{fontSize:"small",style:{color:Ce}})})}}]),r}(n.Component),Ij="LOADING_INVITED_USERS",Ej="FINISHED_LOADING_INVITED_USERS",Dj="INVITED_USERS_TOGGLE_SEARCH_MODE",Tj="INVITED_USERS_SEARCH_VARIABLE_CHANGED",kj=function(e){var t=e.sourceInvitedUsers,r=e.searchText,n=e.filterRegistrationStatus,a=e.filterUserType,i=e.filterMembers,o=e.filterGroup,s=e.currentGroupProperties,c=[];return t.forEach((function(e){var t=!1,r=!1,l=!1,d=!1;switch(n){case Gj:t=!0;break;case 2:2===e.status&&(t=!0);break;case 0:0===e.status&&(t=!0)}switch(a){case 1:1===e.type&&(r=!0);break;case 2:2===e.type&&(r=!0);break;case 0:r=!0}switch(i){case Mj:l=!0;break;case qj:s?s.anid===e.invitedBy&&!1===e.requestedToJoin&&(l=!0):l=!0;break;case Wj:s?s.anid===e.invitedBy&&!0===e.requestedToJoin&&(l=!0):l=!0}"null"!==o?e.invitedBy===o&&(d=!0):d=!0,t&&r&&l&&d&&c.push(e)})),null!==r&&(c=c.filter((function(e){return e.email.toLowerCase().includes(r.trim().toLowerCase())}))),c},Nj="INVITED_USERS_CHANGE_PAGE",Rj="INVITED_USERS_CHANGE_ROWS_PER_PAGE",Uj="INVITED_USERS_ADDING_MEMBERS_FROM_ONE_GROUP_TO_ANOTHER_GROUP_STATE_CHANGED",Lj="INVITED_USERS_REQUESTING_CSV_STATE_CHANGED",Bj=null,Fj="INVITED_USERS_CHANGED",Gj=-1,Mj=0,qj=1,Wj=2,Qj=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).addListener=function(){var t=e.props,r=t.invitedUsers,n=t.invitedUsersLoaded,a=t.startListeningForInvitedUsersChanged;r&&n&&a()},e.renderInvitedUsersRows=function(){var t=e.props,r=t.groupUserName,n=t.groupProperties,a=t.admin,i=t.invitedUsersLoaded,o=t.matchedInvitedUsers,s=t.invitedUsersPage,c=t.invitedUsersRowsPerPage,l=t.invitedUsersInSearchMode,d=t.filterRegistrationStatus,u=t.filterUserType,p=t.filterGroup,h=t.filterMembers,j=t.resendInvite,g=[];if(0===o.length)return Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:12,children:Object(V.jsx)(x.a,{style:{margin:40},hAlignContent:"center",vAlignContent:"center",children:i?Object(V.jsx)(A.a,{variant:"h6",align:"center",children:l||d!==Gj||0!==u||"null"!==p||h!==Mj?"There are no users found using your current filter criteria.":"No users found."}):Object(V.jsx)(k.HashLoader,{color:et})})})});var b=o.filter((function(e){return e.hasOwnProperty("invitedDate")&&"none"!==e.invitedDate}));b.sort((function(e,t){return t.invitedDate-e.invitedDate}));var f=o.filter((function(e){return e.hasOwnProperty("invitedDate")&&"none"===e.invitedDate}));return f.sort((function(e,t){return t.requestedToJoinDate-e.requestedToJoinDate})),(g=h===qj?Object(gn.a)(b):h===Wj?Object(gn.a)(f):[].concat(Object(gn.a)(b),Object(gn.a)(f)))?g.slice(s*c,s*c+c).map((function(t){return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsxs)(x.a,{column:!0,children:[t.officialUser?Object(V.jsx)(m.b,{to:t.hasOwnProperty("officialUserID")?r?Nn.replace(":groupUserName",r).replace(":userID",t.officialUserID):Rn.replace(":userID",t.officialUserID):r?Tn.replace(":groupUserName",r).replace(":userID",t.id):kn.replace(":userID",t.id),className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsx)(A.a,{color:"primary",align:"left",children:"".concat(t.officialUser.firstName," ").concat(t.officialUser.lastName)})}):Object(V.jsx)(A.a,{color:"textSecondary",align:"left",children:"User not found"}),2===t.status||a.superAdmin||!a.superAdmin&&n&&n.anid!==t.invitedBy?null:Object(V.jsx)(x.a,{marginTop:10,children:Object(V.jsx)(G.a,{variant:"outlined",size:"small",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return j(t)},children:"Resend invite"})}),a.superAdmin?null:Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"textSecondary",style:{marginTop:15},children:t.hasOwnProperty("invitedDate")&&"none"!==t.invitedDate?"Home member":"Platform member"})]})}),Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{align:"left",variant:"body2",paragraph:a.superAdmin,children:t.email}),a.superAdmin?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:[Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"Invited ID:"})})," ",t.id]}),t.hasOwnProperty("officialUserID")?Object(V.jsxs)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:[Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"UID:"})})," ",t.officialUserID]}):null]}):null]})}),a.superAdmin?Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{align:"left",variant:"body2",paragraph:!0,children:t.Invitor.displayName}),Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:t.hasOwnProperty("invitedDate")&&"none"!==t.invitedDate?"Home member":"Platform member"})]})}):null,Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:2===t.type?"Issuer":"Investor"})}),Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:"none"!==t.invitedDate&&t.hasOwnProperty("requestedToJoinDate")&&"none"!==t.requestedToJoinDate?"Registered via public link on ".concat(tr(t.invitedDate)):"none"!==t.invitedDate?"Invited on ".concat(tr(t.invitedDate)):"Requested to join on ".concat(tr(t.requestedToJoinDate))})}),Object(V.jsx)(pe.a,{colSpan:1,children:e.renderInvitedUserRegistrationStatus(t)}),Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:t.hasOwnProperty("joinedDate")?t.requestedToJoin?"Joined on ".concat(tr(t.joinedDate)):"Registered on ".concat(tr(t.joinedDate)):null})})]},t.id)})):null},e.renderInvitedUserRegistrationStatus=function(e){var t={msg:"",color:""};switch(e.status){case 0:t.msg="Not registered",t.color="error";break;case 2:t.msg="Current ".concat(1===e.type?"investor":"issuer"),t.color="primary";break;case 1:t.msg="Declined to join",t.color="error";break;case 3:t.msg="Left",t.color="error";break;case 4:t.msg="Kicked out",t.color="error";break;default:return null}return Object(V.jsx)(A.a,{align:"left",variant:"body2",color:t.color,children:t.msg})},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.invitedUsers,r=e.invitedUsersLoaded,n=e.invitedUsersBeingLoaded,a=e.loadInvitedUsers;!t||n||r||a(),this.addListener()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.invitedUsers,i=n.invitedUsersLoaded,o=n.invitedUsersBeingLoaded,s=n.loadInvitedUsers;!a||o||i||s(),this.addListener()}},{key:"render",value:function(){var e=this.props,t=e.admin,r=e.filterRegistrationStatus,n=e.filterUserType,a=e.filterMembers,i=e.filterGroup,o=e.invitedUserSearchText,s=e.invitedUsersInSearchMode,c=e.systemGroups,l=e.groupsLoaded,d=e.requestingCsv,u=e.addingMembersFromOneGroupToAnotherGroup,p=e.toggleInvitationDialog,h=e.toggleSearchMode,j=e.handleInputChanged,g=e.exportToCsv,b=e.addMembersFromOneGroupToAnotherGroup;return Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(Z.a,{style:{marginBottom:30}}),t.superAdmin?null:Object(V.jsx)(I.a,{style:{marginBottom:30},children:Object(V.jsx)(E.a,{xs:12,md:5,lg:12,children:Object(V.jsxs)(G.a,{color:"primary",variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:p,children:[Object(V.jsx)(ne.a,{style:{marginRight:10,width:20,height:"auto"}}),"Invite new group member"]})})}),Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:3,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",align:"left",children:"Registration status"})}),Object(V.jsxs)(Ws.a,{margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"filterRegistrationStatus"}),style:{marginTop:25,width:"100%"},name:"filterRegistrationStatus",value:r,onChange:j,children:[Object(V.jsx)(Vs.a,{value:Gj,children:" All"}),Object(V.jsx)(Vs.a,{value:0,children:"Not registered"}),Object(V.jsx)(Vs.a,{value:2,children:"Active"})]})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:3,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",align:"left",children:"User type"})}),Object(V.jsxs)(Ws.a,{margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"filterUserType"}),style:{marginTop:25,width:"100%"},name:"filterUserType",value:n,onChange:j,children:[Object(V.jsx)(Vs.a,{value:0,children:"All"}),Object(V.jsx)(Vs.a,{value:1,children:"Investor"}),Object(V.jsx)(Vs.a,{value:2,children:"Issuer"})]})]})}),t.superAdmin?Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:3,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",align:"left",children:"Group"})}),Object(V.jsxs)(Ws.a,{margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"filterGroup",disabled:!l}),style:{marginTop:25,width:"100%"},name:"filterGroup",value:i,onChange:j,children:[Object(V.jsx)(Vs.a,{value:"null",children:l?"All":"Loading groups ..."},"null"),l?c.map((function(e){return Object(V.jsx)(Vs.a,{value:e.anid,children:e.displayName},e.anid)})):null]})]})}):Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:3,children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",align:"left",children:"Members"})}),Object(V.jsxs)(Ws.a,{margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"filterMembers"}),style:{marginTop:25,width:"100%"},name:"filterMembers",value:a,onChange:j,children:[Object(V.jsx)(Vs.a,{value:Mj,children:"All"},Mj),Object(V.jsx)(Vs.a,{value:qj,children:"Home members"},qj),Object(V.jsx)(Vs.a,{value:Wj,children:"Platform members"},Wj)]})]}),Object(V.jsx)(x.a,{marginLeft:15,children:Object(V.jsx)(_j,{placement:"right",message:"Home members are the users that registered through this group. Platform members are existing users of Invest West who requested access to this group."})})]})})]}),Object(V.jsx)(I.a,{style:{marginTop:30,marginBottom:30},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:8,children:Object(V.jsxs)(x.a,{children:[Object(V.jsx)(x.a,{basis:"90%",vAlignContent:"center",hAlignContent:"center",children:Object(V.jsx)(Yr.a,{value:o,label:"Search by email",name:"invitedUserSearchText",fullWidth:!0,variant:"outlined",margin:"dense",onChange:j})}),Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",basis:"10%",marginLeft:10,children:Object(V.jsx)(C.a,{style:{width:50,height:50},onClick:h,children:s?Object(V.jsx)(ie.a,{}):Object(V.jsx)($s.a,{})})})]})})}),t.superAdmin?-1===c.findIndex((function(e){return e.anid===i}))||"qib"!==c[c.findIndex((function(e){return e.anid===i}))].groupUserName&&"iap-silicon-gorge"!==c[c.findIndex((function(e){return e.anid===i}))].groupUserName?null:Object(V.jsx)(x.a,{vAlignContent:"center",marginTop:30,marginBottom:20,children:Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:"qib"===c[c.findIndex((function(e){return e.anid===i}))].groupUserName?function(){return b(c[c.findIndex((function(e){return e.anid===i}))].anid,c[c.findIndex((function(e){return"iap-silicon-gorge"===e.groupUserName}))].anid)}:function(){return b(c[c.findIndex((function(e){return e.anid===i}))].anid,c[c.findIndex((function(e){return"qib"===e.groupUserName}))].anid)},style:{marginRight:10},children:u?"Adding ...":"qib"===c[c.findIndex((function(e){return e.anid===i}))].groupUserName?"Add members from QIB to Silicon Gorge":"Add members from Silicon Gorge to QIB"})}):null,3!==t.type?null:Object(V.jsxs)(x.a,{vAlignContent:"center",marginTop:30,marginBottom:20,children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:g,style:{marginRight:10},children:d?"Exporting ...":"Export to csv"}),Object(V.jsx)(_j,{placement:"right",message:t.superAdmin?"Export all the users in the system to a .csv file.":"Export all the members in your group to a .csv file."})]}),this.renderInvitedUsersTable()]})}},{key:"renderInvitedUsersTable",value:function(){var e=this.props,t=e.admin,r=e.matchedInvitedUsers,n=e.invitedUsersPage,a=e.invitedUsersRowsPerPage,i=e.handleChangeTablePage,o=e.handleChangeTableRowsPerPage;return Object(V.jsx)(Fi.a,{elevation:0,style:{width:"100%",overflowX:"auto",marginTop:20},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsx)(cc.a,{children:Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"Name"})})}),Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"Email"})})}),t.superAdmin?Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"Group"})})}):null,Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"User type"})})}),Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"Invited/requested to join date"})})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"Registration status"})})}),Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsx)("b",{children:"Registered/joined date"})})})]})}),Object(V.jsx)(lc.a,{children:this.renderInvitedUsersRows()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{rowsPerPageOptions:[5,10,25],count:r.length,rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:i,onChangeRowsPerPage:o})})})]})})}},{key:"catch",value:function(e){return console.error("Error in renderInvitedUsersTable:",e),null}}]),r}(n.Component),Vj=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,systemGroups:e.manageSystemGroups.systemGroups,groupsLoaded:e.manageSystemGroups.groupsLoaded,admin:e.auth.user,invitedUsers:e.invitedUsers.invitedUsers,invitedUsersLoaded:e.invitedUsers.invitedUsersLoaded,invitedUsersBeingLoaded:e.invitedUsers.invitedUsersBeingLoaded,invitedUsersPage:e.invitedUsers.invitedUsersPage,invitedUsersRowsPerPage:e.invitedUsers.invitedUsersRowsPerPage,filterRegistrationStatus:e.invitedUsers.filterRegistrationStatus,filterUserType:e.invitedUsers.filterUserType,filterMembers:e.invitedUsers.filterMembers,filterGroup:e.invitedUsers.filterGroup,invitedUserSearchText:e.invitedUsers.invitedUserSearchText,invitedUsersInSearchMode:e.invitedUsers.invitedUsersInSearchMode,requestingCsv:e.invitedUsers.requestingCsv,addingMembersFromOneGroupToAnotherGroup:e.invitedUsers.addingMembersFromOneGroupToAnotherGroup,matchedInvitedUsers:e.invitedUsers.matchedInvitedUsers}}),(function(e){return{loadInvitedUsers:function(){return e((function(e,t){e({type:Ij});var r=t().auth.user;Na(r.superAdmin?null:r.anid).then((function(t){e({type:Ej,invitedUsers:t,error:null})})).catch((function(t){console.error("Error loading invited users:",t),e({type:Ej,invitedUsers:[],error:t})}))}))},toggleSearchMode:function(){return e((function(e,t){var r,n=Object(gn.a)(t().invitedUsers.invitedUsers),a=Object(gn.a)(t().invitedUsers.matchedInvitedUsers),i=t().invitedUsers,o=i.invitedUserSearchText,s=i.invitedUsersInSearchMode,c=i.filterRegistrationStatus,l=i.filterUserType,d=i.filterMembers,u=i.filterGroup,p=t().manageGroupFromParams.groupProperties;r=s?kj({sourceInvitedUsers:n,searchText:null,filterRegistrationStatus:c,filterUserType:l,filterMembers:d,filterGroup:u,currentGroupProperties:p}):o.trim().length>0?a.filter((function(e){return e.email.toLowerCase()===o.trim().toLowerCase()})):a,e({type:Dj,matchedInvitedUsers:r})}))},handleInputChanged:function(t){return e(function(e){return function(t,r){var n=Object(gn.a)(r().invitedUsers.invitedUsers),a=Object(gn.a)(r().invitedUsers.matchedInvitedUsers),i=[],o=r().invitedUsers,s=o.invitedUserSearchText,c=o.invitedUsersInSearchMode,l=o.filterRegistrationStatus,d=o.filterUserType,u=o.filterMembers,p=o.filterGroup,h=r().manageGroupFromParams.groupProperties,j=e.target.name,g=null;switch(j){case"invitedUserSearchText":var b=e.target.value;if(g=b,!c){i=a;break}i=kj({sourceInvitedUsers:n,searchText:b,filterRegistrationStatus:l,filterUserType:d,filterMembers:u,filterGroup:p,currentGroupProperties:h});break;case"filterRegistrationStatus":var m=e.target.value;g=m,i=kj({sourceInvitedUsers:n,searchText:c?s:null,filterRegistrationStatus:m,filterUserType:d,filterMembers:u,filterGroup:p,currentGroupProperties:h});break;case"filterUserType":var f=e.target.value;g=f,i=kj({sourceInvitedUsers:n,searchText:c?s:null,filterRegistrationStatus:l,filterUserType:f,filterMembers:u,filterGroup:p,currentGroupProperties:h});break;case"filterGroup":var O=e.target.value;g=O,i=kj({sourceInvitedUsers:n,searchText:c?s:null,filterRegistrationStatus:l,filterUserType:d,filterMembers:u,filterGroup:O,currentGroupProperties:h});break;case"filterMembers":var x=e.target.value;g=x,i=kj({sourceInvitedUsers:n,searchText:c?s:null,filterRegistrationStatus:l,filterUserType:d,filterMembers:x,filterGroup:p,currentGroupProperties:h})}t({type:Tj,name:j,value:g,matchedInvitedUsers:i})}}(t))},handleChangeTablePage:function(t,r){return e(function(e,t){return{type:Nj,newPage:t}}(0,r))},handleChangeTableRowsPerPage:function(t){return e(function(e){return{type:Rj,rows:e.target.value}}(t))},startListeningForInvitedUsersChanged:function(){return e((function(e,t){if(!Bj){var r=t().auth.user;(Bj=R.database().ref(xt)).on("child_added",function(){var n=Object(Xt.a)(Kt.a.mark((function n(a){var i,o,s,c,l,d,u,p,h,j,g,b,m;return Kt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a.val(),o=!1,(r.superAdmin||i.invitedBy===r.anid)&&(o=!0),o){n.next=5;break}return n.abrupt("return");case 5:if(-1!==(s=Object(gn.a)(t().invitedUsers.invitedUsers)).findIndex((function(e){return e.id===i.id}))){n.next=20;break}return c=t().invitedUsers,l=c.invitedUserSearchText,d=c.invitedUsersInSearchMode,u=c.filterRegistrationStatus,p=c.filterUserType,h=c.filterMembers,j=c.filterGroup,g=t().manageGroupFromParams.groupProperties,n.next=12,pa(i.invitedBy);case 12:if(b=n.sent,i.Invitor={anid:b.anid,displayName:b.displayName,logo:b.logo},!i.hasOwnProperty("officialUserID")){n.next=18;break}return n.next=17,ma(i.officialUserID);case 17:i.officialUser=n.sent;case 18:return m=kj({sourceInvitedUsers:[].concat(Object(gn.a)(s),[i]),searchText:d?l:null,filterRegistrationStatus:u,filterUserType:p,filterMembers:h,filterGroup:j,currentGroupProperties:g}),n.abrupt("return",e({type:Fj,invitedUsers:[].concat(Object(gn.a)(t().invitedUsers.invitedUsers),[i]),matchedInvitedUsers:m}));case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Bj.on("child_changed",function(){var n=Object(Xt.a)(Kt.a.mark((function n(a){var i,o,s,c,l,d,u,p,h,j,g,b,m;return Kt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a.val(),o=!1,(r.superAdmin||i.invitedBy===r.anid)&&(o=!0),o){n.next=5;break}return n.abrupt("return");case 5:if(s=Object(gn.a)(t().invitedUsers.invitedUsers),-1===(c=s.findIndex((function(e){return e.id===i.id})))){n.next=15;break}return i.Invitor=s[c].Invitor,i.officialUser=s[c].officialUser,s[c]=i,l=t().invitedUsers,d=l.invitedUserSearchText,u=l.invitedUsersInSearchMode,p=l.filterRegistrationStatus,h=l.filterUserType,j=l.filterMembers,g=l.filterGroup,b=t().manageGroupFromParams.groupProperties,m=kj({sourceInvitedUsers:Object(gn.a)(s),searchText:u?d:null,filterRegistrationStatus:p,filterUserType:h,filterMembers:j,filterGroup:g,currentGroupProperties:b}),n.abrupt("return",e({type:Fj,invitedUsers:Object(gn.a)(s),matchedInvitedUsers:m}));case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}))},resendInvite:function(t){return e(function(e){return function(t,r){var n=r().manageClubAttributes.clubAttributes,a=r().manageGroupFromParams.groupUserName,i=r().manageGroupFromParams.groupProperties,o=r().auth.user;_h({serverURL:n.serverURL,emailType:1,data:{groupName:i.displayName,groupLogo:pr(1,i),groupWebsite:i.website,groupContactUs:"".concat(n.websiteURL,"/groups/").concat(i.groupUserName,"/contact-us"),sender:o.email,receiver:e.email,receiverName:"".concat(e.title," ").concat(e.firstName," ").concat(e.lastName),userType:2===e.type?"Issuer":"Investor",signupURL:a?"".concat(n.websiteURL,"/groups/").concat(a,"/signup/").concat(e.id):"".concat(n.websiteURL,"/signup/").concat(e.id)}}).then((function(){aa({userID:o.id,activityType:4,interactedObjectLocation:xt,interactedObjectID:e.id,activitySummary:"Resent invitation email to %userName% to %group% as an %userType%.".replace("%userName%","".concat(e.firstName," ").concat(e.lastName)).replace("%group%",i.displayName).replace("%userType%",2===e.type?"Issuer":"Investor"),action:kn.replace(":userID",e.id),value:Object(b.a)(Object(b.a)({},e),{},{Invitor:null})}),t({type:Er,message:"Invitation resent.",color:"primary",position:"bottom"})})).catch((function(e){t({type:Er,message:"Error happened.",color:"error",position:"bottom"})}))}}(t))},exportToCsv:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().auth.user,a=r().invitedUsers.requestingCsv,3===n.type){e.next=4;break}return e.abrupt("return");case 4:if(!a){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,t({type:Lj,value:!0}),e.next=10,(new na).request("get",ta.exportUsersCsvRoute);case 10:i=e.sent,o=new Blob([i.data],{type:"text/csv;charset=utf-8;"}),void 0!==(s=document.createElement("a")).download&&(c=URL.createObjectURL(o),s.setAttribute("href",c),s.setAttribute("download","data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)),t({type:Lj,value:!1}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),t({type:Er,message:e.t0.toString(),color:"error",position:"bottom"}),t({type:Lj,value:!1});case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,r){return e.apply(this,arguments)}}())},addMembersFromOneGroupToAnotherGroup:function(t,r){return e(function(e,t){return function(){var r=Object(Xt.a)(Kt.a.mark((function r(n,a){var i,o;return Kt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a().auth.user,o=a().invitedUsers.addingMembersFromOneGroupToAnotherGroup,3===i.type){r.next=4;break}return r.abrupt("return");case 4:if(!o){r.next=6;break}return r.abrupt("return");case 6:return r.prev=6,n({type:Uj,value:!0}),r.next=10,(new na).request("put",ta.addMembersToGroup.replace(":group",t),{queryParameters:null,requestBody:{fromGroup:e,addUserType:"all"}});case 10:n({type:Uj,value:!1}),n({type:Er,message:"Members added.",color:"primary",position:"bottom"}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(6),n({type:Er,message:r.t0.toString(),color:"error",position:"bottom"});case 17:case"end":return r.stop()}}),r,null,[[6,14]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},toggleInvitationDialog:function(){return e(Eh())}}}))(Qj),Hj=r(722),Jj=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleImageFilesChanged=function(t){return function(r){e.props.handleImageFilesChanged(t,r)}},e.handleImageFileError=function(t){return function(r,n){e.props.handleImageFileError(t,r,n)}},e.renderRespondCode=function(){var t=e.props,r=t.response,n=t.uploadMode,a=t.uploadProgress,i={msg:"",color:""};switch(r){case 0:return null;case 1:i.msg="Checking if the angel network has been added before ...",i.color="primary";break;case 2:i.msg="This username has already been used.",i.color="error";break;case 4:i.msg="Uploading ".concat(1===n?"plain logo":"logo with text",", ").concat(parseInt(a),"% completed"),i.color="primary";break;case 5:i.msg="Creating angel network's profile ...",i.color="primary";break;case 3:i.msg="This email has already been used.",i.color="error";break;case 6:i.msg="Added successfully. An email has been sent to the angel network for login information.",i.color="primary";break;case 7:i.msg="Error happened. Couldn't add the angel network.",i.color="error"}return Object(V.jsx)(A.a,{color:i.color,variant:"subtitle1",align:"left",children:i.msg})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.addAngelNetworkDialogOpen,n=e.angelNetworkName,a=e.angelNetworkUsername,i=e.email,o=e.website,s=e.primaryColor,c=e.secondaryColor,l=e.plainLogo,d=(e.loadingPlainLogo,e.logoWithText),u=(e.loadingLogoWithText,e.imgUploadError),p=e.imgUploadErrorSnackbarOpen,h=e.addButtonClicked,j=(e.uploadMode,e.uploadProgress,e.handleImageFilesChanged,e.handleImageFileError,e.toggleAddAngelNetworkDialog),g=e.handleInputChanged,m=e.addNewAngelNetwork,f=e.closeErrorSnackbar,O=e.resetImageFileErrorMessageWhenSnackbarExited,y=Object(X.a)(e,["forwardedRef","addAngelNetworkDialogOpen","angelNetworkName","angelNetworkUsername","email","website","primaryColor","secondaryColor","plainLogo","loadingPlainLogo","logoWithText","loadingLogoWithText","imgUploadError","imgUploadErrorSnackbarOpen","addButtonClicked","uploadMode","uploadProgress","handleImageFilesChanged","handleImageFileError","toggleAddAngelNetworkDialog","handleInputChanged","addNewAngelNetwork","closeErrorSnackbar","resetImageFileErrorMessageWhenSnackbarExited"]);return Object(V.jsxs)(U.a,Object(b.a)(Object(b.a)({ref:t,open:r,fullWidth:!0,maxWidth:"md",onClose:j},y),{},{children:[Object(V.jsx)(L.a,{disableTypography:!0,children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{grow:4,children:Object(V.jsx)(A.a,{variant:"h6",color:"primary",align:"left",children:"Add new group"})}),Object(V.jsx)(x.a,{grow:1,hAlignContent:"right",children:Object(V.jsx)(C.a,{onClick:j,children:Object(V.jsx)(ie.a,{})})})]})}),Object(V.jsxs)(B.a,{style:{marginTop:10},children:[Object(V.jsx)(Yr.a,{label:"Group name",placeholder:"Write group's full name here ...",name:"angelNetworkName",value:n,fullWidth:!0,margin:"dense",variant:"outlined",required:!0,error:h&&0===n.length,onChange:g}),Object(V.jsx)(Yr.a,{label:"Group username",placeholder:"Write group's username here. E.g. aba, or qtec",helperText:"Note: Username must be unique. For convention, use lowercase letters and use - to connect words. E.g. future-space",name:"angelNetworkUsername",value:a,fullWidth:!0,margin:"dense",variant:"outlined",required:!0,error:h&&0===a.trim().length,onChange:g}),Object(V.jsx)(Gi.a,{fullWidth:!0,style:{marginTop:25,marginBottom:25},children:Object(V.jsx)(Yr.a,{label:"Registered email",placeholder:"Write email here ...",helperText:"This email will be used to login to group's admin page. Once added, an email with auto-generated password will be sent to this email address.",name:"email",value:i,fullWidth:!0,margin:"dense",variant:"outlined",required:!0,error:h&&0===i.trim().length,onChange:g})}),Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Yr.a,{label:"Website",placeholder:"Group's official website",name:"website",value:o,fullWidth:!0,margin:"dense",variant:"outlined",required:!0,error:h&&0===o.trim().length,onChange:g}),0===o.trim().length||gr(o)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",children:"Invalid website URL"})]}),Object(V.jsxs)(Gi.a,{fullWidth:!0,style:{marginTop:25},children:[Object(V.jsx)(Yr.a,{label:"Primary color",placeholder:"E.g. #FFFFFF",name:"primaryColor",value:s.toUpperCase(),fullWidth:!0,margin:"dense",variant:"outlined",required:!0,error:h&&0===s.trim().length,onChange:g}),0===s.trim().length||jr(s)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",children:"Invalid color"})]}),Object(V.jsxs)(Gi.a,{fullWidth:!0,style:{marginBottom:25},children:[Object(V.jsx)(Yr.a,{label:"Secondary color",placeholder:"E.g. #FFFFFF",name:"secondaryColor",value:c.toUpperCase(),fullWidth:!0,margin:"dense",variant:"outlined",required:!0,error:h&&0===c.trim().length,onChange:g}),0===c.trim().length||jr(c)?null:Object(V.jsx)(A.a,{variant:"body2",color:"error",align:"left",children:"Invalid color"})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(le.a,{className:Object(v.b)(Yj.img_drop_zone),onChange:this.handleImageFilesChanged(1),onError:this.handleImageFileError(1),accepts:["image/png","image/jpg","image/jpeg"],maxFileSize:Ht,minFileSize:0,multiple:!0,clickable:!0,style:{marginTop:25},children:Object(V.jsxs)(x.a,{vAlignContent:"center",hAlignContent:"center",children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:8}}),"Upload plain logo (with no text)"]})}),l?Object(V.jsx)(x.a,{marginTop:20,width:270,height:270,children:Object(V.jsx)(te.a,{src:window.URL.createObjectURL(l),roundedCircle:!0,thumbnail:!0,style:{width:"100%",height:"auto",objectFit:"fill"}})}):null]}),Object(V.jsxs)(x.a,{column:!0,marginTop:25,children:[Object(V.jsx)(le.a,{className:Object(v.b)(Yj.img_drop_zone),onChange:this.handleImageFilesChanged(2),onError:this.handleImageFileError(2),accepts:["image/png","image/jpg","image/jpeg"],maxFileSize:Ht,minFileSize:0,multiple:!0,clickable:!0,children:Object(V.jsxs)(x.a,{vAlignContent:"center",hAlignContent:"center",children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:8}}),"Upload logo with text (optional)"]})}),d?Object(V.jsx)(x.a,{marginTop:20,width:540,height:270,children:Object(V.jsx)(te.a,{src:window.URL.createObjectURL(d),thumbnail:!0,style:{width:"100%",height:"auto",objectFit:"fill"}})}):null]})]}),Object(V.jsx)(F.a,{children:Object(V.jsxs)(x.a,{width:"100%",marginRight:25,marginBottom:15,marginTop:15,hAlignContent:"right",vAlignContent:"center",children:[this.renderRespondCode(),Object(V.jsxs)(G.a,{variant:"outlined",color:"primary",onClick:m,size:"large",className:Object(v.b)(ot.no_text_transform),disabled:0===n.trim().length||0===a.trim().length||0===i.trim().length||0===o.trim().length||o.trim().length>0&&!gr(o)||0===s.trim().length||0===c.trim().length||s.trim().length>0&&!jr(s)||c.trim().length>0&&!jr(c)||!l,style:{marginLeft:35},children:["Add",Object(V.jsx)(ne.a,{fontSize:"small",style:{marginLeft:8}})]})]})}),Object(V.jsx)(_p.a,{open:p,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:f,onExited:O,TransitionComponent:lt,transitionDuration:{enter:130,exit:130},children:Object(V.jsx)(Hj.a,{style:{backgroundColor:me},message:u,action:[Object(V.jsx)(C.a,{color:"inherit",onClick:f,children:Object(V.jsx)(ie.a,{})},"close")]})})]}))}}]),r}(n.Component),zj=Object(q.b)((function(e){return{addAngelNetworkDialogOpen:e.manageAddAngelNetworkDialog.addAngelNetworkDialogOpen,angelNetworkName:e.manageAddAngelNetworkDialog.angelNetworkName,angelNetworkUsername:e.manageAddAngelNetworkDialog.angelNetworkUsername,email:e.manageAddAngelNetworkDialog.email,website:e.manageAddAngelNetworkDialog.website,primaryColor:e.manageAddAngelNetworkDialog.primaryColor,secondaryColor:e.manageAddAngelNetworkDialog.secondaryColor,plainLogo:e.manageAddAngelNetworkDialog.plainLogo,loadingPlainLogo:e.manageAddAngelNetworkDialog.loadingPlainLogo,logoWithText:e.manageAddAngelNetworkDialog.logoWithText,loadingLogoWithText:e.manageAddAngelNetworkDialog.loadingLogoWithText,uploadMode:e.manageAddAngelNetworkDialog.uploadMode,uploadProgress:e.manageAddAngelNetworkDialog.uploadProgress,imgUploadError:e.manageAddAngelNetworkDialog.imgUploadError,imgUploadErrorSnackbarOpen:e.manageAddAngelNetworkDialog.imgUploadErrorSnackbarOpen,addButtonClicked:e.manageAddAngelNetworkDialog.addButtonClicked,response:e.manageAddAngelNetworkDialog.addResult}}),(function(e){return{toggleAddAngelNetworkDialog:function(){return e(Xj())},handleInputChanged:function(t){return e($j(t))},addNewAngelNetwork:function(){return e(rg())},handleImageFilesChanged:function(t,r){return e(og(t,r))},handleImageFileError:function(t,r,n){return e(cg(t,r,n))},closeErrorSnackbar:function(){return e(dg())},resetImageFileErrorMessageWhenSnackbarExited:function(){return e(pg())}}}))(Jj),Yj=v.a.create({img_drop_zone:{paddingTop:10,paddingBottom:10,paddingLeft:30,paddingRight:30,textAlign:"center",border:"1px solid ".concat(Ae),":hover":{backgroundColor:xe,cursor:"pointer"}}}),Kj="TOGGLE_ADD_ANGEL_NETWORK_DIALOG",Xj=function(){return{type:Kj}},Zj="ADD_ANGEL_NETWORK_DIALOG_INPUT_CHANGED",$j=function(e){return{type:Zj,event:e}},eg="ADD_ANGEL_NETWORK_ADD_BUTTON_CLICKED",tg="ADD_ANGEL_NETWORK_RESULT_CHANGED",rg=function(){return function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l,d,u,p,h,j,g,b;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().auth.user,t({type:eg}),a=r().manageAddAngelNetworkDialog,i=a.angelNetworkName,o=a.angelNetworkUsername,s=a.email,c=a.website,l=a.primaryColor,d=a.secondaryColor,u=a.plainLogo,p=a.logoWithText,t({type:tg,result:1}),h=R.database().ref(dt).push().key,e.prev=5,e.next=8,R.database().ref(dt).orderByChild("groupUserName").equalTo(o.toLowerCase()).once("value");case 8:if(!(e.sent.numChildren()>0)){e.next=12;break}return t({type:tg,result:2}),e.abrupt("return");case 12:return e.next=14,da(s);case 14:if(!e.sent.userExists){e.next=18;break}return t({type:tg,result:3}),e.abrupt("return");case 18:return e.next=20,ng(t,h,1,u);case 20:return j=e.sent,e.next=23,ng(t,h,2,p);case 23:return g=e.sent,b={anid:h,isInvestWest:!1,displayName:i,displayNameLower:i.toLowerCase(),groupUserName:o.toLowerCase(),description:"",website:c,dateAdded:$t(),status:1,plainLogo:[{storageID:j.storageID,url:j.url}],logoWithText:g?[{storageID:g.storageID,url:g.url}]:null,settings:{projectVisibility:1,makeInvestorsContactDetailsVisibleToIssuers:!1,primaryColor:l.toUpperCase(),secondaryColor:d.toUpperCase()}},e.next=27,R.database().ref(dt).child(h).set(b);case 27:return t({type:tg,result:5}),e.next=30,(new na).request("post",ta.addGroupAdminRoute,{requestBody:{adder:n,groupProperties:b,newGroupAdminEmail:s}});case 30:return e.next=32,ca({title:"Change your password",message:"Welcome to Invest West. It is important to change your password as soon as possible. Please do it by clicking on the Password tab in your dashboard.",userID:h,action:"".concat(Sn,"?tab=Change password")});case 32:t({type:tg,result:6}),e.next=40;break;case 35:return e.prev=35,e.t0=e.catch(5),e.next=39,R.database().ref(dt).child(h).remove();case 39:t({type:tg,result:7,error:e.t0});case 40:case"end":return e.stop()}}),e,null,[[5,35]])})));return function(t,r){return e.apply(this,arguments)}}()},ng=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n,a){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){if(!a)return e(null);var o=R.storage();t({type:tg,result:4,progress:0});var s=$t(),c="".concat(1===n?"PlainLogos":"LogosWithText","/").concat(s),l=o.ref(dt).child(r).child(c).put(a);l.on("state_changed",(function(e){var r=e.bytesTransferred/e.totalBytes*100;t({type:tg,result:4,progress:r,mode:n})}),(function(e){return t({type:tg,result:7,mode:n}),i(e)}),(function(){l.snapshot.ref.getDownloadURL().then((function(t){return e({storageID:s,url:t})}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),ag="ADD_ANGEL_NETWORK_LOADING_IMAGE_FILE",ig="ADD_ANGEL_NETWORK_IMAGE_FILES_LOADED",og=function(e,t){return function(r,n){if(n().manageAddAngelNetworkDialog.imgUploadError.trim().length>0||n().manageAddAngelNetworkDialog.imgUploadErrorSnackbarOpen)return null;r({type:ag,mode:e});var a=new Blob([t[t.length-1]],{type:"image/jpg"});r({type:ig,blob:a,mode:e})}},sg="ADD_ANGEL_NETWORK_IMAGE_FILE_ERROR",cg=function(e,t,r){if(2===t.code)return{type:sg,error:t,file:r,mode:e}},lg="ADD_ANGEL_NETWORK_CLOSE_IMAGE_FILE_ERROR_SNACKBAR",dg=function(){return{type:lg}},ug="ADD_ANGEL_NETWORK_RESET_IMAGE_FILE_ERROR_MESSAGE_WHEN_SNACKBAR_EXITED",pg=function(){return{type:ug}},hg="LOADING_ANGEL_NETWORKS",jg="FINISHED_LOADING_ANGEL_NETWORKS",gg="ANGEL_NETWORKS_TABLE_PAGE_CHANGED",bg="ANGEL_NETWORKS_TABLE_ROWS_PER_PAGE_CHANGED",mg="ANGEL_NETWORKS_TABLE_INPUT_CHANGED",fg="TOGGLE_SEARCH_MODE_IN_ANGEL_NETWORKS_TABLE",Og=null,xg="ANGEL_NETWORKS_IN_TABLE_CHANGED",vg=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).loadData=function(t){var r=t.inComponentDidMount,n=void 0===r||r,a=e.props,i=a.shouldLoadOtherData,o=a.admin,s=a.loadingAngelNetworks,c=a.angelNetworksLoaded,l=a.loadAngelNetworks;i&&(n?o&&o.superAdmin&&l():o&&o.superAdmin&&!s&&!c&&l())},e.addListener=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.angelNetworks,a=t.angelNetworksLoaded,i=t.startListeningForAngelNetworksChanged;r&&n&&a&&i()},e.renderAngelNetworksTable=function(){var t=e.props,r=t.groupPropertiesLoaded,n=t.groupProperties,a=t.admin,i=t.angelNetworks,o=t.page,s=t.rowsPerPage,c=t.searchText,l=t.inSearchMode,d=t.loadAngelNetworks,u=t.changePage,p=t.changeRowsPerPage,h=t.handleAngelNetworksTableInputChanged,j=t.toggleSearchMode;return!r||!a||a&&!a.superAdmin?null:(i.sort((function(e,t){return t.dateAdded-e.dateAdded})),Object(V.jsx)(Fi.a,{elevation:1,style:{overflowX:"auto"},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsxs)(cc.a,{children:[Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:3,cellColor:Pe,component:Object(V.jsx)(Jl.a,{name:"searchText",value:c,onChange:h,fullWidth:!0,placeholder:"Search group by name",type:"text",startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],flip:!0,placement:"bottom",overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:l?"Exit search mode":"Enter search mode"}),children:Object(V.jsx)(C.a,{onClick:j,children:l?Object(V.jsx)(ie.a,{}):Object(V.jsx)($s.a,{})})})})})}),Object(V.jsx)(st,{colSpan:2,cellColor:Pe,component:Object(V.jsx)(x.a,{hAlignContent:"right",vAlignContent:"center",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],flip:!0,placement:"bottom",overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:"Refresh"}),children:Object(V.jsx)(C.a,{onClick:d,style:{marginLeft:10},children:Object(V.jsx)(Qu.a,{})})})})})]}),Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:2,cellColor:n?n.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(ot.white_text),align:"left",children:"Groups"})}),Object(V.jsx)(st,{colSpan:1,cellColor:n?n.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(ot.white_text),align:"left",children:"ID"})}),Object(V.jsx)(st,{colSpan:1,cellColor:n?n.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(ot.white_text),align:"left",children:"Date added"})}),Object(V.jsx)(st,{colSpan:1,cellColor:n?n.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(ot.white_text),align:"left",children:"Status"})})]})]}),Object(V.jsx)(lc.a,{children:e.renderAngelNetworkRows()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{style:{backgroundColor:Pe},rowsPerPageOptions:[5,10,25],count:i.length,rowsPerPage:s,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:u,onChangeRowsPerPage:p})})})]})}))},e.renderAngelNetworkRows=function(){var t=e.props,r=t.groupUserName,n=t.groupProperties,a=t.angelNetworks,i=t.angelNetworksLoaded,o=t.matchedAngelNetworks,s=t.inSearchMode,c=t.page,l=t.rowsPerPage,d=[];return 0===(d=s?o:a).length?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsx)(x.a,{style:{margin:40},hAlignContent:"center",vAlignContent:"center",children:i?Object(V.jsx)(A.a,{variant:"h6",align:"center",children:s?"Can't find any groups with this name.":"No groups added yet."}):Object(V.jsx)(k.HashLoader,{color:n?n.settings.primaryColor:et})})})}):d.slice(c*l,c*l+l).map((function(e){return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(m.b,{to:yn.constructGroupDetailRoute(r,e.groupUserName),className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsx)(A.a,{color:"primary",children:e.displayName})})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{color:"primary",children:e.anid})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{color:"primary",children:rr(e.dateAdded)})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{color:1===e.status?"primary":"error",children:1===e.status?"Active":"Suspended"})})]},e.anid)}))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadData({inComponentDidMount:!0}),this.addListener()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.shouldLoadOtherData,i=n.admin,o=n.stopListeningForAngelNetworksChanged;i&&(!i||i.superAdmin)&&a?(this.loadData({inComponentDidMount:!1}),this.addListener()):o()}},{key:"componentWillUnmount",value:function(){(0,this.props.stopListeningForAngelNetworksChanged)()}},{key:"render",value:function(){var e=this.props.toggleAddAngelNetworkDialog;return Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(Z.a,{style:{marginBottom:20}}),Object(V.jsx)(I.a,{style:{marginBottom:10},children:Object(V.jsx)(E.a,{xs:12,md:5,lg:12,style:{marginBottom:40},children:Object(V.jsxs)(G.a,{color:"primary",variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:e,children:[Object(V.jsx)(ne.a,{style:{marginRight:10,width:20,height:"auto"}}),"Add new group"]})})}),this.renderAngelNetworksTable()]})}}]),r}(n.Component),yg=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,admin:e.auth.user,angelNetworks:e.manageAngelNetworks.angelNetworks,loadingAngelNetworks:e.manageAngelNetworks.loadingAngelNetworks,angelNetworksLoaded:e.manageAngelNetworks.angelNetworksLoaded,page:e.manageAngelNetworks.page,rowsPerPage:e.manageAngelNetworks.rowsPerPage,searchText:e.manageAngelNetworks.searchText,inSearchMode:e.manageAngelNetworks.inSearchMode,matchedAngelNetworks:e.manageAngelNetworks.matchedAngelNetworks}}),(function(e){return{toggleAddAngelNetworkDialog:function(){return e(Xj())},loadAngelNetworks:function(){return e((function(e,t){var r=t().auth.user;!r||r&&!r.superAdmin?e({type:jg}):(e({type:hg}),ja({},0).then((function(t){e({type:jg,angelNetworks:t})})).catch((function(t){e({type:jg,error:t})})))}))},changePage:function(t,r){return e(function(e,t){return{type:gg,newPage:t}}(0,r))},changeRowsPerPage:function(t){return e(function(e){return{type:bg,value:parseInt(e.target.value,10)}}(t))},handleAngelNetworksTableInputChanged:function(t){return e(function(e){return function(t,r){var n=Object(gn.a)(r().manageAngelNetworks.angelNetworks),a=e.target.value,i=n.filter((function(e){return e.displayName.toLowerCase().includes(a.trim().toLowerCase())}));t({type:mg,searchText:a,matchedAngelNetworks:i})}}(t))},toggleSearchMode:function(){return e((function(e,t){var r=t().manageAngelNetworks.inSearchMode,n=t().manageAngelNetworks.searchText,a=Object(gn.a)(t().manageAngelNetworks.angelNetworks);if(r)e({type:fg,enter:!1,matchedAngelNetworks:[]});else{var i=a.filter((function(e){return e.displayName.toLowerCase().includes(n.trim().toLowerCase())}));e({type:fg,enter:!0,matchedAngelNetworks:i})}}))},startListeningForAngelNetworksChanged:function(){return e((function(e,t){Og||((Og=R.database().ref(dt)).on("child_added",(function(r){var n=r.val(),a=Object(gn.a)(t().manageAngelNetworks.angelNetworks);-1===a.findIndex((function(e){return e.anid===n.anid}))&&e({type:xg,angelNetworks:[].concat(Object(gn.a)(a),[n])})})),Og.on("child_changed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageAngelNetworks.angelNetworks),i=a.findIndex((function(e){return e.anid===n.anid}));-1!==i&&(a[i]=n,e({type:xg,angelNetworks:a}))})))}))},stopListeningForAngelNetworksChanged:function(){return e((function(e,t){Og&&(Og.off("child_added"),Og.off("child_changed"),Og=null)}))}}}))(vg),Ag="MANAGE_JOIN_REQUESTS_LOADING_JOIN_REQUESTS",Cg="MANAGE_JOIN_REQUESTS_FINISHED_LOADING_JOIN_REQUESTS",Pg="MANAGE_JOIN_REQUESTS_TABLE_TOGGLE_SEARCH_MODE",wg="MANAGE_JOIN_REQUESTS_TABLE_PAGE_CHANGED",Sg="MANAGE_JOIN_REQUESTS_TABLE_ROWS_PER_PAGE_CHANGED",_g="MANAGE_JOIN_REQUESTS_TABLE_INPUT_CHANGED",Ig=null,Eg="MANAGE_JOIN_REQUESTS_CHANGED",Dg=function(){return function(e,t){Ig&&(Ig.off("child_added"),Ig.off("child_removed"),Ig=null)}},Tg=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).loadData=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.user,a=t.loadingJoinRequests,i=t.joinRequestsLoaded,o=t.loadJoinRequests;r&&n&&(a||i||o())},e.attachListener=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.joinRequests,a=t.joinRequestsLoaded,i=t.startListeningForJoinRequestsChanged;r&&n&&a&&i()},e.renderJoinRequestsRows=function(){var t=e.props,r=t.groupUserName,n=t.groupProperties,a=t.joinRequests,i=t.joinRequestsLoaded,o=t.matchedJoinRequests,s=t.inSearchMode,c=t.page,l=t.rowsPerPage,d=t.acceptJoinRequest,u=t.rejectJoinRequest,p=[];return 0===(p=s?o:a).length?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:5,children:Object(V.jsx)(x.a,{style:{margin:40},hAlignContent:"center",vAlignContent:"center",children:i?Object(V.jsx)(A.a,{variant:"h6",align:"center",children:s?"Can't find any access request with this email.":"No access requests yet."}):Object(V.jsx)(k.HashLoader,{color:n?n.settings.primaryColor:et})})})}):p.slice(c*l,c*l+l).map((function(e){return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(m.b,{to:"".concat(r?Tn.replace(":groupUserName",r).replace(":userID",e.userID):kn.replace(":userID",e.userID)),className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsx)(A.a,{align:"left",variant:"body1",color:"primary",children:"".concat(e.userProfile.title," ").concat(e.userProfile.firstName," ").concat(e.userProfile.lastName)})})})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{align:"left",variant:"body1",children:e.userProfile.email})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{align:"left",variant:"body1",children:tr(e.requestedDate)})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsxs)(x.a,{children:[Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),color:"secondary",onClick:function(){return u(e)},style:{marginRight:6},children:"Reject"}),Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),color:"primary",onClick:function(){return d(e)},style:{marginLeft:6},children:"Accept"})]})})]},e.id)}))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadData(),this.attachListener()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.shouldLoadOtherData,i=n.user,o=n.stopListeningForJoinRequestsChanged;i&&a?(this.loadData(),this.attachListener()):o()}},{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.groupPropertiesLoaded,n=e.user,a=e.joinRequests,i=e.searchText,o=e.inSearchMode,s=e.page,c=e.rowsPerPage,l=e.loadJoinRequests,d=e.toggleSearchMode,u=e.changePage,p=e.changeRowsPerPage,h=e.handleJoinRequestsTableInputChanged;return r&&n?(a.sort((function(e,t){return t.requestedDate-e.requestedDate})),Object(V.jsx)(Fi.a,{elevation:1,style:{width:"100%",overflowX:"auto",marginTop:20},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsxs)(cc.a,{children:[Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:3,cellColor:Pe,component:Object(V.jsx)(Jl.a,{name:"searchText",value:i,onChange:h,fullWidth:!0,placeholder:"Search access request by email",type:"text",startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],flip:!0,placement:"bottom",overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:o?"Exit search mode":"Enter search mode"}),children:Object(V.jsx)(C.a,{onClick:d,children:o?Object(V.jsx)(ie.a,{}):Object(V.jsx)($s.a,{})})})})})}),Object(V.jsx)(st,{colSpan:2,cellColor:Pe,component:Object(V.jsx)(x.a,{hAlignContent:"right",vAlignContent:"center",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],flip:!0,placement:"bottom",overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:"Refresh"}),children:Object(V.jsx)(C.a,{onClick:l,style:{marginLeft:10},children:Object(V.jsx)(Qu.a,{})})})})})]}),Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:2,cellColor:t?t.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"User's name"})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Email"})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Requested date"})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,textColor:be,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Action"})})]})]}),Object(V.jsx)(lc.a,{children:this.renderJoinRequestsRows()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:a.length,rowsPerPage:c,page:s,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:u,onChangeRowsPerPage:p})})})]})})):null}}]),r}(n.Component),kg=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,user:e.auth.user,joinRequests:e.manageJoinRequests.joinRequests,loadingJoinRequests:e.manageJoinRequests.loadingJoinRequests,joinRequestsLoaded:e.manageJoinRequests.joinRequestsLoaded,searchText:e.manageJoinRequests.searchText,inSearchMode:e.manageJoinRequests.inSearchMode,matchedJoinRequests:e.manageJoinRequests.matchedJoinRequests,page:e.manageJoinRequests.page,rowsPerPage:e.manageJoinRequests.rowsPerPage}}),(function(e){return{loadJoinRequests:function(){return e((function(e,t){var r=t().manageGroupFromParams.groupProperties;r&&(e({type:Ag}),Ra({anid:r.anid}).then((function(t){e({type:Cg,joinRequests:t})})).catch((function(t){e({type:Cg,joinRequests:[],error:t})})))}))},toggleSearchMode:function(){return e((function(e,t){var r=t().manageJoinRequests.inSearchMode,n=t().manageJoinRequests.searchText,a=t().manageJoinRequests.joinRequests;if(r)e({type:Pg,enter:!1,matchedJoinRequests:[]});else{var i=a.filter((function(e){return e.userProfile.email.toLowerCase().includes(n.trim().toLowerCase())}));e({type:Pg,enter:!0,matchedJoinRequests:i})}}))},changePage:function(t,r){return e(function(e,t){return{type:wg,newPage:t}}(0,r))},changeRowsPerPage:function(t){return e(function(e){return{type:Sg,value:parseInt(e.target.value,10)}}(t))},handleJoinRequestsTableInputChanged:function(t){return e(function(e){return function(t,r){var n=r().manageJoinRequests.joinRequests,a=e.target.value,i=n.filter((function(e){return e.userProfile.email.toLowerCase().includes(a.trim().toLowerCase())}));t({type:_g,searchText:a,matchedJoinRequests:i})}}(t))},acceptJoinRequest:function(t){return e(function(e){return function(t,r){R.database().ref(mt).child(e.id).remove().then((function(){var t=R.database().ref(xt).push().key,r=$t();R.database().ref(xt).child(t).set({id:t,email:e.userProfile.email,firstName:e.userProfile.firstName,lastName:e.userProfile.lastName,title:e.userProfile.title,type:e.userProfile.type,status:2,officialUserID:e.userID,invitedBy:e.groupToJoin,invitedDate:"none",requestedToJoin:!0,requestedToJoinDate:r,joinedDate:r}).then((function(){ca({title:"".concat(e.group.displayName," has accepted your join request"),message:"Congratulations. You are now a member of ".concat(e.group.displayName,". You can see and interact with all offers from ").concat(e.group.displayName,"."),userID:e.userID,action:"".concat(Dn,"?tab=Explore groups")}).then((function(){})).catch((function(e){}))}))}))}}(t))},rejectJoinRequest:function(t){return e(function(e){return function(t,r){R.database().ref(mt).child(e.id).remove().then((function(){ca({title:"".concat(e.group.displayName," has rejected your join request"),message:"We are so sorry that ".concat(e.group.displayName," has rejected your join request. However, there are other groups that you can take part in."),userID:e.userID,action:"".concat(Dn,"?tab=Explore groups")}).then((function(){})).catch((function(e){}))}))}}(t))},startListeningForJoinRequestsChanged:function(){return e((function(e,t){var r=t().auth.user,n=t().manageGroupFromParams.groupProperties;r&&n&&(Ig||((Ig=R.database().ref(mt).orderByChild("groupToJoin").equalTo(n.anid)).on("child_added",(function(r){var n=r.val(),a=Object(gn.a)(t().manageJoinRequests.joinRequests);-1===a.findIndex((function(e){return e.id===n.id}))&&ma(n.userID).then((function(t){n.userProfile=t,pa(n.groupToJoin).then((function(t){n.group=t,e({type:Eg,joinRequests:[].concat(Object(gn.a)(a),[n])})}))}))})),Ig.on("child_removed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageJoinRequests.joinRequests),i=a.findIndex((function(e){return e.id===n.id}));-1!==i&&(a.splice(i,1),e({type:Eg,joinRequests:a}))}))))}))},stopListeningForJoinRequestsChanged:function(){return e(Dg())}}}))(Tg),Ng="GROUP_ADMINS_TABLE_SET_GROUP",Rg="GROUP_ADMINS_TABLE_LOADING_GROUP_ADMINS",Ug="GROUP_ADMINS_TABLE_FINISHED_LOADING_GROUP_ADMINS",Lg="GROUP_ADMINS_TABLE_PAGE_CHANGED",Bg="GROUP_ADMINS_TABLE_ROWS_PER_PAGE_CHANGED",Fg="GROUP_ADMINS_TABLE_TOGGLE_SEARCH_MODE",Gg="GROUP_ADMINS_TABLE_HANDLE_INPUT_CHANGED",Mg="GROUP_ADMINS_TABLE_TOGGLE_ADD_NEW_GROUP_ADMIN_DIALOG",qg="GROUP_ADMINS_TABLE_ADD_NEW_GROUP_STATUS_CHANGED",Wg=null,Qg="GROUP_ADMINS_TABLE_CHANGED",Vg=function(){return function(e,t){Wg&&(Wg.off("child_added"),Wg.off("child_changed"),Wg.off("child_removed"),Wg=null)}},Hg=1,Jg=2,zg=3,Yg=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).loadData=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.tableGroup,a=t.loadingGroupAdmins,i=t.groupAdminsLoaded,o=t.loadGroupAdmins;r&&(!n||a||i||o())},e.addListeners=function(){var t=e.props,r=t.shouldLoadOtherData,n=t.groupAdmins,a=t.groupAdminsLoaded,i=t.startListeningForGroupAdminsChanged;r&&n&&a&&i()},e.renderTableRows=function(){var t=e.props,r=t.groupProperties,n=t.groupAdminsLoaded,a=t.page,i=t.rowsPerPage,o=t.inSearchMode;return 0===e.getRenderedGroupAdmins().length?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:4,children:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",style:{margin:20},children:n?Object(V.jsx)(A.a,{variant:"body1",align:"center",children:o?"No group admins found.":"No group admins."}):Object(V.jsx)(k.HashLoader,{color:r?r.settings.primaryColor:et})})})}):e.getRenderedGroupAdmins().slice(a*i,a*i+i).map((function(e){return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsx)(pe.a,{colSpan:2,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:e.email})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:e.superGroupAdmin?"Super group admin":"Group admin"})}),Object(V.jsx)(pe.a,{colSpan:1,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:rr(e.dateAdded)})})]},e.id)}))},e.getRenderedGroupAdmins=function(){var t=e.props,r=t.searchText,n=t.inSearchMode,a=t.groupAdmins,i=Object(gn.a)(a);return n&&(i=i.filter((function(e){return e.email.includes(r.toLowerCase())}))),i.sort((function(e,t){return t.time-e.time}))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadData(),this.addListeners()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.shouldLoadOtherData,i=n.tableGroup,o=n.stopListeningForGroupAdminsChanged;i&&a?(this.loadData(),this.addListeners()):o()}},{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.currentUser,n=e.tableGroup,a=e.page,i=e.rowsPerPage,o=e.searchText,s=e.inSearchMode,c=e.addNewGroupAdminDialogOpen,l=e.newGroupAdminEmail,d=e.addNewGroupAdminStatus,u=e.changePage,p=e.changeRowsPerPage,h=e.loadGroupAdmins,j=e.handleInputChanged,g=e.toggleSearchMode,b=e.handleAddNewGroupAdmin,m=e.toggleAddNewGroupAdminDialog;return Object(V.jsxs)("div",{children:[Object(V.jsx)(Fi.a,{elevation:1,style:{overflowX:"auto"},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsxs)(cc.a,{children:[Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:3,cellColor:Pe,component:Object(V.jsx)(Jl.a,{name:"searchText",value:o,onChange:j,fullWidth:!0,placeholder:"Search by email",type:"text",startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"bottom",fli:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:s?"Exit search mode":"Enter search mode"}),children:Object(V.jsx)(C.a,{onClick:g,children:s?Object(V.jsx)(ie.a,{}):Object(V.jsx)($s.a,{})})})})})}),Object(V.jsx)(st,{colSpan:2,cellColor:Pe,component:Object(V.jsxs)(x.a,{hAlignContent:"right",vAlignContent:"center",children:[r.superGroupAdmin&&null!==n&&r.anid===n.anid?Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:m,style:{marginRight:8},children:"Add new group admin"}):null,Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"bottom",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:"Refresh"}),children:Object(V.jsx)(C.a,{onClick:h,style:{marginLeft:10},children:Object(V.jsx)(Qu.a,{})})})]})})]}),Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:2,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Email"})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Type"})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{variant:"body2",align:"left",className:Object(v.b)(ot.white_text),children:"Date added"})})]})]}),Object(V.jsx)(lc.a,{children:this.renderTableRows()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{style:{backgroundColor:Pe},rowsPerPageOptions:[10,30,50],count:this.getRenderedGroupAdmins().length,rowsPerPage:i,page:a,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:u,onChangeRowsPerPage:p})})})]})}),Object(V.jsx)(Xg,{groupProperties:t,addNewGroupAdminDialogOpen:c,newGroupAdminEmail:l,addNewGroupAdminStatus:d,toggleAddNewGroupAdminDialog:m,handleInputChanged:j,handleAddNewGroupAdmin:b})]})}}]),r}(n.Component),Kg=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,currentUser:e.auth.user,tableGroup:e.manageGroupAdminsTable.tableGroup,groupAdmins:e.manageGroupAdminsTable.groupAdmins,groupAdminsLoaded:e.manageGroupAdminsTable.groupAdminsLoaded,loadingGroupAdmins:e.manageGroupAdminsTable.loadingGroupAdmins,page:e.manageGroupAdminsTable.page,rowsPerPage:e.manageGroupAdminsTable.rowsPerPage,searchText:e.manageGroupAdminsTable.searchText,inSearchMode:e.manageGroupAdminsTable.inSearchMode,addNewGroupAdminDialogOpen:e.manageGroupAdminsTable.addNewGroupAdminDialogOpen,newGroupAdminEmail:e.manageGroupAdminsTable.newGroupAdminEmail,addNewGroupAdminStatus:e.manageGroupAdminsTable.addNewGroupAdminStatus}}),(function(e){return{loadGroupAdmins:function(){return e((function(e,t){var r=t().auth.user,n=t().manageGroupAdminsTable.tableGroup;3!==r.type||!r.superAdmin&&r.anid!==n.anid?e({type:Ug,groupAdmins:[]}):(e({type:Rg}),la(n.anid).then((function(t){e({type:Ug,groupAdmins:Object(gn.a)(t)})})).catch((function(t){console.error("Error loading group admins:",t),e({type:Ug,groupAdmins:[]})})))}))},changePage:function(t,r){return e(function(e,t){return{type:Lg,newPage:t}}(0,r))},changeRowsPerPage:function(t){return e(function(e){return{type:Bg,value:parseInt(e.target.value,10)}}(t))},handleInputChanged:function(t){return e(function(e){return{type:Gg,event:e}}(t))},toggleSearchMode:function(){return e({type:Fg})},startListeningForGroupAdminsChanged:function(){return e((function(e,t){if(!Wg){var r=t().auth.user,n=t().manageGroupAdminsTable.tableGroup;3===r.type&&(r.superAdmin||r.anid===n.anid)&&((Wg=R.database().ref(ut)).on("child_added",(function(r){var a=r.val(),i=Object(gn.a)(t().manageGroupAdminsTable.groupAdmins);-1===i.findIndex((function(e){return e.id===a.id}))&&a.anid===n.anid&&e({type:Qg,groupAdmins:[].concat(Object(gn.a)(i),[a])})})),Wg.on("child_changed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageGroupAdminsTable.groupAdmins),i=a.findIndex((function(e){return e.id===n.id}));-1!==i&&(a[i]=n,e({type:Qg,groupAdmins:Object(gn.a)(a)}))})),Wg.on("child_removed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageGroupAdminsTable.groupAdmins),i=a.findIndex((function(e){return e.id===n.id}));-1!==i&&(a.splice(i,1),e({type:Qg,groupAdmins:Object(gn.a)(a)}))})))}}))},stopListeningForGroupAdminsChanged:function(){return e(Vg())},handleAddNewGroupAdmin:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().manageGroupAdminsTable.newGroupAdminEmail,a=r().auth.user,i=r().manageGroupFromParams.groupProperties,a){e.next=5;break}return e.abrupt("return");case 5:if(3===a.type){e.next=7;break}return e.abrupt("return");case 7:if(a.superGroupAdmin){e.next=9;break}return e.abrupt("return");case 9:if(0!==n.trim().length){e.next=12;break}return t({type:qg,status:Hg}),e.abrupt("return");case 12:return t({type:qg,status:Jg}),e.prev=13,e.next=16,da(n.toLowerCase());case 16:if(!e.sent.userExists){e.next=21;break}t({type:qg,status:zg}),e.next=28;break;case 21:return e.next=23,(new na).request("post",ta.addGroupAdminRoute,{queryParameters:null,requestBody:{adder:a,groupProperties:i,newGroupAdminEmail:n}});case 23:o=e.sent,s=o.data,aa({userID:a.id,activityType:4,interactedObjectLocation:ut,interactedObjectID:s.id,activitySummary:"Added %groupAdminEmail% as a group admin.".replace("%groupAdminEmail%",n),value:s}),t({type:Er,message:"Group admin added successfully.",color:"primary",position:"bottom"}),t({type:Mg});case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(13),t({type:Er,message:"Error happened. Couldn't add this group admin.",color:"error",position:"bottom"});case 33:case"end":return e.stop()}}),e,null,[[13,30]])})));return function(t,r){return e.apply(this,arguments)}}())},toggleAddNewGroupAdminDialog:function(){return e({type:Mg})}}}))(Yg),Xg=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderStatusMessage=function(){var t=e.props,r=t.addNewGroupAdminStatus,n=t.groupProperties,a={text:"",color:""};switch(r){case 0:return null;case Hg:a.tex="Please fill in the email.",a.color="error";break;case Jg:return Object(V.jsx)(k.BeatLoader,{size:10,color:n?n.settings.primaryColor:et});case zg:a.text="This email has been used by another account.",a.color="error";break;case 4:default:return null}return Object(V.jsx)(A.a,{color:a.color,variant:"body1",align:"left",children:a.text})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.addNewGroupAdminDialogOpen,n=e.newGroupAdminEmail,a=e.toggleAddNewGroupAdminDialog,i=e.handleInputChanged,o=e.handleAddNewGroupAdmin;return Object(V.jsxs)(U.a,{open:r,ref:t,fullWidth:!0,maxWidth:"md",onClose:a,children:[Object(V.jsx)(L.a,{disableTypography:!0,children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(x.a,{grow:4,children:Object(V.jsx)(A.a,{variant:"h6",color:"primary",align:"left",children:"Add new group admin"})}),Object(V.jsx)(x.a,{grow:1,hAlignContent:"right",children:Object(V.jsx)(C.a,{onClick:a,children:Object(V.jsx)(ie.a,{})})})]})}),Object(V.jsx)(B.a,{children:Object(V.jsx)(Yr.a,{variant:"outlined",label:"Email",name:"newGroupAdminEmail",placeholder:"Write email here",value:n,onChange:i,fullWidth:!0,required:!0,style:{marginTop:10}})}),Object(V.jsx)(F.a,{children:Object(V.jsxs)(x.a,{width:"100%",marginRight:25,marginBottom:15,marginTop:20,hAlignContent:"right",vAlignContent:"center",children:[this.renderStatusMessage(),Object(V.jsxs)(G.a,{variant:"outlined",color:"primary",onClick:o,size:"medium",className:Object(v.b)(ot.no_text_transform),style:{marginLeft:20},children:["Add",Object(V.jsx)(ne.a,{fontSize:"small",style:{marginLeft:8}})]})]})})]})}}]),r}(n.Component),Zg=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).setDataForComponents=function(){var e=n.props,t=e.currentUser,r=e.groupProperties,a=e.activitiesTable_setUser,i=e.groupAdminsTable_setGroup;!t||t&&3!==t.type||(a(t.superAdmin?t:r),i(r))},n.renderPageContent=function(){var e=n.props,t=e.AuthenticationState,r=e.OffersTableLocalState,a=e.currentUser,i=e.joinRequests,o=e.joinRequestsLoaded,s=Cu.a.parse(n.props.location.search),c=0;return r.tableUser&&r.tableUser.id===t.currentUser.id&&bd(r)&&r.offerInstances.forEach((function(e){Td(e.projectDetail)&&(c+=1)})),s.tab===Ds?Object(V.jsxs)(I.a,{noGutters:!0,style:{marginBottom:30},children:[a.superAdmin?Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsxs)(mh.a,{className:Object(v.b)(eb.card_style),children:[Object(V.jsx)(fh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",align:"left",children:"Manage groups"}),Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",align:"left",children:"Manage groups that have joined the system."})]})}),Object(V.jsx)(Oh.a,{children:Object(V.jsx)(x.a,{column:!0,width:"100%",children:Object(V.jsx)(yg,{})})})]})}):null,Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsxs)(mh.a,{className:Object(v.b)(eb.card_style),children:[Object(V.jsx)(fh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",align:"left",children:a.superAdmin?"Manage system users":"Manage group members"}),Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",align:"left",children:a.superAdmin?"Manage all the system users (investors and issuers) including those who have been invited but not yet registered.":"Manage all the group members (investors and issuers) including those who have been invited but not yet registered and those who joined this group from another group."})]})}),Object(V.jsx)(Oh.a,{className:Object(v.b)(eb.card_details_expansion),children:Object(V.jsx)(Vj,{})})]})}),a.superAdmin?null:Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsxs)(mh.a,{className:Object(v.b)(eb.card_style),children:[Object(V.jsx)(fh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{width:"100%",children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",align:"left",children:"Manage access requests"}),Object(V.jsx)(x.a,{marginLeft:28,marginTop:8,children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"top-start",flip:!0,overlay:Object(V.jsxs)(nc.a,{id:"tooltip-top",children:[i.length," access requests are awaiting your review."]}),children:Object(V.jsx)(P.a,{badgeContent:o?i.length:0,color:"error",invisible:!o||0===i.length})})})]}),Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",align:"left",children:"Manage access requests from other groups' investors who would like to join this group."})]})}),Object(V.jsx)(Oh.a,{className:Object(v.b)(eb.card_details_expansion),children:Object(V.jsx)(kg,{})})]})}),Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsxs)(mh.a,{className:Object(v.b)(eb.card_style),children:[Object(V.jsx)(fh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{width:"100%",children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",align:"left",children:"Manage offers"}),Object(V.jsx)(x.a,{marginLeft:28,marginTop:8,children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"top-start",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-top",children:a.superAdmin?"".concat(c,' offers are awaiting group admins\' review. Select "Awaiting review" from the "Phase" dropdown to see details.'):"".concat(c,' offers are awaiting your review. Select "Awaiting review" from the "Phase" dropdown to see details.')}),children:Object(V.jsx)(P.a,{badgeContent:c,color:"error",invisible:0===c})})})]}),Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",align:"left",children:a.superAdmin?"Manage all the offers created by all the issuers and group admins in the system.":"Manage all the offers created by the issuers and group admins of this group."})]})}),Object(V.jsx)(Oh.a,{className:Object(v.b)(eb.card_details_expansion),children:Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsx)(Z.a,{style:{marginBottom:15}}),Object(V.jsx)($d,{})]})})]})}),a.superAdmin?null:Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsxs)(mh.a,{className:Object(v.b)(eb.card_style),children:[Object(V.jsx)(fh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",align:"left",children:"Manage group admins"}),Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",align:"left",children:"Manage group admins. Only super group admin can add a new group admin."})]})}),Object(V.jsx)(Oh.a,{children:Object(V.jsx)(x.a,{column:!0,width:"100%",children:Object(V.jsx)(Kg,{})})})]})})]}):s.tab===Ns?a.superAdmin?Object(V.jsx)(jj,{}):Object(V.jsx)(wj,{}):s.tab===Rs?Object(V.jsx)(ui,{}):s.tab===Us?Object(V.jsx)(oh,{}):s.tab===Gs||s.tab===Fs?Object(V.jsx)("div",{style:{margin:30},children:Object(V.jsx)(Ec,{})}):s.tab===Bs?Object(V.jsx)(Hu,{}):s.tab===Ls?Object(V.jsx)(hp,{}):void 0},n.renderPageTitle=function(){var e="";switch(Cu.a.parse(n.props.location.search).tab){case Ds:e=Ds;break;case Ns:e=Ns;break;case Rs:e=Rs;break;case Us:e=Us;break;case Gs:e=Gs;break;case Ls:e=Ls;break;case Bs:e=Bs;break;default:return}return Object(V.jsx)(A.a,{variant:"h6",className:Object(v.b)(eb.page_title),children:e})},n.firebaseDB=R.database(),n.notificationBell=a.a.createRef(),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.setGroupUserNameFromParams,a=e.setExpectedAndCurrentPathsForChecking,i=e.loadAngelNetwork,o=e.notificationRefUpdated,s=e.history,c=e.match,l=ch("redirectToAfterAuth");l&&(lh("redirectToAfterAuth"),s.push(l)),n(c.params.hasOwnProperty("groupUserName")?c.params.groupUserName:null),a(c.params.hasOwnProperty("groupUserName")?wn:Sn,c.path),i().catch((function(e){console.error("Error loading angel network:",e)})),t&&r&&this.setDataForComponents(),o(this.notificationBell.current)}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.loadAngelNetwork,s=n.notificationRefUpdated;o().catch((function(e){console.error("Error loading angel network:",e)})),a&&i&&this.setDataForComponents(),s(this.notificationBell.current)}},{key:"render",value:function(){var e=this.props,t=e.shouldLoadOtherData,r=e.groupPropertiesLoaded,n=e.groupProperties,a=e.sidebarDocked,i=e.sidebarOpen,o=e.authStatus,s=e.authenticating,c=e.currentUser,l=e.currentUserLoaded,d=e.notifications,u=e.notificationsAnchorEl,p=e.toggleSidebar,h=e.toggleNotifications;return r?t?s||!l?Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:n?n.settings.primaryColor:et})}):o!==co||!c||c&&3!==c.type?Object(V.jsx)(jn,{}):Object(V.jsxs)(y.a,{sidebar:Object(V.jsx)(qs,{dashboardProps:this.props}),shadow:!1,open:i,docked:a,onSetOpen:function(){return p(!0)},transitions:!0,styles:{sidebar:{backgroundColor:Pe},content:{backgroundColor:xe}},children:[Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{height:55,width:"100%",vAlignContent:"center",style:{backgroundColor:n?n.settings.primaryColor:et},children:Object(V.jsxs)(I.a,{style:{width:"100%"},noGutters:!0,children:[Object(V.jsx)(E.a,{xs:10,sm:10,md:11,lg:11,children:Object(V.jsxs)(x.a,{vAlignContent:"center",width:"100%",children:[Object(V.jsx)(C.a,{className:Object(v.b)(ot.hamburger_button),onClick:function(){return p(!0)},children:Object(V.jsx)(T.a,{})}),this.renderPageTitle()]})}),Object(V.jsx)(E.a,{xs:2,sm:2,md:1,lg:1,style:{paddingRight:13},children:Object(V.jsx)(x.a,{vAlignContent:"center",hAlignContent:"right",width:"100%",children:Object(V.jsx)("div",{ref:this.notificationBell,children:Object(V.jsx)(C.a,{onMouseDown:function(e){h(e)},id:"notification-button",children:Object(V.jsx)(P.a,{badgeContent:d.length,color:"secondary",invisible:0===d.length,children:Object(V.jsx)(S.a,{className:Object(v.b)(ot.white_text)})})})})})})]})})})}),Object(V.jsxs)(I.a,{noGutters:!0,style:{backgroundColor:be},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(A.a,{variant:"body1",align:"center",style:{paddingTop:16,paddingBottom:16},children:[c.superAdmin?"System admin":c.superGroupAdmin?"Super group admin":"Group admin",": ",Object(V.jsx)("b",{children:c.email})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{style:{backgroundColor:it}})})]}),this.renderPageContent()]}),null!==u&&Object(V.jsx)(vu,{}),Object(V.jsx)(Gh,{}),Object(V.jsx)(zj,{})]}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),r}(n.Component),$g=Object(q.b)((function(e){return{AuthenticationState:e.AuthenticationState,OffersTableLocalState:e.OffersTableLocalState,groupUserName:e.manageGroupFromParams.groupUserName,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,sidebarDocked:e.dashboardSidebar.sidebarDocked,sidebarOpen:e.dashboardSidebar.sidebarOpen,clubAttributes:e.manageClubAttributes.clubAttributes,clubAttributesLoaded:e.manageClubAttributes.clubAttributesLoaded,authStatus:e.auth.authStatus,authenticating:e.auth.authenticating,currentUser:e.auth.user,currentUserLoaded:e.auth.userLoaded,notifications:e.manageNotifications.notifications,notificationsAnchorEl:e.manageNotifications.notificationsAnchorEl,notificationBellRef:e.manageNotifications.notificationBellRef,joinRequests:e.manageJoinRequests.joinRequests,joinRequestsLoaded:e.manageJoinRequests.joinRequestsLoaded}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},toggleSidebar:function(t){return e(To(t))},activitiesTable_setUser:function(t){return e(vc(t))},groupAdminsTable_setGroup:function(t){return e((r=t,function(e,t){var n=t().manageGroupAdminsTable.tableGroup;r&&n?n.anid!==r.anid&&e({type:Ng,group:r}):e({type:Ng,group:r})}));var r},toggleNotifications:function(t){return e(hu())},notificationRefUpdated:function(t){return e(gu(t))}}}))(Zg),eb=v.a.create({page_title:{fontSize:19,marginLeft:8,color:be},card_style:{marginTop:25,marginLeft:30,marginRight:30},card_details_expansion:{maxHeight:2e3,overflowY:"auto"}}),tb=r(790),rb=r(791),nb=r(724),ab=r(792),ib=r(408),ob=r.n(ib),sb=r(411),cb=r(808),lb=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onDeleteDocument=function(t){e.props.onDeleteDocument(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.documents;return!t||t&&0===t.length?null:Object(V.jsx)(x.a,{column:!0,marginTop:20,children:Object(V.jsx)(ji.a,{children:t.map((function(t,n){return Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsxs)(gi.a,{button:!0,style:{padding:7},children:[Object(V.jsx)("img",{alt:"Document",className:Object(v.b)(db.preview_icon),src:r(250).default}),Object(V.jsxs)(x.a,{column:!0,hAlignContent:"left",children:[Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(db.black_text),align:"left",children:t.file.name}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:t.file.sizeReadable})]})]}),Object(V.jsx)(rc.a,{trigger:["hover","focus"],flip:!0,placement:"bottom",overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:" Remove "}),children:Object(V.jsx)(C.a,{style:{width:44,height:44},onClick:function(){return e.onDeleteDocument(n)},children:Object(V.jsx)(ie.a,{fontSize:"small"})})})]},n)}))})})}}]),n}(n.Component),db=v.a.create({no_margin:{margin:0},preview_icon:{width:48,height:48},file_name:{fontSize:14,marginBottom:2},file_size:{fontSize:13,color:Se}}),ub=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onDocumentClick=function(t){e.props.onDocumentClick(t)},e.onDeleteDocument=function(t){e.props.onDeleteDocument(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.documents,a=t.deleteEnable;return n&&0!==n.length?Object(V.jsx)(x.a,{column:!0,marginTop:20,children:Object(V.jsx)(ji.a,{children:n.map((function(t,n){return t.hasOwnProperty("removed")?null:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)("a",{href:t.downloadURL,rel:"noopener noreferrer",target:"_blank",className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),style:{width:"100%"},children:Object(V.jsxs)(gi.a,{button:!0,style:{padding:7},children:[Object(V.jsx)("img",{alt:"Document",className:Object(v.b)(pb.preview_icon),src:r(250).default}),Object(V.jsxs)(x.a,{column:!0,hAlignContent:"left",children:[Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(pb.black_text),align:"left",children:t.fileName}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:t.readableSize})]})]})}),a?Object(V.jsx)(rc.a,{trigger:["hover","focus"],flip:!0,placement:"top",overlay:Object(V.jsx)(nc.a,{id:"tooltip-top",children:"Delete this document"}),children:Object(V.jsx)(C.a,{style:{width:44,height:44},onClick:function(){return e.onDeleteDocument(n)},children:Object(V.jsx)(ie.a,{fontSize:"small"})})}):null]},n)}))})}):null}}]),n}(n.Component),pb=v.a.create({no_margin:{margin:0},preview_icon:{width:48,height:48},file_name:{fontSize:14,marginBottom:2},file_size:{fontSize:13,color:Se},black_text:{color:ge}}),hb="SELECT_PROJECT_VISIBILITY_SET_PROJECT",jb=function(e){return{type:hb,project:e}},gb="HANDLE_PROJECT_VISIBILITY_SETTING_CHANGED",bb=function(e){return{type:gb,event:e}},mb=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.ManageGroupUrlState,r=e.projectVisibilitySetting,n=e.project,a=e.handleProjectVisibilityChanged;return ad(t)?null:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Xs.a,{className:Object(v.b)(ot.black_text),style:{marginBottom:6},children:"Select pitch visibility"}),Object(V.jsxs)(Ws.a,{value:-1===r?n?n.visibility:od(t)?t.group&&t.group.settings.projectVisibility:n.group.settings.projectVisibility:r,name:"projectVisibilitySetting",margin:"dense",onChange:a,input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"projectVisibilitySetting"}),children:[Object(V.jsx)(Vs.a,{value:3,children:"Public (\n                        ".concat(od(t)?t.group&&3===t.group.settings.projectVisibility?"Default - ":"":3===n.group.settings.projectVisibility?"Default - ":"","\n                        The full pitch will be visible to all Invest West users)")}),Object(V.jsx)(Vs.a,{value:2,children:"Restricted (\n                        ".concat(od(t)?t.group&&2===t.group.settings.projectVisibility?"Default - ":"":2===n.group.settings.projectVisibility?"Default - ":"","\n                        Restricted information from this pitch will be visible to all Invest West users. Only members of your group will see the full pitch)")}),Object(V.jsx)(Vs.a,{value:1,children:"Private (\n                        ".concat(od(t)?t.group&&1===t.group.settings.projectVisibility?"Default - ":"":1===n.group.settings.projectVisibility?"Default - ":"","\n                        Only members of this group will see this pitch)")})]})]})}}]),r}(n.Component),fb=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,projectVisibilitySetting:e.manageSelectProjectVisibility.projectVisibilitySetting,project:e.manageSelectProjectVisibility.project}}),(function(e){return{handleProjectVisibilityChanged:function(t){return e(bb(t))}}}))(mb),Ob={recoveredFromPreviousState:!1,projectBeforeEdited:null,projectEdited:null,projectEditedLoaded:!1,requestToLoadData:!0,projectIDToBeLoadedAfterSavingFirstTime:null,saveProgress:!1,progressBeingSaved:!1,draftBeingDeleted:!1,createProject:{activeStep:0,groupIssuerCreateOfferFor:"undefined",pitchSector:"-",pitchProjectName:"",pitchProjectDescription:"",pitchExpiryDate:null,pitchAmountRaisedToDate:"",pitchRaiseRequired:"",howFundIsBeingRaised:"",financialRound:"",pitchPostMoneyValuation:"",detailsAboutEarlierFundraisingRounds:"",pitchInvestorsCommitted:"",hasSEIS:"",hasEIS:"",hasRaisedMoneyBefore:"",pitchCover:[],pitchCoverVideoURL:"",pitchCoverTypeSelected:null,pitchSupportingDocuments:[],pitchPresentationDocument:[],pitchPresentationText:{ops:[]},pitchPresentationPlainText:null,pitchPublishCheck:0,pitchNextStepButtonTarget:null,pitchPublishErrorMessageShowed:!1,uploadFileProgress:0,uploadFileMode:0,openUploadingProgressDialog:!1,acceptedTermsAndConditions:!1,agreedToShareRaisePublicly:!1,agreedToReceiveLocalInvestmentInfo:!1,projectID:null,qibSpecialNews:""}},xb=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).navigateToTheSamePageWithActiveStepSaved=function(e,t){var r=n.props.ManageGroupUrlState;t?n.props.history.push({pathname:r.groupNameFromUrl?Bn.replace(":groupUserName",r.groupNameFromUrl):Gn,search:"?edit=".concat(t),state:{activeStep:e}}):n.props.history.push({pathname:r.groupNameFromUrl?Bn.replace(":groupUserName",r.groupNameFromUrl):Gn,state:{activeStep:e}}),console.log("Navigating to step ".concat(e," with projectID ").concat(t,". Current state:"),n.state)},n.loadData=function(){var e=n.props,t=e.ManageGroupUrlState,r=e.AuthenticationState,a=e.selectProjectVisibility_setProject,i=n.state,o=i.projectEditedLoaded,s=i.projectIDToBeLoadedAfterSavingFirstTime;if(!ad(t)&&!xs(r))if(!vs(r)||r.currentUser&&1===r.currentUser.type)o||n.setState({projectEditedLoaded:!0});else{n.setState({requestToLoadData:!1});var c=Cu.a.parse(n.props.location.search);c.edit||s?La(c.edit?c.edit:s).then((function(e){3===r.currentUser.type&&a(e),e.status===Ft&&(n.projectEditedSaveModeRefListener||(n.projectEditedSaveModeRefListener=n.firebaseDB.ref(jt).orderByKey().equalTo(e.id),n.projectEditedSaveModeRefListener.on("child_changed",(function(e){var t=e.val();n.setState({projectEdited:Object.assign({},t)})})))),n.setState({projectBeforeEdited:JSON.parse(JSON.stringify(e)),projectEdited:JSON.parse(JSON.stringify(e)),projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null,createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{groupIssuerCreateOfferFor:Dd(e)&&e.hasOwnProperty("anid")?e.anid:"undefined",pitchSector:e.hasOwnProperty("sector")?e.sector:"-",pitchProjectName:e.hasOwnProperty("projectName")?e.projectName:"",pitchProjectDescription:e.hasOwnProperty("description")?e.description:"",pitchExpiryDate:e.Pitch.hasOwnProperty("expiredDate")?e.Pitch.expiredDate:null,pitchAmountRaisedToDate:e.Pitch.hasOwnProperty("amountRaised")?Number(e.Pitch.amountRaised.toFixed(2)).toLocaleString():"",pitchRaiseRequired:e.Pitch.hasOwnProperty("fundRequired")?Number(e.Pitch.fundRequired.toFixed(2)).toLocaleString():"",howFundIsBeingRaised:e.Pitch.hasOwnProperty("howFundIsBeingRaised")?e.Pitch.howFundIsBeingRaised:"",financialRound:e.Pitch.hasOwnProperty("financialRound")?e.Pitch.financialRound:"",hasSEIS:e.Pitch.hasOwnProperty("hasSEIS")?e.Pitch.hasSEIS:"",hasEIS:e.Pitch.hasOwnProperty("hasEIS")?e.Pitch.hasEIS:"",pitchPostMoneyValuation:e.Pitch.hasOwnProperty("postMoneyValuation")?Number(e.Pitch.postMoneyValuation.toFixed(2)).toLocaleString():"",detailsAboutEarlierFundraisingRounds:e.Pitch.hasOwnProperty("detailsAboutEarlierFundraisingRounds")?e.Pitch.detailsAboutEarlierFundraisingRounds:"",pitchInvestorsCommitted:e.Pitch.hasOwnProperty("investorsCommitted")?e.Pitch.investorsCommitted:"",hasRaisedMoneyBefore:e.Pitch.hasOwnProperty("amountRaised")?e.Pitch.amountRaised>0?"true":"false":"",pitchPresentationText:e.Pitch.presentationText?e.Pitch.presentationText:{ops:[]},qibSpecialNews:e.Pitch.hasOwnProperty("qibSpecialNews")?e.Pitch.qibSpecialNews:""})})})).catch((function(e){console.error("Error loading project data:",e),n.setState({projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null,loadError:"There was a problem loading the project data. Please try again."}),n.setState({projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null})})):(n.setState({projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null,createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{groupIssuerCreateOfferFor:t.group?t.group.anid:null===mn(r.groupsOfMembership)?"undefined":mn(r.groupsOfMembership).group.anid,pitchExpiryDate:"qib"===t.group.groupUserName?t.group.settings.defaultPitchExpiryDate:n.state.createProject.pitchExpiryDate})}),3===r.currentUser.type&&a(null))}},n.handleNextStepClick=function(){var e=Cu.a.parse(n.props.location.search),t=n.props,r=t.ManageGroupUrlState,a=t.AuthenticationState,i=n.state,o=i.projectEdited,s=i.progressBeingSaved,c=n.state.createProject,l=c.groupIssuerCreateOfferFor,d=c.activeStep,u=c.pitchSector,p=c.pitchProjectName,h=c.pitchProjectDescription,j=c.pitchExpiryDate,g=c.pitchAmountRaisedToDate,m=c.pitchRaiseRequired,f=c.howFundIsBeingRaised,O=c.financialRound,x=c.pitchPostMoneyValuation,v=c.pitchCover,y=c.pitchCoverVideoURL,A=c.pitchCoverTypeSelected,C=c.pitchPresentationDocument,P=c.pitchPresentationText,w=c.hasRaisedMoneyBefore,S=c.hasSEIS,_=c.hasEIS,I=c.qibSpecialNews;if(!s){switch(d){case 0:if("-"===u||0===p.trim().length||0===h.trim().length||null===j||0===m.trim().length||0===f.trim().length||0===O.trim().length||0===w.trim().length||0===S.trim().length||0===_.trim().length||"true"===w&&0===g.trim().length||"qib"===r.groupNameFromUrl&&0===I.trim().length||xn(a.currentUser)&&(!e.edit||!o)&&"undefined"===l)return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:1,pitchPublishErrorMessageShowed:!0})});if(isNaN(j)||j&&j<er(0))return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:2,pitchPublishErrorMessageShowed:!0})});if("true"===w&&!lr(g)||!lr(m)||x.trim().length>0&&!lr(x))return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:3,pitchPublishErrorMessageShowed:!0})});n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{activeStep:d+1,pitchPublishCheck:0,pitchPublishErrorMessageShowed:!1})});break;case 1:if(e.edit&&o){if((!o.Pitch.cover||o.Pitch.cover&&0===o.Pitch.cover.filter((function(e){return!e.hasOwnProperty("removed")})).length)&&(!A||1===A&&0===v.length||2===A&&0===y.trim().length))return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:4,pitchPublishErrorMessageShowed:!0})})}else if(!A||1===A&&0===v.length||2===A&&0===y.trim().length)return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:4,pitchPublishErrorMessageShowed:!0})});n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{activeStep:d+1,pitchPublishCheck:0,pitchPublishErrorMessageShowed:!1})});break;case 2:if("qib"===r.groupNameFromUrl){if(e.edit&&o){if(0===C.length&&(!o.Pitch.presentationDocument||o.Pitch.presentationDocument&&0===o.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length))return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:5,pitchPublishErrorMessageShowed:!0})})}else if(0===C.length)return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:5,pitchPublishErrorMessageShowed:!0})})}else if(e.edit&&o){if(0===C.length&&0===P.ops.length&&(!o.Pitch.presentationDocument||o.Pitch.presentationDocument&&0===o.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length)&&!o.Pitch.presentationText)return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:5,pitchPublishErrorMessageShowed:!0})})}else if(0===C.length&&0===P.ops.length)return void n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:5,pitchPublishErrorMessageShowed:!0})});n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{activeStep:d+1,pitchPublishCheck:0,pitchPublishErrorMessageShowed:!1})});break;case 3:if(o.status!==Ft)return void n.uploadProject();n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{activeStep:d+1,pitchPublishCheck:0,pitchPublishErrorMessageShowed:!1})});break;case 4:if(o&&o.status===Ft)return n.projectEditedSaveModeRefListener&&n.projectEditedSaveModeRefListener.off("child_changed"),n.uploadProject(),void n.navigateToTheSamePageWithActiveStepSaved(0,o.id);break;default:return}e.edit&&o?o.status===Ft?n.handleSaveProgressClick():n.navigateToTheSamePageWithActiveStepSaved(d+1,o.id):n.handleSaveProgressClick()}},n.handleBackClick=function(){var e=n.state.projectEdited,t=n.state.createProject.activeStep;0!==t&&(n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{activeStep:t-1})}),n.navigateToTheSamePageWithActiveStepSaved(t-1,e.id))},n.handleSelectPitchCoverTypeClick=function(e){var t=n.state.createProject,r=t.pitchCoverTypeSelected,a=t.pitchCover,i=t.pitchCoverVideoURL;r===e?n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchCoverTypeSelected:null,pitchCover:1===e?[]:a,pitchCoverVideoURL:2===e?"":i})}):n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchCoverTypeSelected:e})})},n.handleFilesChanged=function(e,t){var r=n.props.ManageGroupUrlState,a=n.state.projectEdited,i=n.state.createProject.pitchSupportingDocuments,o=n.props.setFeedbackSnackbarContent,s=new FileReader;s.addEventListener("load",(function(){var c={file:t[t.length-1],preview:s.result};switch(e){case 1:n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchCover:[c]})});break;case 2:if("qib"===r.groupNameFromUrl)n.setState((function(e){return{createProject:Object(b.a)(Object(b.a)({},e.createProject),{},{pitchSupportingDocuments:[c]})}}));else{if(a){if(a.Pitch.supportingDocuments){if(i.length>=Jt-a.Pitch.supportingDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length){o("Max file count reached.","error","bottom");break}}else if(i.length>=Jt){o("Max file count reached.","error","bottom");break}}else if(i.length>=Jt){o("Max file count reached.","error","bottom");break}n.setState((function(e){return{createProject:Object(b.a)(Object(b.a)({},e.createProject),{},{pitchSupportingDocuments:[].concat(Object(gn.a)(e.createProject.pitchSupportingDocuments),[c])})}}))}break;case 3:n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPresentationDocument:[c]})})}})),s.readAsDataURL(t[t.length-1])},n.handleFileError=function(e,t){var r=n.props.setFeedbackSnackbarContent,a=e.message;r(a=a.charAt(0).toUpperCase()+a.slice(1),"error","bottom")},n.handleCreatePitchInputChanged=function(e){var t=e.target.name,r=e.target.value;if("groupIssuerCreateOfferFor"===t){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},Object(Bi.a)({},t,r))});var a=n.props.AuthenticationState,i=Cu.a.parse(n.props.location.search),o=a.groupsOfMembership.findIndex((function(e){return e.group.anid===r}));if(-1===o)return;i.edit?n.props.history.push({pathname:Bn.replace(":groupUserName",a.groupsOfMembership[o].group.groupUserName),search:"?edit=".concat(i.edit),state:{activeStep:n.state.createProject.activeStep,groupIssuerCreateOfferFor:r,requestToLoadData:!0}}):n.props.history.push({pathname:Bn.replace(":groupUserName",a.groupsOfMembership[o].group.groupUserName),state:{activeStep:n.state.createProject.activeStep,groupIssuerCreateOfferFor:r,requestToLoadData:!0}})}else{if("pitchProjectDescription"===t&&r.trim().length>=300)return;n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},Object(Bi.a)({},t,r))})}},n.handlePitchEditorChanged=function(e,t,r,a){0===a.getText().trim().length?n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPresentationText:{ops:[]}})}):n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPresentationText:a.getContents(),pitchPresentationPlainText:a.getText()})})},n.uploadProject=function(){var e=Cu.a.parse(n.props.location.search),t=n.props,r=t.ManageGroupUrlState,a=t.AuthenticationState,i=t.projectVisibilitySetting,o=n.state,s=o.projectBeforeEdited,c=o.projectEdited,l=o.saveProgress,d=o.progressBeingSaved,u=n.state.createProject,p=u.groupIssuerCreateOfferFor,h=u.activeStep,j=u.pitchSector,g=u.pitchProjectName,m=u.pitchProjectDescription,f=u.pitchExpiryDate,O=u.pitchAmountRaisedToDate,x=u.pitchRaiseRequired,v=u.howFundIsBeingRaised,y=u.financialRound,A=u.pitchPostMoneyValuation,C=u.detailsAboutEarlierFundraisingRounds,P=u.pitchInvestorsCommitted,w=u.hasRaisedMoneyBefore,S=u.pitchCover,_=u.pitchCoverVideoURL,I=u.pitchPresentationDocument,E=u.pitchPresentationText,D=u.pitchPresentationPlainText,T=u.hasSEIS,k=u.hasEIS,N=u.agreedToShareRaisePublicly,R=u.agreedToReceiveLocalInvestmentInfo,U=u.qibSpecialNews;if(l&&!d&&n.setState({progressBeingSaved:!0}),e.edit&&c){(S.length>0||_.trim().length>0)&&c.Pitch.hasOwnProperty("cover")&&c.Pitch.cover.forEach((function(e,t){e.removed=!0,c.Pitch.cover[t]=e})),I.length>0&&c.Pitch.hasOwnProperty("presentationDocument")&&c.Pitch.presentationDocument.forEach((function(e,t){e.removed=!0,c.Pitch.presentationDocument[t]=e}));var L=n.firebaseDB.ref(jt),B=n.firebaseStorage.ref(ht).child(c.issuerID).child(jt).child(c.id);n.uploadMultipleFiles(1,B).then((function(e){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileProgress:100})}),n.uploadMultipleFiles(2,B).then((function(e){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileProgress:100})}),n.uploadMultipleFiles(3,B).then((function(e){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:4,uploadFileProgress:100})});var t=Object(b.a)(Object(b.a)({},JSON.parse(JSON.stringify(c))),{},{issuer:null,group:null,anid:Dd(c)&&"undefined"!==p?p:c.anid,projectName:l&&0===g.trim().length?null:g,sector:l&&"-"===j?null:j,description:l&&0===m.trim().length?null:m,visibility:-1===i?c.visibility:i,status:l?Ft:c.status===Ft?0:c.status,edited:l?null:$t(),PrimaryOffer:c.PrimaryOffer?c.PrimaryOffer:null,Pitch:{totalRaise:l?0===w.trim().length?null:"true"===w?0===x.trim().length?null:lr(O)+lr(x):0===x.trim().length?null:lr(x):"true"===w?lr(O)+lr(x):lr(x),amountRaised:l&&0===w.trim().length?null:"true"===w?lr(O):0,fundRequired:l&&0===x.trim().length?null:lr(x),howFundIsBeingRaised:l&&0===v.trim().length?null:v,financialRound:l&&0===y.trim().length?null:y,hasSEIS:l&&0===T.trim().length?null:T,hasEIS:l&&0===k.trim().length?null:k,postMoneyValuation:0===A.trim().length?null:lr(A),detailsAboutEarlierFundraisingRounds:0===C.trim().length?null:C,investorsCommitted:0===P.trim().length?null:P,supportingDocuments:c.Pitch.supportingDocuments?[].concat(Object(gn.a)(c.Pitch.supportingDocuments),Object(gn.a)(n.pitchSupportingDocumentsRealtimeDB)):n.pitchSupportingDocumentsRealtimeDB,presentationText:0===E.ops.length?null:E,presentationPlainText:0===E.ops.length?null:D,presentationDocument:0===n.pitchPresentationDocumentRealtimeDB.length?c.Pitch.presentationDocument?c.Pitch.presentationDocument:null:c.Pitch.presentationDocument?[].concat(Object(gn.a)(c.Pitch.presentationDocument),Object(gn.a)(n.pitchPresentationDocumentRealtimeDB)):n.pitchPresentationDocumentRealtimeDB,cover:c.Pitch.cover?[].concat(Object(gn.a)(c.Pitch.cover),Object(gn.a)(n.pitchCoverRealtimeDB)):n.pitchCoverRealtimeDB,postedDate:l||c.status===Ft?$t():c.Pitch.postedDate,expiredDate:l?f||null:f,status:l?Ft:c.status===Ft?1:c.Pitch.status,qibSpecialNews:l&&0===U.trim().length?null:U}});L.child(c.id).update(t).then((function(){if(l)n.pitchCoverRealtimeDB=[],n.pitchPresentationDocumentRealtimeDB=[],n.pitchSupportingDocumentsRealtimeDB=[],n.setState({saveProgress:!1,progressBeingSaved:!1,acceptedTermsAndConditions:!1,createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:0,uploadFileProgress:0,pitchCover:[],pitchCoverVideoURL:"",pitchCoverTypeSelected:null,pitchSupportingDocuments:[],pitchPresentationDocument:[]})}),n.navigateToTheSamePageWithActiveStepSaved(h,c.id);else if(c.status!==Ft)s.issuer=null,s.group=null,aa({userID:a.currentUser.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:c.id,activitySummary:"Edited %project% offer.".replace("%project%",c.projectName),action:Wn.replace(":projectID",c.id),value:{before:JSON.parse(JSON.stringify(s)),after:JSON.parse(JSON.stringify(t))}}),Ha(c.id,null,Va).then((function(e){var t=[];e.forEach((function(e){t.push(e.investorID)})),Qa(c.id,null,Wa).then((function(e){e.forEach((function(e){-1===t.findIndex((function(t){return t===e.investorID}))&&t.push(e.investorID)}));var r=[];t.forEach((function(e){var t={title:"".concat(c.projectName," has been edited"),message:"Please have a look at the changes that have been made in this offer. You may find some more useful information.",userID:e,action:Wn.replace(":projectID",c.id)};r.push(t)})),Promise.all(r.map((function(e){return new Promise((function(t,r){ca(e).then((function(){return t()})).catch((function(e){return r(e)}))}))}))).then((function(){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:5,uploadFileProgress:100,projectID:c.id})})})).catch((function(e){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:5,uploadFileProgress:100})})}))}))}));else{var e={issuerID:a.currentUser.id,projectID:c.id,date:$t(),agreedToShareRaisePublicly:N};n.firebaseDB.ref(yt).push(e).then(Object(Xt.a)(Kt.a.mark((function e(){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new na).request("post",ta.sendEmailRoute,{queryParameters:null,requestBody:{emailType:3,emailInfo:{projectID:c.id}}});case 2:aa({userID:a.currentUser.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:c.id,activitySummary:sa.replace("%project%",t.projectName),action:Wn.replace(":projectID",t.id),value:t}),2===a.currentUser.type&&Ka({userID:a.currentUser.id,field:"agreedToReceiveLocalInvestmentInfo",value:R}).catch((function(e){})),n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:5,uploadFileProgress:100,projectID:c.id})});case 5:case"end":return e.stop()}}),e)}))))}})).catch((function(e){return e}))}))}))}))}else{var F=$t(),G=n.firebaseDB.ref(jt),M=G.push().key,q=n.firebaseStorage.ref(ht).child(a.currentUser.id).child(jt).child(M);n.uploadMultipleFiles(1,q).then((function(t){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileProgress:100})}),n.uploadMultipleFiles(2,q).then((function(t){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileProgress:100})}),n.uploadMultipleFiles(3,q).then((function(t){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:4,uploadFileProgress:100})});var o={id:M,anid:"undefined"===p?r.group.anid:p,visibility:-1===i?r.group.settings.projectVisibility:i,issuerID:e.admin&&e.issuer?e.issuer:a.currentUser.id,createdByGroupAdmin:e.admin&&e.issuer?e.admin:3===a.currentUser.type?a.currentUser.id:null,projectName:l&&0===g.trim().length?null:g,sector:l&&"-"===j?null:j,description:l&&0===m.trim().length?null:m,status:l?Ft:3===a.currentUser.type?1:0,Pitch:{totalRaise:l?0===w.trim().length?null:"true"===w?0===x.trim().length?null:lr(O)+lr(x):0===x.trim().length?null:lr(x):"true"===w?lr(O)+lr(x):lr(x),amountRaised:l&&0===w.trim().length?null:"true"===w?lr(O):0,fundRequired:l&&0===x.trim().length?null:lr(x),detailsAboutEarlierFundraisingRounds:l&&0===C.trim().length?null:C,howFundIsBeingRaised:l&&0===v.trim().length?null:v,financialRound:l&&0===y.trim().length?null:y,hasSEIS:l&&0===T.trim().length?null:T,hasEIS:l&&0===k.trim().length?null:k,postMoneyValuation:0===A.trim().length?null:lr(A),investorsCommitted:0===P.trim().length?null:P,supportingDocuments:n.pitchSupportingDocumentsRealtimeDB,presentationText:0===E.ops.length?null:E,presentationPlainText:0===E.ops.length?null:D,presentationDocument:n.pitchPresentationDocumentRealtimeDB,cover:n.pitchCoverRealtimeDB,postedDate:F,expiredDate:l?f||null:f,status:l?Ft:1,qibSpecialNews:l&&0===U.trim().length?null:U}};G.child(M).set(o).then((function(){if(l)n.pitchCoverRealtimeDB=[],n.pitchPresentationDocumentRealtimeDB=[],n.pitchSupportingDocumentsRealtimeDB=[],n.setState({requestToLoadData:!0,projectIDToBeLoadedAfterSavingFirstTime:M,saveProgress:!1,progressBeingSaved:!1,projectEditedLoaded:!1,acceptedTermsAndConditions:!1,createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:0,uploadFileProgress:0,pitchCover:[],pitchCoverVideoURL:"",pitchCoverTypeSelected:null,pitchSupportingDocuments:[],pitchPresentationDocument:[]})}),n.navigateToTheSamePageWithActiveStepSaved(h,M);else{aa({userID:a.currentUser.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:M,activitySummary:sa.replace("%project%",o.projectName),action:Wn.replace(":projectID",o.id),value:o});var e=n.firebaseDB.ref(yt).push().key,t={id:e,issuerID:a.currentUser.id,projectID:M,date:$t()};n.firebaseDB.ref(yt).child(e).set(t).then((function(){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileMode:5,uploadFileProgress:100,projectID:M})})}))}})).catch((function(e){return e}))}))}))}))}},n.uploadMultipleFiles=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var a,i,o,s,c,l,d,u,p;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.saveProgress,i=n.state.createProject,o=i.pitchCover,s=i.pitchCoverVideoURL,c=i.pitchCoverTypeSelected,l=i.pitchSupportingDocuments,d=i.pitchPresentationDocument,n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishCheck:0,openUploadingProgressDialog:!a,uploadFileMode:t,uploadFileProgress:0})}),u=null,e.t0=t,e.next=1===e.t0?7:2===e.t0?15:3===e.t0?17:19;break;case 7:if(c){e.next=9;break}return e.abrupt("return",null);case 9:if(2!==c){e.next=13;break}return p={url:s,fileType:1,fileExtension:"",storageID:""},n.pitchCoverRealtimeDB=[].concat(Object(gn.a)(n.pitchCoverRealtimeDB),[p]),e.abrupt("return");case 13:return u=o,e.abrupt("break",20);case 15:return u=l,e.abrupt("break",20);case 17:return u=d,e.abrupt("break",20);case 19:return e.abrupt("return");case 20:return e.abrupt("return",Promise.all(u.map((function(e){return n.uploadIndividualFile(t,r,e)}))).then((function(){return!0})).catch((function(e){return!1})));case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.uploadIndividualFile=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,a){var i,o,s,c;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.state.createProject.pitchSupportingDocuments,o=null,s=$t(),c=dr(a,s),e.t0=t,e.next=1===e.t0?7:2===e.t0?9:3===e.t0?11:13;break;case 7:return o=r.child(Bt).child("".concat(s,".").concat(a.file.extension)),e.abrupt("break",14);case 9:return o=r.child(Ut).child(c),e.abrupt("break",14);case 11:return o=r.child(Lt).child(c),e.abrupt("break",14);case 13:return e.abrupt("return");case 14:return e.abrupt("return",new Promise((function(e,r){var l=o.put(a.file);l.on("state_changed",(function(e){var r=e.bytesTransferred/e.totalBytes*100;1!==t&&3!==t||n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{uploadFileProgress:r})})}),(function(e){return r(e)}),(function(){l.snapshot.ref.getDownloadURL().then((function(o){var l=0;switch(t){case 1:var d={url:o,fileType:"video/mp4"===a.file.type?1:2,fileExtension:a.file.extension,storageID:s};return n.pitchCoverRealtimeDB=[].concat(Object(gn.a)(n.pitchCoverRealtimeDB),[d]),e();case 2:l=100/i.length,n.setState((function(e){return{createProject:Object(b.a)(Object(b.a)({},e.createProject),{},{uploadFileProgress:e.createProject.uploadFileProgress+l.toFixed(0)})}}));var u={fileName:c.split(zt)[1],readableSize:a.file.sizeReadable,downloadURL:o,storageID:s};return n.pitchSupportingDocumentsRealtimeDB=[].concat(Object(gn.a)(n.pitchSupportingDocumentsRealtimeDB),[u]),e();case 3:var p={fileName:c.split(zt)[1],readableSize:a.file.sizeReadable,downloadURL:o,storageID:s};return n.pitchPresentationDocumentRealtimeDB=[].concat(Object(gn.a)(n.pitchPresentationDocumentRealtimeDB),[p]),e();default:return r("Not existing mode")}}))}))})));case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.handleDeleteDocument=function(e,t){switch(e){case 2:var r=n.state.createProject.pitchSupportingDocuments;r.splice(t,1),n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchSupportingDocuments:r})});break;case 3:n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPresentationDocument:[]})});break;case 1:n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchCover:[]})})}},n.attachNextStepButtonRef=function(e){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchNextStepButtonTarget:e})})},n.handlePopoverErrorMessageClose=function(){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchPublishErrorMessageShowed:!1})})},n.handleDownloadDocumentDeleteClick=function(e){var t=n.state.projectEdited,r=JSON.parse(JSON.stringify(t));r.Pitch.supportingDocuments[e].removed=!0,n.setState({projectEdited:r})},n.handleCloseErrorSnackbar=function(e,t){n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{errorSnackbarOpen:!1})})},n.handleDateChanged=function(e){e&&"Invalid Date"===e?n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchExpiryDate:NaN})}):n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},{pitchExpiryDate:e?e.getTime():null})})},n.handleCheckboxChanged=function(e){var t=e.target.name;n.setState({createProject:Object(b.a)(Object(b.a)({},n.state.createProject),{},Object(Bi.a)({},t,e.target.checked))})},n.handleSaveProgressClick=function(){var e=n.props,t=e.ManageGroupUrlState,r=e.setFeedbackSnackbarContent,a=n.state.createProject,i=a.activeStep,o=a.pitchSector,s=a.pitchProjectName,c=a.pitchProjectDescription,l=a.pitchExpiryDate,d=a.pitchAmountRaisedToDate,u=a.pitchRaiseRequired,p=a.howFundIsBeingRaised,h=a.financialRound,j=a.pitchPostMoneyValuation,g=a.hasRaisedMoneyBefore,b=a.hasSEIS,m=a.hasEIS,f=a.qibSpecialNews;if(0===i){if("-"===o&&0===s.trim().length&&0===c.trim().length&&null===l&&0===u.trim().length&&0===p.trim().length&&0===h.trim().length&&0===j.trim().length&&0===g.trim().length&&0===m.trim().length&&0===b.trim().length&&"qib"===t.groupNameFromUrl&&0===f.trim().length)return void r("You have nothing to save.","error","bottom");if(isNaN(l)||l&&l<er(0))return void r("Please enter a valid date.","error","bottom");if(g.trim().length>0&&"true"===g&&0===d.trim().length)return void r("Please specify the fund you have raised.","error","bottom");if("true"===g&&d.trim().length>0&&!lr(d)||u.trim().length>0&&!lr(u)||j.trim().length>0&&!lr(j))return void r("Please check your entered funds again.","error","bottom")}n.setState({saveProgress:!0,progressBeingSaved:!1})},n.handleDeleteDraftClick=function(){var e=n.state.projectEdited;n.setState({draftBeingDeleted:!0}),n.deleteMultiplesOnStorage(1).then((function(){n.deleteMultiplesOnStorage(3).then((function(){n.deleteMultiplesOnStorage(2).then((function(){n.firebaseDB.ref(jt).child(e.id).remove().then((function(){n.pitchCoverRealtimeDB=[],n.pitchPresentationDocumentRealtimeDB=[],n.pitchSupportingDocumentsRealtimeDB=[],n.selectedProjectVisibilitySetting=-1,n.setState(Object(b.a)({},Ob)),n.projectEditedSaveModeRefListener&&n.projectEditedSaveModeRefListener.off("child_changed"),n.navigateToTheSamePageWithActiveStepSaved(0,null),window.location.reload()}))}))}))}))},n.deleteMultiplesOnStorage=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t){var r,a,i;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.AuthenticationState,a=n.state.projectEdited,i=n.firebaseStorage.ref(ht).child(r.currentUser.id).child(jt).child(a.id),e.t0=t,e.next=1===e.t0?6:3===e.t0?10:2===e.t0?14:18;break;case 6:if(a.Pitch.cover){e.next=8;break}return e.abrupt("return");case 8:return i=i.child(Bt),e.abrupt("return",Promise.all(a.Pitch.cover.map((function(e){return n.deleteASingleFileOnStorage(t,i,e)}))).then((function(){return!0})).catch((function(e){return e})));case 10:if(a.Pitch.presentationDocument){e.next=12;break}return e.abrupt("return");case 12:return i=i.child(Lt),e.abrupt("return",Promise.all(a.Pitch.presentationDocument.map((function(e){return n.deleteASingleFileOnStorage(t,i,e)}))).then((function(){return!0})).catch((function(e){return e})));case 14:if(a.Pitch.supportingDocuments){e.next=16;break}return e.abrupt("return");case 16:return i=i.child(Ut),e.abrupt("return",Promise.all(a.Pitch.supportingDocuments.map((function(e){return n.deleteASingleFileOnStorage(t,i,e)}))).then((function(){return!0})).catch((function(e){return e})));case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteASingleFileOnStorage=function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r,n){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=1===e.t0?3:3===e.t0?6:2===e.t0?7:8;break;case 3:if(""!==n.storageID){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",new Promise((function(e,t){r=r.child("".concat(n.storageID,".").concat(n.fileExtension)).delete().then((function(){return e()})).catch((function(e){return t(e)}))})));case 6:case 7:return e.abrupt("return",new Promise((function(e,t){r=r.child("".concat(n.storageID).concat(zt).concat(n.fileName)).delete().then((function(){return e()})).catch((function(e){return t(e)}))})));case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.firebaseDB=R.database(),n.firebaseStorage=R.storage(),n.projectEditedSaveModeRefListener=null,n.pitchCoverRealtimeDB=[],n.pitchSupportingDocumentsRealtimeDB=[],n.pitchPresentationDocumentRealtimeDB=[],n.state=Object(b.a)({},Ob),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.state.requestToLoadData&&this.loadData(),console.log("Page loaded. Authentication status:",this.props.AuthenticationState.isAuthenticated?"Authenticated":"Not Authenticated"),console.log("Current user on page load:",this.props.AuthenticationState.currentUser),console.log("Data request status on page load: ".concat(this.state.requestToLoadData?"Pending":"Not Requested"))}},{key:"componentDidUpdate",value:function(e,t,r){var n=this,a=this.props,i=a.ManageGroupUrlState,o=a.AuthenticationState,s=this.state,c=s.recoveredFromPreviousState,l=s.requestToLoadData,d=s.saveProgress,u=s.progressBeingSaved,p=this.props.location.state;void 0!==p&&null!==p&&(c||this.setState({recoveredFromPreviousState:!0,createProject:Object(b.a)(Object(b.a)({},this.state.createProject),{},{activeStep:-1!==p.activeStep?p.activeStep:this.state.createProject.activeStep,groupIssuerCreateOfferFor:p.groupIssuerCreateOfferFor?p.groupIssuerCreateOfferFor:i.group?i.group.anid:null===mn(o.groupsOfMembership)?"undefined":mn(o.groupsOfMembership).group.anid,requestToLoadData:!p.requestToLoadData||p.requestToLoadData})},(function(){return console.log("New state after next step:",n.state)}))),l&&this.loadData(),d&&!u&&this.uploadProject(),e.ManageGroupUrlState!==this.props.ManageGroupUrlState&&console.log("ManageGroupUrlState changed:",this.props.ManageGroupUrlState),e.AuthenticationState.currentUser!==this.props.AuthenticationState.currentUser&&console.log("Authentication state changed. Current user:",this.props.AuthenticationState.currentUser)}},{key:"componentWillUnmount",value:function(){this.projectEditedSaveModeRefListener&&this.projectEditedSaveModeRefListener.off("child_changed")}},{key:"render",value:function(){var e=Cu.a.parse(this.props.location.search),t=this.props,r=t.ManageSystemAttributesState,n=t.ManageGroupUrlState,a=t.AuthenticationState,i=t.isMobile,o=this.state,s=o.projectEdited,c=o.projectEditedLoaded,l=o.saveProgress,d=o.progressBeingSaved,u=o.draftBeingDeleted;if(oj(r)||ad(n)||xs(a))return null;if(!vs(a)||vs(a)&&1===a.currentUser.type||!e.edit&&a.currentUser&&(1===a.currentUser.type||3===a.currentUser.type&&a.currentUser.superAdmin))return Object(V.jsx)(f.a,{to:yn.error404});if(e.edit){if(!c)return Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",style:{padding:30},children:Object(V.jsx)(k.HashLoader,{color:sd(n).palette.primary.main})});if(!s||s&&2===a.currentUser.type&&a.currentUser.id!==s.issuerID)return Object(V.jsx)(jn,{});if(!hr(a.currentUser,s))return Object(V.jsx)(x.a,{marginTop:50,width:"100%",children:Object(V.jsx)(A.a,{variant:"h4",align:"center",children:"This offer can't be edited anymore"})});if(s&&3===a.currentUser.type&&!a.currentUser.superAdmin&&a.currentUser.anid!==s.anid)return Object(V.jsx)(x.a,{marginTop:50,hAlignContent:"center",children:Object(V.jsx)(A.a,{variant:"h4",align:"center",children:"You can only edit offers from ".concat(mn(a.groupsOfMembership).group.displayName,".")})})}return Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(vb,{clubAttributes:r.systemAttributes,groupUserName:n.group?n.group.groupUserName:null,groupProperties:n.group,params:e,AuthenticationState:a,currentUser:a.currentUser,projectEdited:s,projectEditedLoaded:c,saveProgress:l,progressBeingSaved:d,draftBeingDeleted:u,isMobile:i,createProjectState:this.state.createProject,onSelectPitchCoverTypeClick:this.handleSelectPitchCoverTypeClick,onFilesChanged:this.handleFilesChanged,onFilesError:this.handleFileError,onDeleteDocument:this.handleDeleteDocument,onInputChanged:this.handleCreatePitchInputChanged,onPitchEditorChanged:this.handlePitchEditorChanged,attachNextStepButtonRef:this.attachNextStepButtonRef,onPopoverErrorMessageClose:this.handlePopoverErrorMessageClose,onNextStepClick:this.handleNextStepClick,onBackClick:this.handleBackClick,onDownloadDocumentDeleteClick:this.handleDownloadDocumentDeleteClick,onDateChanged:this.handleDateChanged,onCheckboxChanged:this.handleCheckboxChanged,onSaveProgressClick:this.handleSaveProgressClick,onDeleteDraftClick:this.handleDeleteDraftClick}),Object(V.jsx)(Ab,{groupUserName:n.group?n.group.groupUserName:null,currentUser:a.currentUser,open:this.state.createProject.openUploadingProgressDialog,uploadFileMode:this.state.createProject.uploadFileMode,uploadFileProgress:this.state.createProject.uploadFileProgress,params:e,projectEdited:s,projectID:this.state.createProject.projectID})]})}}]),r}(n.Component),vb=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onNextStepClick=function(){e.props.onNextStepClick()},e.onBackClick=function(){e.props.onBackClick()},e.onSelectPitchCoverTypeClick=function(t){e.props.onSelectPitchCoverTypeClick(t)},e.onFilesChanged=function(t){return function(r){e.props.onFilesChanged(t,r)}},e.onFilesError=function(t,r){e.props.onFilesError(t,r)},e.onInputChanged=function(t){e.props.onInputChanged(t)},e.onPitchEditorChanged=function(t,r,n,a){e.props.onPitchEditorChanged(t,r,n,a)},e.onDeleteDocument=function(t){return function(r){e.props.onDeleteDocument(t,r)}},e.attachNextStepButtonRef=function(t){e.props.attachNextStepButtonRef(t)},e.onPopoverErrorMessageClose=function(){e.props.onPopoverErrorMessageClose()},e.onDownloadDocumentDeleteClick=function(t){e.props.onDownloadDocumentDeleteClick(t)},e.onDateChanged=function(t){e.props.onDateChanged(t)},e.onCheckboxChanged=function(t){e.props.onCheckboxChanged(t)},e.onSaveProgressClick=function(){e.props.onSaveProgressClick()},e.onDeleteDraftClick=function(){e.props.onDeleteDraftClick()},e.renderPitchPublishErrorMessage=function(){var t=e.props.groupUserName,r="";switch(e.props.createProjectState.pitchPublishCheck){case 0:return null;case 1:r="Please fill in all the General information.";break;case 2:r="Please enter a valid date.";break;case 3:r="Please check your entered funds again.";break;case 4:r="Please upload an image or a video for your pitch cover.";break;case 5:r="qib"===t?"Please upload your one-pager.":"Please upload a file or use our provided text editor to make your pitch presentation.";break;default:return null}return Object(V.jsx)(A.a,{align:"center",variant:"body2",color:"error",children:r})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.AuthenticationState,n=t.clubAttributes,a=t.groupUserName,i=t.groupProperties,o=t.currentUser,s=t.params,c=t.projectEdited,l=t.saveProgress,d=t.progressBeingSaved,u=t.draftBeingDeleted,p=t.isMobile,h=t.createProjectState;return Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,style:{marginTop:40,padding:20},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:8,offset:2},children:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",children:Object(V.jsxs)(tb.a,{activeStep:h.activeStep,alternativeLabel:!0,style:{width:p?"auto":"100%",padding:0},children:[Object(V.jsx)(rb.a,{children:Object(V.jsx)(nb.a,{children:"General information"})},0),Object(V.jsx)(rb.a,{children:Object(V.jsx)(nb.a,{children:"Pitch cover"})},1),Object(V.jsx)(rb.a,{children:"qib"===a?Object(V.jsx)(nb.a,{children:"One-pager"}):Object(V.jsx)(nb.a,{children:"Pitch deck"})},2),Object(V.jsx)(rb.a,{children:"qib"===a?Object(V.jsx)(nb.a,{children:"Pitch deck"}):Object(V.jsx)(nb.a,{children:"Supporting documents"})},3),s.edit&&c&&c.status!==Ft?null:Object(V.jsx)(rb.a,{children:Object(V.jsx)(nb.a,{children:"Terms and conditions"})},4)]})})})}),Object(V.jsx)(I.a,{noGutters:!0,style:{padding:18},children:0===h.activeStep?Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:6,offset:3},style:{marginTop:30},children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(x.a,{children:Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:"Step 1: General information"})}),3===o.type?Object(V.jsx)(x.a,{marginTop:30,children:Object(V.jsx)(fb,{})}):null,"undefined"===h.groupIssuerCreateOfferFor||s.edit&&c&&!Dd(c)?null:xn(r.currentUser)?null===r.groupsOfMembership||0===r.groupsOfMembership.length?null:Object(V.jsx)(x.a,{marginTop:30,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,required:!0,children:[Object(V.jsx)(Ys.a,{children:"Select group"}),Object(V.jsx)(Ws.a,{name:"groupIssuerCreateOfferFor",value:h.groupIssuerCreateOfferFor,margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:this.onInputChanged,children:r.groupsOfMembership.map((function(e){return Object(V.jsx)(Vs.a,{value:e.group.anid,children:e.group.displayName},e.group.anid)}))})]})}):null,Object(V.jsx)(x.a,{marginTop:30,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,required:!0,error:1===h.pitchPublishCheck&&"-"===h.pitchSector,children:[Object(V.jsx)(Ys.a,{children:"Choose sector"}),Object(V.jsxs)(Ws.a,{name:"pitchSector",value:h.pitchSector,margin:"dense",input:Object(V.jsx)(Qs.a,{}),onChange:this.onInputChanged,children:[Object(V.jsx)(Vs.a,{value:"-",children:"-"},-1),n?n.Sectors.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)})):null]})]})}),"qib"===a?Object(V.jsx)(x.a,{marginTop:30,children:Object(V.jsx)(I.a,{noGutters:!0,style:{width:"100%"},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:["Pitch expiry date: ",tr(i.settings.defaultPitchExpiryDate)," (set by QIB admins)"]})})})}):Object(V.jsx)(x.a,{marginTop:30,children:Object(V.jsx)(I.a,{noGutters:!0,style:{width:"100%"},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:8,lg:6,children:s.edit&&c?mr(c)?Object(V.jsx)(mj.a,{autoOk:!0,fullWidth:!0,variant:"dialog",inputVariant:"outlined",label:"Choose expiry date for this pitch",format:"dd/MM/yyyy",minDate:er(1),value:h.pitchExpiryDate,InputAdornmentProps:{position:"start"},error:1===h.pitchPublishCheck&&null===h.pitchExpiryDate||2===h.pitchPublishCheck&&(isNaN(h.pitchExpiryDate)||h.pitchExpiryDate<er(0)),onChange:function(t){return e.onDateChanged(t)}}):Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",color:"primary",children:3===o.type?null:c.PrimaryOffer?"Pledge phase will be active in ".concat(or(c.PrimaryOffer.expiredDate)," days. Please contact us if you need to change the expiry date."):c.Pitch?"Pitch phase will be active in ".concat(or(c.Pitch.expiredDate)," days. Please contact us if you need to change the expiry date."):null}),3!==o.type?null:2===c.status?Object(V.jsx)(A.a,{variant:"body1",align:"left",color:"primary",children:"Pitch phase has ended. Waiting for the issuer to create pledge."}):Object(V.jsx)(mj.a,{autoOk:!0,fullWidth:!0,variant:"dialog",inputVariant:"outlined",label:4===c.status?"Choose expiry date for pledge phase":"Choose expiry date for pitch phase",format:"dd/MM/yyyy",minDate:er(1),value:h.pitchExpiryDate,InputAdornmentProps:{position:"start"},error:1===h.pitchPublishCheck&&null===h.pitchExpiryDate||2===h.pitchPublishCheck&&(isNaN(h.pitchExpiryDate)||h.pitchExpiryDate<er(0)),onChange:function(t){return e.onDateChanged(t)}})]}):Object(V.jsx)(mj.a,{autoOk:!0,fullWidth:!0,variant:"dialog",inputVariant:"outlined",label:"Choose expiry date for this pitch",format:"dd/MM/yyyy",minDate:er(1),value:h.pitchExpiryDate,InputAdornmentProps:{position:"start"},error:1===h.pitchPublishCheck&&null===h.pitchExpiryDate||2===h.pitchPublishCheck&&(isNaN(h.pitchExpiryDate)||h.pitchExpiryDate<er(0)),onChange:function(t){return e.onDateChanged(t)}})})})}),Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsx)(Yr.a,{label:"Company name",name:"pitchProjectName",value:h.pitchProjectName,fullWidth:!0,margin:"normal",variant:"outlined",required:!0,error:1===h.pitchPublishCheck&&0===h.pitchProjectName.trim().length,onChange:this.onInputChanged})}),Object(V.jsx)(x.a,{marginTop:10,children:Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,children:[Object(V.jsx)(Yr.a,{label:"Please provide a brief summary of what you do (max 300 characters)",name:"pitchProjectDescription",value:h.pitchProjectDescription,margin:"normal",variant:"outlined",error:1===h.pitchPublishCheck&&0===h.pitchProjectDescription.trim().length,multiline:!0,rowsMax:5,rows:5,onChange:this.onInputChanged}),Object(V.jsx)(Xs.a,{children:"This will be circulated to investors in and outside region."})]})}),Object(V.jsx)(x.a,{marginTop:50,children:Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"How much do you want to raise?"}),Object(V.jsx)(Yr.a,{name:"pitchRaiseRequired",value:h.pitchRaiseRequired,fullWidth:!0,variant:"outlined",onChange:this.onInputChanged,error:1===h.pitchPublishCheck&&0===h.pitchRaiseRequired.trim().length||3===h.pitchPublishCheck&&!lr(h.pitchRaiseRequired),InputProps:{startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:"\xa3"})}}),Object(V.jsx)(Xs.a,{children:"Please use commas as thousands-separators and do not use decimal numbers."})]})}),Object(V.jsx)(x.a,{marginTop:60,children:Object(V.jsxs)(Gi.a,{component:"fieldset",required:!0,fullWidth:!0,error:1===h.pitchPublishCheck&&0===h.hasRaisedMoneyBefore.trim().length,children:[Object(V.jsx)(Ys.a,{children:" Have you already raised money?"}),Object(V.jsxs)(yh.a,{row:!0,name:"hasRaisedMoneyBefore",value:h.hasRaisedMoneyBefore,onChange:this.onInputChanged,children:[Object(V.jsx)(Js.a,{value:(!0).toString(),control:Object(V.jsx)(Ah.a,{color:"primary"}),label:"Yes",labelPlacement:"start"}),Object(V.jsx)(Js.a,{value:(!1).toString(),control:Object(V.jsx)(Ah.a,{color:"secondary"}),label:"No",labelPlacement:"start"})]})]})}),"true"!==h.hasRaisedMoneyBefore?null:Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(x.a,{children:Object(V.jsxs)(Gi.a,{fullWidth:!0,required:!0,children:[Object(V.jsx)(Ys.a,{children:"How much have you already raised?"}),Object(V.jsx)(Yr.a,{name:"pitchAmountRaisedToDate",value:h.pitchAmountRaisedToDate,fullWidth:!0,variant:"outlined",required:!0,onChange:this.onInputChanged,error:1===h.pitchPublishCheck&&"true"===h.hasRaisedMoneyBefore&&0===h.pitchAmountRaisedToDate.trim().length||3===h.pitchPublishCheck&&!lr(h.pitchAmountRaisedToDate),InputProps:{startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:"\xa3"})}}),Object(V.jsx)(Xs.a,{children:"Please use commas as thousands-separators and do not use decimal numbers."})]})}),Object(V.jsx)(x.a,{marginTop:30,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"Earlier fundraising rounds details"}),Object(V.jsx)(Yr.a,{multiline:!0,name:"detailsAboutEarlierFundraisingRounds",value:h.detailsAboutEarlierFundraisingRounds,fullWidth:!0,variant:"outlined",onChange:this.onInputChanged}),Object(V.jsx)(Xs.a,{children:"Please provide any further details on your earlier fundraising rounds"})]})})]}),Object(V.jsx)(x.a,{marginTop:45,children:Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"How are you raising? e.g. Do you have a crowdfunding page (please add a link)?"}),Object(V.jsx)(Yr.a,{name:"howFundIsBeingRaised",value:h.howFundIsBeingRaised,fullWidth:!0,variant:"outlined",onChange:this.onInputChanged,multiline:!0,rowsMax:3,error:1===h.pitchPublishCheck&&0===h.howFundIsBeingRaised.trim().length})]})}),Object(V.jsx)(x.a,{marginTop:45,children:Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,error:1===h.pitchPublishCheck&&0===h.financialRound.trim().length,children:[Object(V.jsx)(Ys.a,{style:{marginBottom:16},children:"What financial round are you looking for?"}),Object(V.jsx)(yh.a,{name:"financialRound",value:h.financialRound,onChange:this.onInputChanged,children:Mt.map((function(e){return Object(V.jsx)(Js.a,{value:e,control:Object(V.jsx)(Ah.a,{}),label:e},e)}))})]})}),"qib"===a||!a&&3===o.type&&o.superAdmin?Object(V.jsx)(x.a,{marginTop:45,children:Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"What special news should Briony talk about when she mentions your investment raise at the QIB?"}),Object(V.jsx)(Yr.a,{name:"qibSpecialNews",value:h.qibSpecialNews,placeholder:"This would be a good place to mention if you have already made progress in your funding round.",fullWidth:!0,variant:"outlined",onChange:this.onInputChanged,multiline:!0,rowsMax:3,error:"qib"===a&&3===h.qibSpecialNews&&0===h.qibSpecialNews.trim().length}),Object(V.jsx)(Xs.a,{children:"QIB won't be able to mention everyone. So, you can make it REALLY exciting."})]})}):null,Object(V.jsx)(x.a,{marginTop:45,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"Enter post money valuation"}),Object(V.jsx)(Yr.a,{name:"pitchPostMoneyValuation",value:h.pitchPostMoneyValuation,fullWidth:!0,variant:"outlined",onChange:this.onInputChanged,error:3===h.pitchPublishCheck&&h.pitchPostMoneyValuation.trim().length>0&&!lr(h.pitchPostMoneyValuation),InputProps:{startAdornment:Object(V.jsx)(Mi.a,{position:"start",children:"\xa3"})}}),Object(V.jsx)(Xs.a,{children:"Please use commas as thousands-separators and do not use decimal numbers."})]})}),Object(V.jsx)(x.a,{marginTop:60,children:Object(V.jsxs)(Gi.a,{component:"fieldset",required:!0,fullWidth:!0,error:1===h.pitchPublishCheck&&0===h.hasSEIS.trim().length,children:[Object(V.jsx)(Ys.a,{children:" Have you received SEIS advanced assurance from HMRC?"}),Object(V.jsx)(yh.a,{name:"hasSEIS",value:h.hasSEIS,onChange:this.onInputChanged,children:Wt.map((function(e){return Object(V.jsx)(Js.a,{value:e,control:Object(V.jsx)(Ah.a,{}),label:e},e)}))})]})}),Object(V.jsx)(x.a,{marginTop:60,children:Object(V.jsxs)(Gi.a,{component:"fieldset",required:!0,fullWidth:!0,error:1===h.pitchPublishCheck&&0===h.hasEIS.trim().length,children:[Object(V.jsx)(Ys.a,{children:" Have you received EIS advanced assurance from HMRC?"}),Object(V.jsx)(yh.a,{name:"hasEIS",value:h.hasEIS,onChange:this.onInputChanged,children:qt.map((function(e){return Object(V.jsx)(Js.a,{value:e,control:Object(V.jsx)(Ah.a,{}),label:e},e)}))})]})})]}),Object(V.jsx)(Z.a,{style:{marginTop:60}})]}):1===h.activeStep?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:6,offset:3},style:{marginTop:30},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",style:{marginRight:15},children:"Step 2: Upload pitch cover"}),Object(V.jsx)(_j,{message:"Pitch cover is an image or video that will appear on your pitch summary tile.",placement:"right"})]}),s.edit&&c&&c.Pitch.hasOwnProperty("cover")?Object(V.jsxs)(x.a,{column:!0,width:"100%",marginTop:25,marginBottom:25,children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",style:{marginBottom:20},children:"Your current pitch cover"}),c.Pitch.cover.map((function(e,t){return e.hasOwnProperty("removed")?null:1===e.fileType?Object(V.jsx)(Xr.a,{playsInline:!0,url:e.url,width:"100%",height:""===e.storageID?280:"auto",playing:!1,controls:!0},t):Object(V.jsx)(te.a,{fluid:!0,src:e.url},t)})),Object(V.jsx)(Z.a,{style:{marginTop:45}})]}):null,Object(V.jsx)(A.a,{variant:"subtitle1",color:"textSecondary",align:"left",style:{marginTop:18},children:s.edit&&c&&(c.status!==Ft||c.Pitch.hasOwnProperty("cover"))?"Upload an image or a video to change your pitch cover. We will use the new cover for your pitch instead of the old one.":"You need to upload an image or a video for the cover of your pitch."}),"qib"!==a?null:Object(V.jsx)(A.a,{variant:"subtitle1",color:"textSecondary",align:"left",style:{marginTop:8},children:"Please upload your company logo here."}),Object(V.jsxs)(x.a,{column:!0,marginTop:32,children:[Object(V.jsxs)(x.a,{children:[Object(V.jsx)(G.a,{variant:h.pitchCoverTypeSelected&&1===h.pitchCoverTypeSelected?"contained":"outlined",className:Object(v.b)(ot.no_text_transform),color:"primary",onClick:function(){return e.onSelectPitchCoverTypeClick(1)},children:n&&n.allowVideoUpload?h.pitchCoverTypeSelected&&1===h.pitchCoverTypeSelected?"Cancel upload an image or a video":"Upload an image or a video":h.pitchCoverTypeSelected&&1===h.pitchCoverTypeSelected?"Cancel upload an image":"Upload an image"}),Object(V.jsxs)(x.a,{marginLeft:20,vAlignContent:"center",children:[Object(V.jsx)(G.a,{variant:h.pitchCoverTypeSelected&&2===h.pitchCoverTypeSelected?"contained":"outlined",className:Object(v.b)(ot.no_text_transform),color:"primary",onClick:function(){return e.onSelectPitchCoverTypeClick(2)},style:{marginRight:15},children:h.pitchCoverTypeSelected&&2===h.pitchCoverTypeSelected?"Cancel upload a video URL":"Upload a video URL"}),Object(V.jsx)(_j,{message:"If your company has a short explainer or introductory video, we suggest you embed it here.",placement:"right"})]})]}),Object(V.jsxs)(x.a,{column:!0,marginTop:20,children:[h.pitchCoverTypeSelected?1===h.pitchCoverTypeSelected?Object(V.jsxs)(x.a,{column:!0,marginTop:10,children:[Object(V.jsx)(le.a,{className:Object(v.b)(Pb.file_drop_zone),onChange:this.onFilesChanged(1),onError:this.onFilesError,accepts:n&&n.allowVideoUpload?["video/mp4","image/*"]:["image/*"],multiple:!0,maxFileSize:Ht,minFileSize:0,clickable:!0,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:n&&n.allowVideoUpload?"Drop an image or a video here or click to upload":"Drop an image here or click to upload"})}),Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",style:{marginTop:11},children:[Object(V.jsx)("u",{children:"Note:"})," Pitch cover must not exceed ",Vt,"MB."]})]}):Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(Yr.a,{name:"pitchCoverVideoURL",value:h.pitchCoverVideoURL,placeholder:"Enter your video URL here",variant:"outlined",margin:"dense",onChange:this.onInputChanged})}):null,1===h.pitchCoverTypeSelected&&h.pitchCover.length>0?Object(V.jsxs)(x.a,{column:!0,marginTop:35,children:["video/mp4"!==h.pitchCover[0].file.type?Object(V.jsx)(te.a,{fluid:!0,src:h.pitchCover[0].preview}):Object(V.jsx)(Xr.a,{url:h.pitchCover[0].preview,playsInline:!0,width:"100%",height:"auto",playing:!1,controls:!0}),Object(V.jsx)(x.a,{marginTop:10,hAlignContent:"center",children:Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"bottom",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-bottom",children:"Delete this cover"}),children:Object(V.jsx)(C.a,{onClick:this.onDeleteDocument(1),children:Object(V.jsx)(lu.a,{fontSize:"default",color:"error"})})})})]}):null,2===h.pitchCoverTypeSelected&&h.pitchCoverVideoURL.trim().length>0?Object(V.jsx)(x.a,{column:!0,marginTop:35,height:280,children:Object(V.jsx)(Xr.a,{url:h.pitchCoverVideoURL,playsInline:!0,width:"100%",height:"100%",playing:!1,controls:!0})}):null]})]})]})}):2===h.activeStep?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:6,offset:3},style:{marginTop:30},children:"qib"===a?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:"Step 3: Submit your one-pager"}),s.edit&&c?mr(c)&&(!c.Pitch.presentationDocument||c.Pitch.presentationDocument&&0===c.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length)?null:Object(V.jsxs)(x.a,{column:!0,marginTop:25,marginBottom:25,children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:c.Pitch.presentationDocument&&c.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length>0?"Your current one-pager":"You haven't submitted your one-pager."}),Object(V.jsx)(ub,{documents:c.Pitch.presentationDocument}),Object(V.jsx)(Z.a,{style:{marginTop:20}})]}):null,Object(V.jsxs)(x.a,{column:!0,marginTop:30,marginBottom:30,children:[Object(V.jsx)(A.a,{variant:"body1",paragraph:!0,align:"left",children:"Upload your one-pager"}),Object(V.jsx)(le.a,{className:Object(v.b)(Pb.file_drop_zone),onChange:this.onFilesChanged(3),onError:this.onFilesError,accepts:[".pdf",".doc",".docx",".ppt",".pptx"],multiple:!0,maxFileSize:Ht,minFileSize:0,clickable:!0,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:"Drop a file here or click to upload"})}),Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",style:{marginTop:11},children:[Object(V.jsx)("u",{children:"Note:"})," The one-pager must not exceed ",Vt,"MB. Files in formats .pdf, .doc, .docx, .ppt, and .pptx are accepted only."]}),Object(V.jsx)(lb,{documents:h.pitchPresentationDocument,onDeleteDocument:this.onDeleteDocument(3)})]}),Object(V.jsx)(x.a,{column:!0,marginBottom:60,children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",component:"span",children:["We recommend the following headings for your one-page, one-sided summary:",Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:"Problem"}),Object(V.jsx)("li",{children:"Solution"}),Object(V.jsx)("li",{children:"Business model"}),Object(V.jsx)("li",{children:"Market opportunity"}),Object(V.jsx)("li",{children:"Team"}),Object(V.jsx)("li",{children:"Journey so far/timeline"}),Object(V.jsx)("li",{children:"Ask/Investment proposition"})]})]})})]}):Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:"Step 3: Upload pitch deck"}),s.edit&&c?mr(c)&&(!c.Pitch.presentationDocument||c.Pitch.presentationDocument&&0===c.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length)?null:Object(V.jsxs)(x.a,{column:!0,marginTop:25,marginBottom:25,children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:c.Pitch.presentationDocument&&c.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length>0?"Your current pitch deck":"You have no pitch deck."}),Object(V.jsx)(ub,{documents:c.Pitch.presentationDocument}),Object(V.jsx)(Z.a,{style:{marginTop:20}})]}):null,Object(V.jsx)(A.a,{variant:"subtitle1",color:"textSecondary",align:"left",style:{marginTop:8},children:s.edit&&c?c.status===Ft&&(!c.Pitch.presentationDocument||c.Pitch.presentationDocument&&0===c.Pitch.presentationDocument.filter((function(e){return!e.hasOwnProperty("removed")})).length)?"You need to either upload your pitch deck (PDF, Word, or Power Point file) or use our provided text editor to create your own presentation.":"Upload a PDF, Word, or Power Point file to change your pitch deck. We will use the new document for your pitch deck instead of the old one.":"You need to either upload your pitch deck (PDF, Word, or Power Point file) or use our provided text editor to create your own presentation."}),Object(V.jsxs)(x.a,{column:!0,marginTop:30,marginBottom:60,children:[Object(V.jsx)(A.a,{variant:"body1",paragraph:!0,align:"left",children:"Upload pitch deck"}),Object(V.jsx)(le.a,{className:Object(v.b)(Pb.file_drop_zone),onChange:this.onFilesChanged(3),onError:this.onFilesError,accepts:[".pdf",".doc",".docx",".ppt",".pptx"],multiple:!0,maxFileSize:Ht,minFileSize:0,clickable:!0,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:"Drop a file here or click to upload"})}),Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",style:{marginTop:11},children:[Object(V.jsx)("u",{children:"Note:"})," Pitch deck must not exceed ",Vt,"MB. Files in formats .pdf, .doc, .docx, .ppt, and .pptx are accepted only."]}),Object(V.jsx)(lb,{documents:h.pitchPresentationDocument,onDeleteDocument:this.onDeleteDocument(3)})]}),Object(V.jsxs)(x.a,{column:!0,marginTop:20,children:[Object(V.jsx)(A.a,{variant:"body1",paragraph:!0,align:"left",children:"Write overview"}),Object(V.jsx)(Jh.a,{theme:"snow",placeholder:s.edit&&c&&(c.status!==Ft||c.Pitch.hasOwnProperty("presentationText"))?"You haven't had text presentation for this offer.":"Write your pitch presentation here. Add images for visual effects.",onChange:this.onPitchEditorChanged,modules:yb,value:h.pitchPresentationText})]})]})}):3===h.activeStep?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:6,offset:3},style:{marginTop:30},children:"qib"===a?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:"Step 4: Upload pitch deck (optional)"}),s.edit&&c?mr(c)&&(!c.Pitch.supportingDocuments||c.Pitch.supportingDocuments&&0===c.Pitch.supportingDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length)?null:Object(V.jsxs)(x.a,{column:!0,marginTop:25,marginBottom:25,children:[c.Pitch.supportingDocuments&&c.Pitch.supportingDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length>0?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"Your current pitch deck"}),Object(V.jsx)(ub,{documents:c.Pitch.supportingDocuments,deleteEnable:!0,onDeleteDocument:this.onDownloadDocumentDeleteClick})]}):Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"You have no pitch deck."}),Object(V.jsx)(Z.a,{style:{marginTop:20}})]}):null,Object(V.jsxs)(x.a,{column:!0,marginTop:25,children:[Object(V.jsx)(le.a,{className:Object(v.b)(Pb.file_drop_zone),onChange:this.onFilesChanged(2),onError:this.onFilesError,accepts:[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx"],multiple:!0,maxFileSize:Qt,minFileSize:0,clickable:!0,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:"Drop a file here or click to upload"})}),Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",style:{marginTop:11},children:[Object(V.jsx)("u",{children:"Note:"})," Each document must not exceed ",15,"MB. Files in formats .pdf, .doc, .docx, .ppt, .pptx, .xls, and .xlsx are accepted only."]}),Object(V.jsx)(lb,{documents:h.pitchSupportingDocuments,onDeleteDocument:this.onDeleteDocument(2)})]}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}})]}):Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:"Step 4: Upload supporting documents"}),s.edit&&c?mr(c)&&(!c.Pitch.supportingDocuments||c.Pitch.supportingDocuments&&0===c.Pitch.supportingDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length)?null:Object(V.jsxs)(x.a,{column:!0,marginTop:25,marginBottom:25,children:[c.Pitch.supportingDocuments&&c.Pitch.supportingDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length>0?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"Your supporting documents"}),Object(V.jsx)(ub,{documents:c.Pitch.supportingDocuments,deleteEnable:!0,onDeleteDocument:this.onDownloadDocumentDeleteClick})]}):Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"You have no supporting documents."}),Object(V.jsx)(Z.a,{style:{marginTop:20}})]}):null,Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",style:{marginTop:8},children:s.edit&&c&&c.Pitch.supportingDocuments?"Upload new supporting documents. \n                                                                        You can still upload ".concat(Jt-c.Pitch.supportingDocuments.filter((function(e){return!e.hasOwnProperty("removed")})).length," \n                                                                        more documents."):"You can upload supporting documents to help strengthen your pitch. You can upload up to ".concat(Jt," files.")}),Object(V.jsxs)(x.a,{column:!0,marginTop:25,children:[Object(V.jsx)(le.a,{className:Object(v.b)(Pb.file_drop_zone),onChange:this.onFilesChanged(2),onError:this.onFilesError,accepts:[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx"],multiple:!0,maxFileSize:Qt,minFileSize:0,clickable:!0,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:"Drop a file here or click to upload"})}),Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",style:{marginTop:11},children:[Object(V.jsx)("u",{children:"Note:"})," Each document must not exceed ",15,"MB. Files in formats .pdf, .doc, .docx, .ppt, .pptx, .xls, and .xlsx are accepted only."]}),Object(V.jsx)(lb,{documents:h.pitchSupportingDocuments,onDeleteDocument:this.onDeleteDocument(2)})]}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}})]})}):Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:6,offset:3},style:{marginTop:30},children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:"Step 5: Accept terms and conditions"}),Object(V.jsx)(Gi.a,{component:"fieldset",style:{marginTop:30},children:Object(V.jsx)(Js.a,{control:Object(V.jsx)(zs.a,{color:"primary",name:"agreedToShareRaisePublicly",value:h.agreedToShareRaisePublicly,checked:h.agreedToShareRaisePublicly,onChange:this.onCheckboxChanged}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you're happy to share news of your raise publicly e.g. via Twitter, please tick this box."})})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsx)(Gi.a,{component:"fieldset",children:Object(V.jsx)(Js.a,{control:Object(V.jsx)(zs.a,{color:"primary",name:"agreedToReceiveLocalInvestmentInfo",value:h.agreedToReceiveLocalInvestmentInfo,checked:h.agreedToReceiveLocalInvestmentInfo,onChange:this.onCheckboxChanged}),label:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you're happy to receive information about the local investment ecosystem (max 8 times a year), please tick this box."})})}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}}),Object(V.jsxs)(Gi.a,{component:"fieldset",children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Please tick the box below to confirm that you agree to comply with the terms and conditions of creating a pitch in our platform."}),Object(V.jsx)(Js.a,{style:{marginTop:10},control:Object(V.jsx)(zs.a,{color:"primary",name:"acceptedTermsAndConditions",value:h.acceptedTermsAndConditions,checked:h.acceptedTermsAndConditions,onChange:this.onCheckboxChanged}),label:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["I've read and accept the",Object(V.jsxs)("b",{children:["\xa0",Object(V.jsx)(m.b,{to:Zn,target:"_blank",className:Object(v.b)(ot.nav_link_hover),style:{color:i?i.settings.primaryColor:et},children:"terms and conditions."})]})]})})]}),Object(V.jsx)(Z.a,{style:{marginTop:20,marginBottom:20}})]})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:10,offset:1},lg:{span:6,offset:3},style:{marginTop:20,marginBottom:120,padding:18},children:[s.edit&&c?c.status===Ft?4===h.activeStep&&h.acceptedTermsAndConditions?Object(V.jsx)(A.a,{color:"error",variant:"body1",align:"right",style:{marginBottom:25},children:"Please check everything carefully again before you submit."}):null:3===h.activeStep?Object(V.jsx)(A.a,{color:"error",variant:"body1",align:"right",style:{marginBottom:25},children:"Please check everything carefully again before publishing."}):null:4===h.activeStep&&h.acceptedTermsAndConditions?Object(V.jsx)(A.a,{color:"error",variant:"body1",align:"right",style:{marginBottom:25},children:"Please check everything carefully again before publishing."}):null,Object(V.jsxs)(x.a,{width:"100%",hAlignContent:"right",children:[Object(V.jsx)(G.a,{variant:"text",onClick:this.onBackClick,disabled:0===h.activeStep,size:"large",className:Object(v.b)(ot.no_text_transform),children:"Back"}),Object(V.jsx)(G.a,{ref:this.attachNextStepButtonRef,variant:"outlined",color:"primary",onClick:this.onNextStepClick,size:"large",className:Object(v.b)(ot.no_text_transform),disabled:4===h.activeStep&&!h.acceptedTermsAndConditions,style:{marginLeft:15},children:d?Object(V.jsx)(k.BeatLoader,{size:8}):s.edit&&c&&c.status!==Ft?3===h.activeStep?"Update":"Next":4===h.activeStep?"Submit":"Save and Next"}),Object(V.jsx)(sb.a,{show:h.pitchPublishErrorMessageShowed,target:h.pitchNextStepButtonTarget,placement:"bottom",children:Object(V.jsx)(cb.a,{style:{marginTop:14},id:"publish-popover-bottom",children:Object(V.jsxs)(x.a,{vAlignContent:"center",children:[this.renderPitchPublishErrorMessage(),Object(V.jsx)(C.a,{style:{width:42,height:42},onClick:this.onPopoverErrorMessageClose,children:Object(V.jsx)(ie.a,{fontSize:"small"})})]})})})]})]})}),!s.edit||!c||s.edit&&c&&c.status===Ft?Object(V.jsx)("div",{style:{position:"fixed",width:"auto",height:"auto",bottom:0,right:0,marginRight:p?72:120,marginBottom:p?80:100},children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"left",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-left",children:"Save draft"}),children:Object(V.jsx)(ab.a,{color:"primary",size:p?"medium":"large",onClick:this.onSaveProgressClick,disabled:l&&d,style:{position:"absolute",zIndex:1},children:Object(V.jsx)(ob.a,{})})}),l&&d?Object(V.jsx)($.a,{thickness:2.7,size:p?60:68,style:{position:"absolute",top:-6,left:-6}}):null]}),s.edit&&c&&c.status===Ft?Object(V.jsxs)("div",{style:{marginTop:p?62:72},children:[Object(V.jsx)(rc.a,{trigger:["hover","focus"],placement:"left",flip:!0,overlay:Object(V.jsx)(nc.a,{id:"tooltip-left",children:"Delete this draft"}),children:Object(V.jsx)(ab.a,{size:p?"medium":"large",onClick:this.onDeleteDraftClick,disabled:u,style:{position:"absolute",zIndex:1},children:Object(V.jsx)(lu.a,{color:"error"})})}),u?Object(V.jsx)($.a,{color:"secondary",thickness:2.7,size:p?60:68,style:{position:"absolute",top:p?56:66,left:-6}}):null]}):null]})}):null]})}}]),r}(n.Component),yb={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},Ab=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderUploadFileMode=function(){var t=e.props,r=t.groupUserName,n=t.uploadFileMode,a=t.params,i=t.projectEdited,o=t.currentUser;switch(n){case 1:return Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"Uploading pitch cover"});case 2:return Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"Uploading pitch supporting documents"});case 3:return Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"Uploading pitch presentation document"});case 4:return Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"Finalizing"});case 5:return a.edit&&i?i.status!==Ft?Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"Your offer has been successfully updated."}):3===o.type?Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"Your offer has been uploaded.\nPlease double check and publish it."}):Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"Your offer has been uploaded.\nIt will not be published until the group administrator has approved it.\nYou will be notified once approved.\n"}),Object(V.jsx)("br",{}),Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"Invite investors to register and view your pitch with the following link:"}),Object(V.jsx)("br",{}),Object(V.jsx)(Vl.a,{border:1,bgcolor:xe,padding:"6px",children:Object(V.jsx)(Ad,{url:yn.constructSignUpRoute(r),target:"_blank",color:"none",activeColor:"none",activeUnderline:!0,component:"a",childComponent:Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:"https://platform.investwest.online"+yn.constructSignUpRoute(r)})})})]}):Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",align:"left",children:3===o.type?"Your offer has been uploaded.\nPlease double check and make it go live.":"Your offer has been uploaded.\nIt will not be published until the group administrator has approved it.\nYou will be notified once approved."});default:return}},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.groupUserName,r=e.open,n=e.uploadFileMode,a=e.uploadFileProgress,i=(e.saveProgress,e.progressBeingSaved,e.params),o=e.projectEdited,s=e.projectID,c=e.currentUser,l=Object(X.a)(e,["groupUserName","open","uploadFileMode","uploadFileProgress","saveProgress","progressBeingSaved","params","projectEdited","projectID","currentUser"]);return Object(V.jsxs)(U.a,Object(b.a)(Object(b.a)({maxWidth:"sm",fullWidth:!0,open:r},l),{},{children:[Object(V.jsx)(L.a,{disableTypography:!0,children:Object(V.jsx)(A.a,{color:"primary",variant:"h6",align:"left",children:5===n?"Congratulations!":"You are almost done..."})}),Object(V.jsx)(B.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:5!==n?"Please stay tuned while we are publishing your pitch":null}),Object(V.jsxs)(x.a,{column:!0,marginBottom:20,children:[this.renderUploadFileMode(),5===n?null:Object(V.jsx)(M.a,{style:{marginTop:25},striped:!0,variant:"success",now:a,label:"".concat(parseInt(a),"%")})]})]})}),5!==n?null:Object(V.jsx)(F.a,{children:Object(V.jsxs)(x.a,{width:"100%",hAlignContent:"center",marginBottom:20,marginRight:20,marginLeft:20,children:[Object(V.jsx)(m.b,{to:t?qn.replace(":groupUserName",t).replace(":projectID",s):Wn.replace(":projectID",s),className:Object(v.b)(ot.nav_link_hover),style:{width:"100%",marginRight:10},children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",size:"medium",fullWidth:!0,className:Object(v.b)(ot.no_text_transform),children:i.edit&&o?o.status===Ft?"View submitted offer":"View updated offer":"View submitted offer"})}),Object(V.jsx)(m.b,{to:2===c.type?"".concat(t?_n.replace(":groupUserName",t):In,"?tab=Home"):3===c.type?"".concat(t?wn.replace(":groupUserName",t):Sn,"?tab=Home"):"",className:Object(v.b)(ot.nav_link_hover),style:{width:"100%",marginLeft:10},children:Object(V.jsx)(G.a,{variant:"outlined",color:"primary",size:"medium",fullWidth:!0,className:Object(v.b)(ot.no_text_transform),children:" Go back to your dashboard"})})]})})]}))}}]),r}(n.Component),Cb=Object(q.b)((function(e){return{ManageSystemAttributesState:e.ManageSystemAttributesState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,isMobile:e.MediaQueryState.isMobile,projectVisibilitySetting:e.manageSelectProjectVisibility.projectVisibilitySetting}}),(function(e){return{selectProjectVisibility_setProject:function(t){return e(jb(t))},setFeedbackSnackbarContent:function(t,r,n){return e(Dr(t,r,n))}}}))(xb),Pb=v.a.create({file_drop_zone:{padding:12,border:"1px solid ".concat(Ae),":hover":{backgroundColor:xe,cursor:"pointer"}}}),wb=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).loadData=function(){var e=r.props,t=e.currentUser,n=e.currentUserLoaded,a=e.investorSelfCertificationAgreement_userID,i=e.investorSelfCertificationAgreementLoaded,o=e.investorSelfCertificationAgreementBeingLoaded,s=e.investorSelfCertificationAgreement_setUser,c=e.loadInvestorSelfCertificationAgreement,l=r.state,d=l.userToBeViewed,u=l.userToBeViewedLoaded,p=l.userToBeViewedInvitedLoaded,h=l.loadingUserToBeViewed;n&&(t?(r.loadUserToBeViewedProfile(),d&&1===d.type&&s(d.id),a&&(i||o||1!==d.type||c())):u||p||h||r.setState({userToBeViewedLoaded:!0,userToBeViewedInvitedLoaded:!0,loadingUserToBeViewed:!1}))},r.loadUserToBeViewedProfile=function(){var e=r.state,t=e.userToBeViewed,n=e.loadingUserToBeViewed,a=e.userToBeViewedLoaded,i=e.userToBeViewedInvitedLoaded;if(!t&&!n&&!a&&!i){r.setState({loadingUserToBeViewed:!0,userToBeViewedLoaded:!1,userToBeViewedInvitedLoaded:!1});var o=r.props.match.params.userID;ma(o).then((function(e){r.setState({userToBeViewed:e,loadingUserToBeViewed:!1,userToBeViewedLoaded:!0})})).catch((function(e){r.setState({loadingUserToBeViewed:!1,userToBeViewedLoaded:!0})})),Ua(o,2).then((function(e){r.setState({userToBeViewedInvited:e[0],loadingUserToBeViewed:!1,userToBeViewedInvitedLoaded:!0})})).catch((function(e){Ua(o,1).then((function(e){r.setState({userToBeViewedInvited:e[0],loadingUserToBeViewed:!1,userToBeViewedInvitedLoaded:!0})})).catch((function(e){r.setState({loadingUserToBeViewed:!1,userToBeViewedInvitedLoaded:!0})}))}))}},r.renderUserStatus=function(e){var t={msg:"",color:""};return e.status?(2===e.type?(t.msg="Official Issuer of Invest West",t.color="primary"):(t.msg="Official Investor of Invest West",t.color="primary"),Object(V.jsx)(A.a,{align:"center",variant:"subtitle1",color:t.color,children:t.msg})):null},r.firebaseDB=R.database(),r.state={userToBeViewed:null,userToBeViewedLoaded:!1,userToBeViewedInvited:null,userToBeViewedInvitedLoaded:!1,loadingUserToBeViewed:!1},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.setGroupUserNameFromParams,a=e.setExpectedAndCurrentPathsForChecking,i=e.loadAngelNetwork,o=this.props.match;n(o.params.hasOwnProperty("groupUserName")?o.params.groupUserName:null),a(o.params.hasOwnProperty("groupUserName")?Tn:kn,o.path),i(),t&&r&&this.loadData()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData;(0,n.loadAngelNetwork)(),a&&i&&this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.userToBeViewed,n=e.userToBeViewedLoaded,a=e.userToBeViewedInvited,i=e.userToBeViewedInvitedLoaded,o=e.loadingUserToBeViewed,s=this.props,c=s.groupProperties,l=s.groupPropertiesLoaded,d=s.shouldLoadOtherData,u=s.investorSelfCertificationAgreement,p=s.authStatus,h=s.authenticating,j=s.currentUser,g=s.currentUserLoaded;return l?d?!h&&g&&n&&i&&!o?p===co&&j?t?Object(V.jsx)(_.a,{fluid:!0,style:{padding:0,backgroundColor:xe,height:"100%",minHeight:"100vh",paddingTop:50,paddingBottom:100,paddingLeft:12,paddingRight:12},children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:[Object(V.jsx)(Fi.a,{elevation:1,style:{padding:15},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:{span:12,order:1},md:{span:12,order:1},lg:{span:3,order:1},children:Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",vAlignContent:"center",children:!t.profilePicture||t.profilePicture&&-1===t.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(ic,{firstName:t.firstName,lastName:t.lastName,width:150,height:150,textVariant:"h4"}):Object(V.jsx)(x.a,{width:156,height:156,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:t.profilePicture[t.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,style:{width:"100%",maxHeight:156,objectFit:"contain"}})})})}),Object(V.jsx)(E.a,{xs:{span:12,order:2},md:{span:12,order:2},lg:{span:9,order:2},children:Object(V.jsxs)(x.a,{column:!0,vAlignContent:"center",hAlignContent:"center",height:"100%",marginTop:10,marginBottom:10,children:[Object(V.jsx)(A.a,{align:"center",variant:"h6",children:"".concat(t.title," ").concat(t.firstName," ").concat(t.lastName)}),this.renderUserStatus(a),Object(V.jsxs)(x.a,{column:!0,marginTop:18,hAlignContent:"center",children:[Object(V.jsx)(A.a,{align:"center",variant:"body1",children:"Email: ".concat(t.email)}),t.hasOwnProperty("linkedin")&&t.linkedin.trim().length>0?Object(V.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:Object(V.jsx)("img",{alt:"linkedin_logo",src:r(386).default,style:{width:64,height:64}})}):null]})]})})]})}),Object(V.jsx)(Fi.a,{elevation:1,style:{padding:20,marginTop:15},children:t.BusinessProfile?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Business profile"}),Object(V.jsxs)(x.a,{column:!0,marginTop:15,marginLeft:15,marginRight:15,children:[Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:[" Company name:\xa0\xa0",Object(V.jsx)("b",{children:t.BusinessProfile.companyName})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:["Registration number:\xa0\xa0",Object(V.jsx)("b",{children:t.BusinessProfile.registrationNo})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:["Directors:\xa0\xa0",Object(V.jsx)("ul",{style:{marginTop:8},children:t.BusinessProfile.directors.map((function(e,t){return Object(V.jsx)("li",{children:e},t)}))})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:["Business sector:\xa0\xa0",Object(V.jsx)("b",{children:t.BusinessProfile.sector})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:["Registered office:\xa0\xa0",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),t.BusinessProfile.registeredOffice.address1.toUpperCase(),Object(V.jsx)("br",{}),""===t.BusinessProfile.registeredOffice.address2?null:Object(V.jsxs)("div",{children:[t.BusinessProfile.registeredOffice.address2.toUpperCase(),Object(V.jsx)("br",{})]}),""===t.BusinessProfile.registeredOffice.address3?null:Object(V.jsxs)("div",{children:[t.BusinessProfile.registeredOffice.address3.toUpperCase(),Object(V.jsx)("br",{})]}),t.BusinessProfile.registeredOffice.townCity.toUpperCase(),", ",t.BusinessProfile.registeredOffice.postcode.toUpperCase(),Object(V.jsx)("br",{})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:["Trading address:\xa0\xa0",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),t.BusinessProfile.tradingAddress.address1.toUpperCase(),Object(V.jsx)("br",{}),""===t.BusinessProfile.tradingAddress.address2?null:Object(V.jsxs)("div",{children:[t.BusinessProfile.tradingAddress.address2.toUpperCase(),Object(V.jsx)("br",{})]}),""===t.BusinessProfile.tradingAddress.address3?null:Object(V.jsxs)("div",{children:[t.BusinessProfile.tradingAddress.address3.toUpperCase(),Object(V.jsx)("br",{})]}),t.BusinessProfile.tradingAddress.townCity.toUpperCase(),", ",t.BusinessProfile.tradingAddress.postcode.toUpperCase(),Object(V.jsx)("br",{})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(A.a,{variant:"subtitle1",align:"left",children:["Company Website:\xa0\xa0",Object(V.jsx)("a",{href:t.BusinessProfile.companyWebsite,rel:"noopener noreferrer",target:"_blank",children:Object(V.jsx)("b",{children:t.BusinessProfile.companyWebsite})})]}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",children:"Introduction video"}),Object(V.jsx)(x.a,{marginTop:20,marginBottom:20,hAlignContent:"center",vAlignContent:"center",children:!t.BusinessProfile.video||t.BusinessProfile.video&&-1===t.BusinessProfile.video.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(A.a,{align:"center",variant:"subtitle1",color:"textSecondary",children:"No introduction video available."}):Object(V.jsx)(Xr.a,{url:t.BusinessProfile.video[t.BusinessProfile.video.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,playsinline:!0,width:"100%",height:""===t.BusinessProfile.video[t.BusinessProfile.video.findIndex((function(e){return!e.hasOwnProperty("removed")}))].storageID?360:"auto",playing:!1,controls:!0})}),Object(V.jsx)(Z.a,{className:Object(v.b)(_b.divider_style)})]})]})]}):Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Business profile"}),Object(V.jsx)(x.a,{column:!0,marginTop:15,marginLeft:15,marginRight:15,hAlignContent:"center",vAlignContent:"center",children:Object(V.jsx)(A.a,{align:"center",variant:"body1",children:"Business profile has not been uploaded."})})]})}),3===j.type&&1===t.type?Object(V.jsx)(Fi.a,{elevation:1,style:{padding:20,marginTop:15},children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"h6",color:"primary",children:"Self-certification agreement"}),Object(V.jsx)(x.a,{column:!0,marginTop:25,marginLeft:15,marginRight:15,hAlignContent:"center",vAlignContent:"center",children:u?Object(V.jsxs)(A.a,{align:"center",variant:"body1",children:[" This investor has agreed to the statement of ",Object(V.jsx)("b",{children:1===u.type?"High net worth investor ":"Self-certified sophisticated investor "})," on ",tr(u.agreedDate),"."]}):Object(V.jsx)(A.a,{align:"center",variant:"body1",children:"This investor has not completed their self certification."})})]})}):null]})})}):a?Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(A.a,{align:"center",variant:"h5",style:{marginTop:35},children:"".concat(a.title," ").concat(a.firstName," ").concat(a.lastName," has been invited by ").concat(a.Invitor.displayName," but not yet registered.")})})})}):Object(V.jsx)(jn,{}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{width:"100%",marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:c?c.settings.primaryColor:et})}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),n}(n.Component),Sb=Object(q.b)((function(e){return{groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,authStatus:e.auth.authStatus,authenticating:e.auth.authenticating,currentUser:e.auth.user,currentUserLoaded:e.auth.userLoaded,investorSelfCertificationAgreement_userID:e.manageInvestorSelfCertificationAgreement.userID,investorSelfCertificationAgreement:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreement,investorSelfCertificationAgreementLoaded:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementLoaded,investorSelfCertificationAgreementBeingLoaded:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementBeingLoaded}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},investorSelfCertificationAgreement_setUser:function(t){return e(Ll(t))},loadInvestorSelfCertificationAgreement:function(){return e(Gl())}}}))(wb),_b=v.a.create({divider_style:{marginTop:12,marginBottom:12}}),Ib=r(805),Eb=r(795),Db=r(796),Tb=r(797),kb=r(798),Nb=r(210),Rb=r.n(Nb),Ub=r(793),Lb=r(765),Bb=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.groupPropertiesLoaded,n=e.projectVisibilitySetting,a=e.project,i=e.handleProjectVisibilityChanged;return r?Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Xs.a,{className:Object(v.b)(ot.black_text),style:{marginBottom:6},children:"Select pledge visibility"}),Object(V.jsxs)(Ws.a,{value:-1===n?a?a.visibility:t?t.settings.projectVisibility:a.group.settings.projectVisibility:n,name:"projectVisibilitySetting",margin:"dense",onChange:i,input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"projectVisibilitySetting"}),children:[Object(V.jsx)(Vs.a,{value:3,children:"Public (\n                        ".concat(t?3===t.settings.projectVisibility?"Default - ":"":3===a.group.settings.projectVisibility?"Default - ":"","\n                        The full pledge will be visible to all Invest West users)")}),Object(V.jsx)(Vs.a,{value:2,children:"Restricted (\n                        ".concat(t?2===t.settings.projectVisibility?"Default - ":"":2===a.group.settings.projectVisibility?"Default - ":"","\n                        Restricted information from this pledge will be visible to all Invest West users. Only members of your group will see the full pledge)")}),Object(V.jsx)(Vs.a,{value:1,children:"Private (\n                        ".concat(t?1===t.settings.projectVisibility?"Default - ":"":1===a.group.settings.projectVisibility?"Default - ":""," \n                        Only members of this group will see this pledge)")})]})]}):null}}]),r}(n.Component),Fb=Object(q.b)((function(e){return{groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,projectVisibilitySetting:e.manageSelectProjectVisibility.projectVisibilitySetting,project:e.manageSelectProjectVisibility.project}}),(function(e){return{handleProjectVisibilityChanged:function(t){return e(bb(t))}}}))(Bb),Gb="TOGGLE_CREATE_PLEDGE_DIALOG",Mb=function(){return{type:Gb}},qb="CREATE_PLEDGE_DIALOG_SET_PROJECT",Wb="CREATE_PLEDGE_DIALOG_HANDLE_INPUT_CHANGED",Qb="CREATE_PLEDGE_DIALOG_HANDLE_DATE_CHANGED",Vb="CREATE_PLEDGE_DIALOG_CREATE_STATUS_CHANGED",Hb=1,Jb=2,zb=3,Yb=4,Kb=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderCreatePledgeError=function(){var t="";switch(e.props.createStatus){case 0:case Hb:return null;case Jb:t="Please fill in all the fields.";break;case zb:t="Please enter a valid fund.";break;case Yb:t="Please enter a valid date.";break;default:return null}return Object(V.jsx)(A.a,{align:"center",variant:"subtitle1",color:"error",children:t})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.currentUser,n=e.project,a=e.postMoneyValuation,i=e.expiredDate,o=e.extraNotes,s=(e.createStatus,e.toggleCreatePledgeDialog),c=e.handleInputChanged,l=e.handleDateChanged,d=e.createPledge,u=Object(X.a)(e,["forwardedRef","currentUser","project","postMoneyValuation","expiredDate","extraNotes","createStatus","toggleCreatePledgeDialog","handleInputChanged","handleDateChanged","createPledge"]);return Object(V.jsxs)(U.a,Object(b.a)(Object(b.a)({ref:t,fullScreen:!0,onClose:s,TransitionComponent:ct},u),{},{children:[Object(V.jsx)(L.a,{children:Object(V.jsx)(Ub.a,{elevation:0,children:Object(V.jsxs)(Lb.a,{children:[Object(V.jsx)(C.a,{color:"inherit",onClick:s,"aria-label":"Close",children:Object(V.jsx)(ie.a,{})}),Object(V.jsx)(x.a,{marginLeft:10,children:Object(V.jsx)(A.a,{variant:"h6",color:"inherit",children:"Create pledge"})})]})})}),Object(V.jsx)(B.a,{children:Object(V.jsx)(_.a,{fluid:!0,style:{marginTop:40},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:6,offset:3},children:[Object(V.jsx)(Yr.a,{disabled:!0,label:"Project name",value:n?n.projectName:"",fullWidth:!0,margin:"normal",variant:"outlined"}),Object(V.jsx)(Yr.a,{disabled:!0,label:"Total fund needs raising (\xa3)",value:n?n.Pitch.totalRaise:"",fullWidth:!0,margin:"normal",variant:"outlined"}),Object(V.jsx)(Yr.a,{disabled:!0,label:"Fund already raised to date (\xa3)",value:n?n.Pitch.amountRaised:"",fullWidth:!0,margin:"normal",variant:"outlined"}),Object(V.jsx)(Yr.a,{disabled:!0,label:"Fund required (\xa3)",value:n?n.Pitch.fundRequired:"",fullWidth:!0,margin:"normal",variant:"outlined"}),Object(V.jsx)(Yr.a,{disabled:!0,label:"Investors committed",value:n?n.Pitch.investorsCommitted?n.Pitch.investorsCommitted:"None":"",fullWidth:!0,margin:"normal",variant:"outlined"}),Object(V.jsx)(Yr.a,{label:"Post money valuation (\xa3)",name:"postMoneyValuation",value:a,fullWidth:!0,margin:"normal",variant:"outlined",onChange:c}),Object(V.jsx)(x.a,{marginTop:15,width:"100%",children:Object(V.jsx)(mj.a,{autoOk:!0,variant:"dialog",inputVariant:"outlined",label:"Choose expired date",format:"dd/MM/yyyy",minDate:er(1),value:i,InputAdornmentProps:{position:"start"},onChange:l})}),Object(V.jsx)(Yr.a,{label:"Your extra notes",value:o,name:"extraNotes",fullWidth:!0,margin:"normal",variant:"outlined",onChange:c})]}),3!==r.type?null:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:6,offset:3},style:{marginTop:10},children:Object(V.jsx)(Fb,{})}),Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:6,offset:3},style:{marginTop:40,marginBottom:50},children:[Object(V.jsx)(x.a,{hAlignContent:"center",marginBottom:30,children:this.renderCreatePledgeError()}),Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",children:Object(V.jsx)(G.a,{size:"large",className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",onClick:d,children:"Create pledge"})})]})]})})})]}))}}]),r}(n.Component),Xb=Object(q.b)((function(e){return{currentUser:e.auth.user,open:e.manageCreatePledgeDialog.open,project:e.manageCreatePledgeDialog.project,postMoneyValuation:e.manageCreatePledgeDialog.postMoneyValuation,expiredDate:e.manageCreatePledgeDialog.expiredDate,extraNotes:e.manageCreatePledgeDialog.extraNotes,createStatus:e.manageCreatePledgeDialog.createStatus}}),(function(e){return{toggleCreatePledgeDialog:function(){return e(Mb())},handleInputChanged:function(t){return e(function(e){return{type:Wb,event:e}}(t))},handleDateChanged:function(t){return e(function(e){return{type:Qb,date:e}}(t))},createPledge:function(){return e((function(e,t){var r=t().manageCreatePledgeDialog,n=r.project,a=r.postMoneyValuation,i=r.expiredDate,o=r.extraNotes,s=t().manageSelectProjectVisibility.projectVisibilitySetting,c=t().auth.user;if(null===i)e({type:Vb,status:Jb});else{if(isNaN(i)||i&&i<er(0))return void e({type:Vb,status:Yb});if(a.trim().length>0&&!lr(a))return void e({type:Vb,status:zb});e({type:Vb,status:Hb});var l={status:1,postMoneyValuation:0===a.trim().length?null:lr(a),expiredDate:i,extraNotes:0===o.trim().length?null:o},d=!1;2===n.issuer.type&&n.hasOwnProperty("createdByGroupAdmin")&&3===c.type&&(d=!0);var u=JSON.parse(JSON.stringify(n));u.issuer=null,u.group=null,u.pledges=null;var p=JSON.parse(JSON.stringify(n));p.issuer=null,p.group=null,p.pledges=null,p.status=3===c.type?4:3,p.Pitch.status=2,p.PrimaryOffer=l,p.visibility=-1===s?u.visibility:s,R.database().ref(jt).child(n.id).update(p).then((function(){e({type:Gb}),aa({userID:c.id,activityType:4,interactedObjectLocation:jt,interactedObjectID:n.id,activitySummary:"Created pledge for %project%.".replace("%project%",p.projectName),action:Wn.replace(":projectID",p.id),value:{before:u,after:p}}),d&&ca({title:n.projectName,message:"Congratulations! Your investment opportunity has been published. Investors can now pledge.",userID:n.issuerID,action:Wn.replace(":projectID",n.id)}).catch((function(e){}))}))}}))}}}))(a.a.forwardRef((function(e,t){return Object(V.jsx)(Kb,Object(b.a)(Object(b.a)({},e),{},{forwardedRef:t}))}))),Zb="MANAGE_PLEDGES_TABLE_SET_PROJECT",$b="MANAGE_PLEDGES_TABLE_LOADING_PLEDGES",em="MANAGE_PLEDGES_TABLE_FINISHED_LOADING_PLEDGES",tm="MANAGE_PLEDGES_TABLE_TOGGLE_SEARCH_MODE",rm="MANAGE_PLEDGES_TABLE_PAGE_CHANGED",nm="MANAGE_PLEDGES_TABLE_ROWS_PER_PAGE_CHANGED",am="MANAGE_PLEDGES_TABLE_INPUT_CHANGED",im=null,om="MANAGE_PLEDGES_TABLE_PLEDGES_CHANGED";r(637);!function(e){e.OpenRiskWarningDialog="DocumentsDownloadEvents.OpenRiskWarningDialog",e.CloseRiskWarningDialog="DocumentsDownloadEvents.CloseRiskWarningDialog"}(aj||(aj={}));var sm,cm=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.ManageSystemAttributesState,n=e.ManageGroupUrlState,a=e.documents,i=e.shouldShowRiskWarningOnDownload,o=e.DocumentsDownloadLocalState,s=e.onDocumentClick,c=e.onAcceptRiskWarningClick,l=e.onCancelRiskWarningClick;if(!a||0===a.length)return null;if(!t.systemAttributes)return null;var d=t.systemAttributes.riskWarningFooter,u=(d=d.split("%groupName%").join(n.group?n.group.displayName:"Invest West")).split("%URL%");return Object(V.jsxs)(Vl.a,{marginTop:"20px",children:[Object(V.jsx)(ji.a,{children:a.map((function(e,t){return void 0!==e.removed&&e.removed?null:Object(V.jsxs)(gi.a,{button:!0,onClick:function(){return s(e,null!==i&&void 0!==i&&i)},children:[Object(V.jsx)("img",{alt:"Document image",src:r(250).default,width:48,height:48}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",children:e.fileName}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:e.readableSize})]})]},t)}))}),Object(V.jsxs)(U.a,{open:o.openRiskWarningDialog,onClose:function(){return l()},children:[Object(V.jsx)(L.a,{children:"Accept Risk Warning"}),Object(V.jsx)(B.a,{children:Object(V.jsx)(Vl.a,{marginTop:"18px",whiteSpace:"pre-line",children:Object(V.jsxs)(A.a,{variant:"body1",align:"justify",children:[u[0],Object(V.jsx)(Ad,{url:yn.nonGroupRiskWarning,target:"_blank",color:sd(n).palette.error.main,activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:u[1]}),u[2]]})})}),Object(V.jsx)(F.a,{children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",marginRight:"4px",marginBottom:"4px",children:[Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),onClick:function(){return l()},children:"Cancel"}),Object(V.jsx)(Vl.a,{width:"14px"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),onClick:function(){return c()},children:"Accept"})]})})]})]})}}]),n}(n.Component),lm=Object(q.b)((function(e){return{ManageSystemAttributesState:e.ManageSystemAttributesState,ManageGroupUrlState:e.ManageGroupUrlState,DocumentsDownloadLocalState:e.DocumentsDownloadLocalState}}),(function(e){return{onDocumentClick:function(t,r){return e(function(e,t){return function(r,n){if(t)return r({type:aj.OpenRiskWarningDialog,selectedDocument:e});window.open(e.downloadURL,"_blank")}}(t,r))},onAcceptRiskWarningClick:function(){return e((function(e,t){var r=t().DocumentsDownloadLocalState.selectedDocument;if(void 0!==r)return window.open(r.downloadURL,"_blank"),e({type:aj.CloseRiskWarningDialog})}))},onCancelRiskWarningClick:function(){return e((function(e,t){return e({type:aj.CloseRiskWarningDialog})}))}}}))(cm);!function(e){e.ToggleContactDialog="ContactPitchOwnerDialogEvents.ToggleContactDialog",e.SendingContactEmail="ContactPitchOwnerDialogEvents.SendingContactEmail",e.CompleteSendingContactEmail="ContactPitchOwnerDialogEvents.CompleteSendingContactEmail"}(sm||(sm={}));var dm,um=function(e,t){return function(r,n){return r({type:sm.ToggleContactDialog,projectName:null!==e&&void 0!==e?e:null,projectOwnerEmail:null!==t&&void 0!==t?t:null})}},pm={projectName:null,projectOwnerEmail:null,contactDialogOpen:!1,sendingContactEmail:!1},hm=function(e){return e.sendingContactEmail},jm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sm.ToggleContactDialog:var r=t;return Object(b.a)(Object(b.a)({},e),{},{contactDialogOpen:!e.contactDialogOpen,projectName:r.projectName,projectOwnerEmail:r.projectOwnerEmail});case sm.SendingContactEmail:return Object(b.a)(Object(b.a)({},e),{},{sendingContactEmail:!0,errorSendingContactEmail:void 0});case sm.CompleteSendingContactEmail:var n=t;return Object(b.a)(Object(b.a)({},e),{},{contactDialogOpen:!1,sendingContactEmail:!1,errorSendingContactEmail:void 0!==n.error?{detail:n.error}:e.errorSendingContactEmail});default:return e}},gm=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.ContactPitchOwnerDialogLocalState,r=e.toggleContactDialog,n=e.sendContactEmail;return Object(V.jsxs)(U.a,{open:t.contactDialogOpen,onClose:function(){return r()},children:[Object(V.jsx)(B.a,{children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"We will let the pitch owner know that you would like to find out more."}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Are you happy for us to share your email address?"})]})}),Object(V.jsxs)(F.a,{children:[hm(t)?null:Object(V.jsx)(G.a,{onClick:function(){return r()},className:Object(v.b)(ot.no_text_transform),children:"Cancel"}),Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),disabled:hm(t),onClick:function(){return n()},children:hm(t)?"Sending email to ".concat(t.projectOwnerEmail," ..."):"Yes"})]})]})}}]),r}(n.Component),bm=Object(q.b)((function(e){return{ContactPitchOwnerDialogLocalState:e.ContactPitchOwnerDialogLocalState}}),(function(e){return{toggleContactDialog:function(){return e(um())},sendContactEmail:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().ContactPitchOwnerDialogLocalState,a=n.projectName,i=n.projectOwnerEmail,!n.sendingContactEmail){e.next=3;break}return e.abrupt("return");case 3:if(a&&i){e.next=5;break}return e.abrupt("return");case 5:if(o=r().AuthenticationState.currentUser){e.next=8;break}return e.abrupt("return");case 8:return t({type:sm.SendingContactEmail}),s={type:sm.CompleteSendingContactEmail},e.prev=10,c={receiver:i,sender:o.email,userName:"".concat(o.firstName," ").concat(o.lastName),projectName:a},e.next=14,(new bp).sendEmail({emailType:zu.ContactPitchOwner,emailInfo:c});case 14:return t(s),e.abrupt("return",t(fp(mp.Success,"Email sent.")));case 18:return e.prev=18,e.t0=e.catch(10),s.error=e.t0.toString(),t(s),e.abrupt("return",t(fp(mp.Error,s.error)));case 23:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t,r){return e.apply(this,arguments)}}())}}}))(gm),mm=240,fm=550,Om=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).loadData=function(){var e=n.props,t=e.user,r=e.userLoaded,a=e.selectProjectVisibility_setProject,i=n.state,o=i.dataLoaded,s=i.dataBeingLoaded;if(r)if(t||o){if(!s){n.setState({dataLoaded:!1,dataBeingLoaded:!0});var c=n.props.match.params.projectID;La(c).then((function(e){1===t.type&&aa({userID:t.id,activityType:2,interactedObjectLocation:jt,interactedObjectID:e.id,activitySummary:"Viewed %project% offer.".replace("%project%",e.projectName),action:Wn.replace(":projectID",e.id)}),a(e),n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{project:e,projectLoaded:!0}),mainBody:3===t.type&&t.anid===e.anid?0:1,adminOfferStatesActiveStep:0===e.status?0:1===e.status||2===e.status?1:3===e.status||4===e.status?2:0}),Ha(e.id,null,Va).then((function(r){n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{votes:r,votesLoaded:!0})}),Qa(e.id,null,Wa).then((function(r){if(1===t.type){var a=r.findIndex((function(e){return e.investorID===t.id&&""!==e.amount}));-1!==a&&n.setState({investorPledge:r[a]})}n.setState({dataLoaded:!0,dataBeingLoaded:!1,investorPledgeLoaded:!0,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{pledges:r,pledgesLoaded:!0})}),ma(e.issuerID).then((function(e){n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{projectIssuer:e,projectIssuerLoaded:!0})})})).catch((function(e){n.setState({dataLoaded:!0,dataBeingLoaded:!1,investorPledgeLoaded:!0,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{projectLoaded:!0,projectIssuerLoaded:!0,votesLoaded:!0,pledgesLoaded:!0})})}))})).catch((function(e){n.setState({dataLoaded:!0,dataBeingLoaded:!1,investorPledgeLoaded:!0,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{projectLoaded:!0,projectIssuerLoaded:!0,votesLoaded:!0,pledgesLoaded:!0})})}))})).catch((function(e){n.setState({dataLoaded:!0,dataBeingLoaded:!1,investorPledgeLoaded:!0,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{projectLoaded:!0,projectIssuerLoaded:!0,votesLoaded:!0,pledgesLoaded:!0})})}))})).catch((function(e){n.setState({dataLoaded:!0,dataBeingLoaded:!1,investorPledgeLoaded:!0,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{projectLoaded:!0,projectIssuerLoaded:!0,votesLoaded:!0,pledgesLoaded:!0})})}))}}else n.setState({dataLoaded:!0,dataBeingLoaded:!1,investorPledgeLoaded:!0,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{projectLoaded:!0,projectIssuerLoaded:!0,votesLoaded:!0,pledgesLoaded:!0})})},n.loadDataWhenUIElementsChange=function(){var e=n.props,t=e.user,r=e.pledgesTable_setProject,a=n.state,i=a.mainBody,o=a.commentsLoaded,s=n.state.projectDetail,c=s.project,l=s.projectLoaded,d=s.pledges,u=s.pledgesLoaded,p=s.votes,h=s.votesLoaded;p&&h&&c&&l&&1===c.status&&(n.votesListener||(n.votesListener=n.database.ref(wt).orderByChild("projectID").equalTo(c.id),n.votesListener.on("child_added",(function(e){var t=e.val(),r=n.state.projectDetail.votes;-1===r.findIndex((function(e){return e.id===t.id}))&&ma(t.investorID).then((function(e){t.investor=e,n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{votes:[].concat(Object(gn.a)(r),[t])})})}))})),n.votesListener.on("child_changed",(function(e){var t=e.val(),r=n.state.projectDetail.votes,a=r.findIndex((function(e){return e.id===t.id}));if(-1!==a){var i=r;t.investor=i[a].investor,i[a]=t,n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{votes:i})})}})),n.votesListener.on("child_removed",(function(e){var t=e.key,r=n.state.projectDetail.votes,a=r.findIndex((function(e){return e.id===t}));if(-1!==a){var i=r;i.splice(a,1),n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{votes:i})})}})))),d&&u&&l&&c&&0!==c.status&&6!==c.status&&1!==c.status&&(n.pledgesListener||(n.pledgesListener=n.database.ref(Pt).orderByChild("projectID").equalTo(c.id),n.pledgesListener.on("child_added",(function(e){var t=e.val(),r=Object(gn.a)(n.state.projectDetail.pledges);-1===r.findIndex((function(e){return e.id===t.id}))&&ma(t.investorID).then((function(e){t.investor=e,n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{pledges:[].concat(Object(gn.a)(r),[t])})})}))})),n.pledgesListener.on("child_changed",(function(e){var r=e.val(),a=Object(gn.a)(n.state.projectDetail.pledges),i=a.findIndex((function(e){return e.id===r.id}));if(-1!==i){var o=a;r.investor=o[i].investor,o[i]=r;var s=JSON.parse(JSON.stringify(n.state.investorPledge));n.setState({investorPledge:null!==s?s.id===r.id?""===r.amount?null:JSON.parse(JSON.stringify(r)):s:r.investorID===t.id?""===r.amount?null:JSON.parse(JSON.stringify(r)):null,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{pledges:o})})}})),n.pledgesListener.on("child_removed",(function(e){var t=e.key,r=Object(gn.a)(n.state.projectDetail.pledges),a=r.findIndex((function(e){return e.id===t}));if(-1!==a){var i=r;i.splice(a,1);var o=n.state.investorPledge;o||o.id!==t?n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{pledges:i})}):n.setState({investorPledge:null,projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{pledges:i})})}})))),5===i&&c&&r(c),3===i&&(o||qa(c.id).then((function(e){var r;(r=e,new Promise((function(e,t){var n=R.database(),a=Object(gn.a)(r);Promise.all(a.map((function(e){return new Promise((function(t,r){var i=[];n.ref(Ct).orderByChild("commentID").equalTo(e.id).once("value",(function(n){if(!n||!n.exists()||n&&(!n.val()||0===n.numChildren()))return e.replies=i,t(a);n.forEach((function(e){var t=e.val();t.hasOwnProperty("deleted")&&!0===t.deleted||i.push(e.val())})),Promise.all(i.map((function(e){return new Promise((function(t,r){ma(e.repliedBy).then((function(r){return e.author=r,t(i)})).catch((function(e){return r(e)}))}))}))).then((function(){return e.replies=i,t(a)})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))}))}))).then((function(){return e(a)})).catch((function(e){return t(e)}))}))).then((function(e){n.setState({comments:Object(gn.a)(e),commentsLoaded:!0}),n.commentsListener||(n.commentsListener=n.database.ref(At).orderByChild("projectID").equalTo(c.id),n.commentsListener.on("child_added",(function(e){var r=e.val();(r.replies=[],r.commentedBy===t.id)&&(n.state.currenComment||n.setState({currentComment:r,currentCommentText:r.comment}));var a=Object(gn.a)(n.state.comments);-1===a.findIndex((function(e){return e.id===r.id}))&&ma(r.commentedBy).then((function(e){r.author=e,n.setState({comments:[].concat(Object(gn.a)(a),[r])})}))})),n.commentsListener.on("child_changed",(function(e){var t=e.val(),r=Object(gn.a)(n.state.comments),a=r.findIndex((function(e){return e.id===t.id}));if(-1!==a){var i=Object(gn.a)(r);t.author=i[a].author,t.replies=i[a].replies,i[a]=t;var o=n.state.currentComment;o&&o.id===t.id?n.setState({comments:i,currentComment:t}):n.setState({comments:Object(gn.a)(i)})}}))),n.commentsRepliesListener||(n.commentsRepliesListener=n.database.ref(Ct).orderByChild("projectID").equalTo(c.id),n.commentsRepliesListener.on("child_added",(function(e){var t=e.val(),r=Object(gn.a)(n.state.comments),a=r.findIndex((function(e){return e.id===t.commentID}));if(-1!==a){var i=r[a];if(-1===i.replies.findIndex((function(e){return e.id===t.id}))){if(t.hasOwnProperty("deleted")&&!0===t.deleted)return;ma(t.repliedBy).then((function(e){t.author=e,i.replies=[].concat(Object(gn.a)(i.replies),[t]),r[a]=i,n.setState({comments:Object(gn.a)(r)})}))}}})),n.commentsRepliesListener.on("child_changed",(function(e){var t=e.val(),r=Object(gn.a)(n.state.comments),a=r.findIndex((function(e){return e.id===t.commentID}));if(-1!==a){var i=r[a],o=i.replies.findIndex((function(e){return e.id===t.id}));-1!==o&&(t.hasOwnProperty("deleted")&&!0===t.deleted?(i.replies.splice(o,1),r[a]=i,n.setState({comments:Object(gn.a)(r)})):ma(t.repliedBy).then((function(e){t.author=i.replies[o].author,i.replies[o]=t,r[a]=i,n.setState({comments:Object(gn.a)(r)})})))}})))})).catch((function(e){n.setState({commentsLoaded:!0})}))})).catch((function(e){n.setState({commentsLoaded:!0})})))},n.handleVotePitch=function(e){var t=n.props,r=t.groupProperties,a=t.user,i=n.state.projectDetail,o=i.project,s=i.votes,c=vm(s,a);c&&(c.investor=null);var l={};if(c)""===(l=JSON.parse(JSON.stringify(c))).voted?l.voted=e:l.voted="",l.date=$t(),n.database.ref(wt).child(l.id).update(l).then((function(){aa({userID:a.id,activityType:4,interactedObjectLocation:wt,interactedObjectID:l.id,activitySummary:"Edited vote for %project% offer.".replace("%project%",o.projectName),action:Wn.replace(":projectID",o.id),value:{before:c,after:l}})}));else{var d=n.database.ref(wt).push().key;l.id=d,l.anid=r?r.anid:null,l.investorID=a.id,l.projectID=o.id,l.voted=e,l.date=$t(),n.database.ref(wt).child(d).set(l).then((function(){aa({userID:a.id,activityType:4,interactedObjectLocation:wt,interactedObjectID:d,activitySummary:"Made a vote for %project% offer.".replace("%project%",o.projectName),action:Wn.replace(":projectID",o.id),value:l}),ca({title:"Someone liked your pitch",message:"Congratulations. A new investor has showed interest in your pitch.",userID:o.issuerID,action:Wn.replace(":projectID",o.id)}).then((function(){})).catch((function(e){}))}))}},n.attachProjectChangedListener=function(){var e=n.state.projectDetail.project;null===n.projectListener&&(n.projectListener=n.database.ref(jt).child(e.id),n.projectListener.on("value",(function(e){var t=e.val();t.group=n.state.projectDetail.project.group,t.issuer=n.state.projectDetail.project.issuer,n.setState({projectDetail:Object(b.a)(Object(b.a)({},n.state.projectDetail),{},{project:t}),adminOfferStatesActiveStep:0===t.status?0:1===t.status||2===t.status?1:3===t.status||4===t.status?2:0})})))},n.detachProjectChangedListener=function(){n.projectListener&&n.projectListener.off("value")},n.handleDocumentClick=function(e){window.open(e,"_blank")},n.handleMakeProjectGoLiveDecision=function(e){var t=n.props.user,r=n.state.projectDetail.project;Fa(t,JSON.parse(JSON.stringify(r)),e).then((function(){})).catch((function(e){}))},n.handleMakeProjectGoToPledgePhaseDecision=function(e){var t=n.props.user,r=n.state.projectDetail.project;1!==r.Pitch.status&&5!==r.Pitch.status||Ga(t,JSON.parse(JSON.stringify(r)),e).then((function(){})).catch((function(e){}))},n.handleMakeProjectPledgeGoLiveDecision=function(e){var t=n.props.user,r=n.state.projectDetail.project;Ma(t,JSON.parse(JSON.stringify(r)),e).then((function(){})).catch((function(e){}))},n.handleMainBodyTabChanged=function(e,t){n.setState({mainBody:t})},n.handlePostACommentClick=function(){n.setState({commentDialogOpen:!0})},n.handleCloseCommentDialog=function(){n.setState({commentDialogOpen:!1,commentText:"",commentSubmitClick:!1})},n.handleTextChanged=function(e){var t=e.target.name,r=e.target.value;n.setState(Object(Bi.a)({},t,r))},n.handleDateChanged=function(e){e&&"Invalid Date"===e?n.setState({changedPitchExpiryDate:NaN}):n.setState({changedPitchExpiryDate:e?e.getTime():null})},n.handleSubmitCommentClick=function(){var e=n.props,t=e.groupProperties,r=e.user,a=e.setFeedbackSnackbarContent,i=n.state.commentText,o=n.state.projectDetail.project;if(n.setState({commentSubmitClick:!0}),0!==i.trim().length){var s=n.database.ref(At).push().key,c={id:s,commenterANID:t?t.anid:null,projectID:o.id,commentedBy:r.id,status:1,commentedDate:$t(),comment:i};n.database.ref(At).child(s).set(c).then((function(){aa({userID:r.id,activityType:4,interactedObjectLocation:At,interactedObjectID:s,activitySummary:"Commented in %project% offer.".replace("%project%",o.projectName),action:Wn.replace(":projectID",o.id),value:c}),ca({title:"Someone commented on your pitch",message:"An investor has commented on your pitch. Go and see what they said.",userID:o.issuerID,action:Wn.replace(":projectID",o.id)}).then((function(){n.handleCloseCommentDialog()})).catch((function(e){n.handleCloseCommentDialog()})),a("Comment added.","primary","bottom")})).catch((function(e){n.handleCloseCommentDialog(),a("Error happened. Could not add comment.","error","bottom")}))}},n.handleCancelUpdateCurrentComment=function(){var e=n.state.currentComment;n.setState({currentCommentText:e.comment?e.comment:""})},n.handleSubmitUpdateCurrentComment=function(){var e=n.state,t=e.currentComment,r=e.currentCommentText,a=n.state.projectDetail.project,i=n.props.setFeedbackSnackbarContent;if(0!==r.trim().length){var o=JSON.parse(JSON.stringify(t));o.status=2,o.comment=r,o.commentedDate=$t(),o.replies=null,o.author=null,n.database.ref(At).child(o.id).update(o).then((function(){aa({userID:t.commentedBy,activityType:4,interactedObjectLocation:At,interactedObjectID:t.id,activitySummary:"Edited comment in %project% offer.".replace("%project%",a.projectName),action:Wn.replace(":projectID",a.id),value:{before:JSON.parse(JSON.stringify(t)),after:o}}),i("Comment updated.","primary","bottom")}))}},n.handleToggleReplyToComment=function(e,t){n.setState({replyingToComment:e,replyText:t?t.text:"",replyEdited:t})},n.handleSubmitCommentReply=function(){var e,t=n.state,r=t.replyingToComment,a=t.replyText,i=t.replyEdited,o=n.state.projectDetail.project,s=n.props,c=s.user,l=s.setFeedbackSnackbarContent;if(i){var d=JSON.parse(JSON.stringify(i));d.author=null;var u=JSON.parse(JSON.stringify(d));u.text=a,u.status=2,u.repliedDate=$t(),(e=u,new Promise((function(t,r){R.database().ref(Ct).child(e.id).update(e).then((function(){return t()})).catch((function(e){return r(e)}))}))).then((function(){aa({userID:c.id,activityType:4,interactedObjectLocation:Ct,interactedObjectID:u.id,activitySummary:"Edited a reply of a comment in %projectName% offer.".replace("%projectName%",o.projectName),action:Wn.replace(":projectID",o.id),value:{before:d,after:u}}),n.handleToggleReplyToComment(null,null),l("Reply updated.","primary","bottom")})).catch((function(e){l("Error happened. Could not update reply.","error","bottom")}))}else{var p={text:a,repliedDate:$t(),projectID:o.id,commentID:r.id,repliedBy:c.id,status:1};(function(e){return new Promise((function(t,r){var n=R.database(),a=n.ref(Ct).push().key;n.ref(Ct).child(a).set(Object(b.a)(Object(b.a)({},e),{},{id:a})).then((function(){return t(a)})).catch((function(e){return r(e)}))}))})(p).then((function(e){aa({userID:c.id,activityType:4,interactedObjectLocation:Ct,interactedObjectID:e,activitySummary:"Replied to a comment in %projectName% offer.".replace("%projectName%",o.projectName),action:Wn.replace(":projectID",o.id),value:Object(b.a)(Object(b.a)({},p),{},{id:e})}),n.handleToggleReplyToComment(null,null),l("Reply added.","primary","bottom")})).catch((function(e){l("Error happened. Could not add reply.","error","bottom")}))}},n.handleDeleteCommentReply=function(e){var t,r=n.props,a=r.user,i=r.setFeedbackSnackbarContent,o=n.state.projectDetail.project;(t=e.id,new Promise((function(e,r){R.database().ref(Ct).child(t).child("deleted").set(!0).then((function(){return e()})).catch((function(e){return r(e)}))}))).then((function(){aa({userID:a.id,activityType:4,interactedObjectLocation:Ct,interactedObjectID:e.id,activitySummary:"Deleted a reply of a comment in %projectName% offer.".replace("%projectName%",o.projectName),action:Wn.replace(":projectID",o.id),value:{before:Object(b.a)(Object(b.a)({},e),{},{author:null}),after:Object(b.a)(Object(b.a)({},e),{},{author:null,deleted:!0})}}),i("Reply deleted.","primary","bottom")})).catch((function(e){i("Error happened. Could not delete reply.","error","bottom")}))},n.handleAdminOfferStatesStepClick=function(e){n.setState({adminOfferStatesActiveStep:e})},n.bringPitchBackToLive=Object(Xt.a)(Kt.a.mark((function e(){var t,r,a,i,o;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.projectDetail.project,r=n.state.changedPitchExpiryDate,a=n.props,i=a.user,o=a.setFeedbackSnackbarContent,3===i.type){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,Za({project:JSON.parse(JSON.stringify(t)),newPitchExpiryDate:r});case 8:o("Pitch is now live again.","primary","bottom"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),o("Error happened. Couldn't update pitch.","error","bottom");case 14:case"end":return e.stop()}}),e,null,[[5,11]])}))),n.toggleRejectFeedback=function(){n.setState({addingRejectFeedback:!n.state.addingRejectFeedback,rejectFeedback:""})},n.sendProjectBackToIssuer=Object(Xt.a)(Kt.a.mark((function e(){var t,r,a,i,o;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,r=t.projectDetail,a=t.rejectFeedback,i=t.sendingProjectBack,o=n.props.setFeedbackSnackbarContent,0!==a.trim().length&&!i){e.next=4;break}return e.abrupt("return");case 4:return n.setState({sendingProjectBack:!0}),e.prev=5,e.next=8,(new na).request("post",ta.sendProjectBackToIssuerRoute,{queryParameters:null,requestBody:{projectID:r.project.id,feedback:a}});case 8:n.setState({sendingProjectBack:!1}),o("Pitch has been sent back.","primary","bottom"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),o("Error happened. Couldn't send offer back.","error","bottom");case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),n.database=R.database(),n.projectListener=null,n.commentsListener=null,n.commentsRepliesListener=null,n.pledgesListener=null,n.votesListener=null,n.state={dataLoaded:!1,dataBeingLoaded:!1,investorPledge:null,investorPledgeLoaded:!1,mainBody:1,adminOfferStatesActiveStep:0,comments:[],commentsLoaded:!1,commentDialogOpen:!1,commentText:"",commentSubmitClick:!1,currentComment:null,currentCommentText:"",replyingToComment:null,replyText:"",replyEdited:null,changedPitchExpiryDate:null,addingRejectFeedback:!1,rejectFeedback:"",sendingProjectBack:!1,projectDetail:{project:null,projectLoaded:!1,pledges:[],pledgesLoaded:!1,votes:[],votesLoaded:!1,projectIssuer:null,projectIssuerLoaded:!1}},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.user,a=e.userLoaded,i=e.userBeingLoaded,o=e.investorSelfCertificationAgreement_userID,s=e.investorSelfCertificationAgreementLoaded,c=e.investorSelfCertificationAgreementBeingLoaded,l=e.setGroupUserNameFromParams,d=e.setExpectedAndCurrentPathsForChecking,u=e.loadAngelNetwork,p=e.investorSelfCertificationAgreement_setUser,h=e.loadInvestorSelfCertificationAgreement,j=this.state,g=j.dataLoaded,b=j.dataBeingLoaded,m=this.props.match;l(m.params.hasOwnProperty("groupUserName")?m.params.groupUserName:null),d(m.params.hasOwnProperty("groupUserName")?qn:Wn,m.path),u(),t&&r&&(!i&&a&&(b||g||this.loadData(),n&&(o||1!==n.type||p(n.id))),o&&(s||c||1!==n.type||h())),console.log("Page loaded. Authentication status:",this.props.AuthenticationState.isAuthenticated?"Authenticated":"Not Authenticated"),console.log("Current user on page load:",this.props.AuthenticationState.currentUser)}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.user,s=n.userLoaded,c=n.userBeingLoaded,l=n.investorSelfCertificationAgreement_userID,d=n.investorSelfCertificationAgreementLoaded,u=n.investorSelfCertificationAgreementBeingLoaded,p=n.investorSelfCertificationAgreement_setUser,h=n.loadInvestorSelfCertificationAgreement,j=n.loadAngelNetwork,g=this.state,b=g.dataLoaded,m=g.dataBeingLoaded,f=this.state.projectDetail,O=f.project,x=f.projectLoaded;j(),a&&i&&(!c&&s&&(m||b||this.loadData(),o&&(l||1!==o.type||p(o.id))),l&&(d||u||1!==o.type||h()),x&&O&&this.attachProjectChangedListener(),this.loadDataWhenUIElementsChange())}},{key:"componentWillUnmount",value:function(){var e=this.props.pledgesTable_stopListeningForPledgesChanged;this.detachProjectChangedListener(),this.votesListener&&(this.votesListener.off("child_added"),this.votesListener.off("child_changed"),this.votesListener.off("child_removed")),this.pledgesListener&&(this.pledgesListener.off("child_added"),this.pledgesListener.off("child_changed"),this.pledgesListener.off("child_removed")),this.commentsListener&&(this.commentsListener.off("child_added"),this.commentsListener.off("child_changed")),this.commentsRepliesListener&&(this.commentsRepliesListener.off("child_added"),this.commentsRepliesListener.off("child_changed")),e()}},{key:"render",value:function(){var e=this,t=this.props,r=t.AuthenticationState,n=t.isMobile,a=t.groupUserName,i=t.groupProperties,o=t.groupPropertiesLoaded,s=t.shouldLoadOtherData,c=t.authStatus,l=t.authenticating,d=t.user,u=t.userLoaded,p=t.groupsUserIsIn,h=t.investorSelfCertificationAgreement,j=t.createPledgeDialog_toggleDialog,g=t.createPledgeDialog_setProject,b=t.projectVisibilitySetting,m=t.selectProjectVisibility_setProject,f=this.state,O=f.investorPledge,v=f.investorPledgeLoaded,y=f.mainBody,A=f.adminOfferStatesActiveStep,C=f.comments,P=f.commentsLoaded,w=f.commentDialogOpen,S=f.commentText,_=f.commentSubmitClick,I=f.currentComment,E=f.currentCommentText,D=f.replyingToComment,T=f.replyText,k=f.replyEdited,N=f.changedPitchExpiryDate,R=f.addingRejectFeedback,U=f.rejectFeedback,L=f.sendingProjectBack,B=this.state.projectDetail,F=B.project,G=B.projectLoaded,M=B.pledges,q=B.pledgesLoaded,W=B.votes,Q=B.votesLoaded,H=B.projectIssuer,J=B.projectIssuerLoaded;return o?s?l||!u||xs(r)?Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:i?i.settings.primaryColor:et})}):c!==co||!d||ys(r)?Object(V.jsx)(jn,{}):Object(V.jsxs)("div",{children:[Object(V.jsx)(xm,{AuthenticationState:this.props.AuthenticationState,groupUserName:a,groupProperties:i,isMobile:n,user:d,userLoaded:u,groupsUserIsIn:p,investorSelfCertificationAgreement:h,mainBody:y,adminOfferStatesActiveStep:A,comments:C,commentsLoaded:P,currentComment:I,currentCommentText:E,replyingToComment:D,replyText:T,replyEdited:k,changedPitchExpiryDate:N,addingRejectFeedback:R,rejectFeedback:U,sendingProjectBack:L,project:F,projectLoaded:G,votes:W,votesLoaded:Q,pledges:M,pledgesLoaded:q,investorPledge:O,investorPledgeLoaded:v,projectIssuer:H,projectIssuerLoaded:J,projectVisibilitySetting:b,onVote:this.handleVotePitch,onDocumentClick:this.handleDocumentClick,onMakeProjectGoLiveDecision:this.handleMakeProjectGoLiveDecision,onMakeProjectGoToPledgePhaseDecision:this.handleMakeProjectGoToPledgePhaseDecision,onMakeProjectPledgeGoLiveDecision:this.handleMakeProjectPledgeGoLiveDecision,onTabChanged:this.handleMainBodyTabChanged,onPostACommentClick:this.handlePostACommentClick,onTextChanged:this.handleTextChanged,onDateChanged:this.handleDateChanged,onCancelUpdateCurrentComment:this.handleCancelUpdateCurrentComment,onSubmitUpdateCurrentComment:this.handleSubmitUpdateCurrentComment,onToggleReplyToComment:this.handleToggleReplyToComment,onSubmitCommentReply:this.handleSubmitCommentReply,onDeleteCommentReply:this.handleDeleteCommentReply,onAdminOfferStatesStepClick:this.handleAdminOfferStatesStepClick,createPledgeDialog_toggleDialog:j,createPledgeDialog_setProject:g,selectProjectVisibility_setProject:m,bringPitchBackToLive:this.bringPitchBackToLive,toggleRejectFeedback:this.toggleRejectFeedback,sendProjectBackToIssuer:this.sendProjectBackToIssuer,toggleContactPitchOwnerDialog:function(){return e.props.toggleContactPitchOwnerDialog(F.projectName,H.email)}}),Object(V.jsx)(ym,{open:w,project:F,commentText:S,commentSubmitClick:_,onClose:this.handleCloseCommentDialog,onCommentTextChanged:this.handleTextChanged,onSubmitCommentClick:this.handleSubmitCommentClick}),Object(V.jsx)(Xb,{}),Object(V.jsx)(bm,{}),Object(V.jsx)(Dp,{})]}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),r}(n.Component),xm=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onTabChanged=function(t,r){e.props.onTabChanged(t,r)},e.onTextChanged=function(t){e.props.onTextChanged(t)},e.onDateChanged=function(t){e.props.onDateChanged(t)},e.onVote=function(t){e.props.onVote(t)},e.onDocumentClick=function(t){e.props.onDocumentClick(t)},e.onMakeProjectGoLiveDecision=function(t){e.props.onMakeProjectGoLiveDecision(t)},e.onMakeProjectGoToPledgePhaseDecision=function(t){e.props.onMakeProjectGoToPledgePhaseDecision(t)},e.onMakeProjectPledgeGoLiveDecision=function(t){e.props.onMakeProjectPledgeGoLiveDecision(t)},e.onPostACommentClick=function(){e.props.onPostACommentClick()},e.onCancelUpdateCurrentComment=function(){e.props.onCancelUpdateCurrentComment()},e.onSubmitUpdateCurrentComment=function(){e.props.onSubmitUpdateCurrentComment()},e.onToggleReplyToComment=function(t,r){e.props.onToggleReplyToComment(t,r)},e.onSubmitCommentReply=function(){e.props.onSubmitCommentReply()},e.onDeleteCommentReply=function(t){e.props.onDeleteCommentReply(t)},e.onAdminOfferStatesStepClick=function(t){e.props.onAdminOfferStatesStepClick(t)},e.bringPitchBackToLive=function(){e.props.bringPitchBackToLive()},e.toggleRejectFeedback=function(){e.props.toggleRejectFeedback()},e.sendProjectBackToIssuer=function(){e.props.sendProjectBackToIssuer()},e.toggleContactPitchOwnerDialog=function(){e.props.toggleContactPitchOwnerDialog()},e.renderPageContent=function(){var t=e.props,n=t.AuthenticationState,a=t.groupsUserIsIn,i=t.groupUserName,o=t.groupProperties,s=t.isMobile,c=t.user,l=t.investorSelfCertificationAgreement,d=t.mainBody,u=t.adminOfferStatesActiveStep,p=t.comments,h=t.commentsLoaded,j=t.project,g=t.pledges,b=t.pledgesLoaded,f=t.votesLoaded,O=t.investorPledge,y=t.investorPledgeLoaded,C=t.projectIssuer,P=t.projectIssuerLoaded,w=t.currentComment,S=t.currentCommentText,D=t.replyingToComment,T=t.replyText,k=t.replyEdited,N=t.changedPitchExpiryDate,R=t.addingRejectFeedback,U=t.rejectFeedback,L=t.sendingProjectBack,B=t.projectVisibilitySetting,F=t.createPledgeDialog_toggleDialog,M=t.createPledgeDialog_setProject,q=t.selectProjectVisibility_setProject;if(!b||!f||!y||!P)return Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsx)(x.a,{width:"100%",marginTop:20,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:o?o.settings.primaryColor:et})})})});if(!j||!g||!C||1===j.visibility&&(1===c.type||2===c.type)&&null!==a&&-1===a.findIndex((function(e){return e.anid===j.anid})))return Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,md:12,lg:12,children:Object(V.jsx)(pn,{})})});if(Sr(j)&&(2===c.type&&c.id!==j.issuerID||1===c.type||3===c.type&&!c.superAdmin&&c.anid!==j.anid))return Object(V.jsx)(I.a,{noGutters:!0,style:{marginLeft:10,marginRight:10},children:Object(V.jsx)(E.a,{xs:12,md:{span:10,offset:1},lg:{span:8,offset:2},children:Object(V.jsx)(x.a,{marginTop:40,hAlignContent:"center",children:Object(V.jsx)(A.a,{variant:"h5",align:"center",children:"This offer has been closed temporarily."})})})});if(1===j.visibility&&3===c.type&&!c.superAdmin&&c.anid!==j.anid)return Object(V.jsx)(I.a,{noGutters:!0,style:{marginLeft:10,marginRight:10},children:Object(V.jsx)(E.a,{xs:12,md:{span:10,offset:1},lg:{span:8,offset:2},children:Object(V.jsx)(x.a,{marginTop:40,hAlignContent:"center",children:Object(V.jsx)(A.a,{variant:"h5",align:"center",children:" You can only edit offers from your group."})})})});var W=p;if(W){W.sort((function(e,t){return e.commentedDate-t.commentedDate}));var Q=W.findIndex((function(e){return e.commentedBy===c.id}));if(-1!==Q){var H=p[Q];W.splice(Q,1),W.push(H)}W.reverse()}return W.forEach((function(e){e.replies.sort((function(e,t){return t.repliedDate-e.repliedDate}))})),Object(V.jsxs)(_.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:100},children:[Object(V.jsxs)(I.a,{noGutters:!0,style:{paddingTop:25,paddingBottom:25,backgroundColor:nt},children:[Sr(j)?Object(V.jsx)(E.a,{xs:{span:12,offset:0,order:0},sm:{span:12,offset:0,order:0},md:{span:12,offset:0,order:0},lg:{span:12,offset:0,order:0},children:Object(V.jsx)(x.a,{marginBottom:20,hAlignContent:"center",style:{backgroundColor:rt,padding:15},children:Object(V.jsx)(A.a,{variant:"body2",align:"center",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"This offer has been temporarily closed."})})})}):null,O?Object(V.jsx)(E.a,{xs:{span:12,offset:0,order:2},sm:{span:12,offset:0,order:2},md:{span:10,offset:1,order:2},lg:{span:10,offset:1,order:1},children:Object(V.jsx)(Fi.a,{elevation:3,style:{margin:12},square:!0,children:Object(V.jsxs)(I.a,{noGutters:!0,style:{padding:6},children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:5,order:1},lg:{span:3,order:1},children:Object(V.jsxs)(x.a,{hAlignContent:"center",vAlignContent:"center",height:"100%",width:"100%",style:{padding:10},children:[Object(V.jsx)(Rb.a,{color:"primary",style:{marginRight:15}}),Object(V.jsx)(A.a,{align:"left",variant:"body1",children:1===O.status?"You pledged \xa3".concat(Number(O.amount.toFixed(2)).toLocaleString(),"."):"You updated your pledge to \xa3".concat(Number(O.amount.toFixed(2)).toLocaleString(),".")})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:5,offset:2,order:2},lg:{span:3,offset:6,order:2},children:Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",style:{padding:10},children:Cr(j)?Object(V.jsx)(m.b,{to:{pathname:i?Un.replace(":groupUserName",i):Ln,search:"?project=".concat(j.id)},className:Object(v.b)(ot.nav_link_hover),children:Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",children:"Manage your pledge"})}):Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"secondary",children:"Offer has ended. You can't change your pledge anymore."})})})]})})}):null,Object(V.jsx)(E.a,{xs:{span:12,offset:0,order:3},sm:{span:12,offset:0,order:3},md:{span:10,offset:1,order:3},lg:{span:8,offset:2,order:2},style:{paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:40},children:Object(V.jsxs)(x.a,{column:!0,width:"100%",hAlignContent:"center",children:[Object(V.jsx)(A.a,{align:"center",variant:"h5",style:{marginBottom:12},children:e.shouldHideInformation()?"This is an offer":j.projectName}),Object(V.jsx)(A.a,{className:Object(v.b)(Pm.gray_text),align:"center",variant:"body1",style:{whiteSpace:"pre-line"},children:e.shouldHideInformation()?"in ".concat(j.sector," sector"):j.description}),3===c.type||2===c.type&&c.id===j.issuerID?Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",vAlignContent:"center",marginTop:20,children:hr(c,j)?Object(V.jsx)(m.b,{to:i?Fn.replace(":groupUserName",i).replace(":projectID",j.id):Mn.replace(":projectID",j.id),className:Object(v.b)(ot.nav_link_hover_without_changing_text_color),children:Object(V.jsxs)(G.a,{color:"default",variant:"outlined",size:"medium",className:Object(v.b)(ot.no_text_transform),children:[Object(V.jsx)(qu.a,{style:{marginRight:8,width:20,height:"auto"}}),"Edit offer"]})}):Object(V.jsxs)(G.a,{color:"default",variant:"outlined",size:"medium",className:Object(v.b)(ot.no_text_transform),disabled:!0,children:[Object(V.jsx)(qu.a,{style:{marginRight:8,width:20,height:"auto"}}),"Edit offer"]})}):null,c.id===j.issuerID?null:Object(V.jsxs)(x.a,{column:!0,hAlignContent:"center",children:[Object(V.jsx)(m.b,{to:e.shouldHideInformation()||j.hasOwnProperty("createdByGroupAdmin")&&j.createdByGroupAdmin?i?Qn.replace(":groupUserName",i).replace(":groupID",j.group.groupUserName):Vn.replace(":groupID",j.group.groupUserName):i?Tn.replace(":groupUserName",i).replace(":userID",C.id):kn.replace(":userID",C.id),className:Object(v.b)(ot.nav_link_hover,Pm.black_text),children:Object(V.jsx)(A.a,{align:"center",variant:"body2",style:{marginTop:23},children:e.shouldHideInformation()||j.hasOwnProperty("createdByGroupAdmin")&&j.createdByGroupAdmin?Object(V.jsxs)("u",{children:["by ","".concat(j.group.displayName)]}):Object(V.jsxs)("u",{children:["by ","".concat(C.firstName," ").concat(C.lastName)]})})}),j.hasOwnProperty("createdByGroupAdmin")&&j.createdByGroupAdmin?null:C.hasOwnProperty("linkedin")&&C.linkedin.trim().length>0?Object(V.jsx)("a",{href:C.linkedin,target:"_blank",rel:"noopener noreferrer",children:Object(V.jsx)("img",{alt:"linkedin_logo",src:r(386).default,style:{width:64,height:64}})}):null]})]})}),Object(V.jsx)(E.a,{xs:{span:12,order:1},sm:{span:12,order:1},md:{span:12,order:1},lg:{span:7,offset:1,order:3},style:{paddingLeft:20,paddingRight:20,height:s?mm:fm},children:e.shouldHideInformation()?Object(V.jsx)(te.a,{src:pr(1,j.group),style:{maxHeight:s?mm:fm,border:"1px solid ".concat(ye),width:"100%",objectFit:"scale-down"}}):j.Pitch.cover.map((function(e,t){return e.hasOwnProperty("removed")?null:1===e.fileType?Object(V.jsx)(Xr.a,{url:e.url,playsInline:!0,pip:!0,width:"100%",height:""===e.storageID?"100%":"auto",playing:!1,controls:!0},t):Object(V.jsx)(te.a,{src:e.url,style:{maxHeight:s?mm:fm,border:"1px solid ".concat(ye),width:"100%",objectFit:"scale-down"}},t)}))}),Object(V.jsx)(E.a,{xs:{span:12,order:4},sm:{span:12,order:4},md:{span:12,order:4},lg:{span:3,order:4},style:{paddingLeft:20,paddingRight:20},children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1,order:1},lg:{span:12,offset:0,order:1},children:Object(V.jsx)(x.a,{width:"100%",height:4,style:{backgroundColor:o?o.settings.primaryColor:et}})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:5,offset:1,order:2},lg:{span:12,offset:0,order:2},children:Object(V.jsx)(x.a,{column:!0,marginTop:18,children:mr(j)||fr(j)||Or(j)||xr(j)||vr(j)||yr(j)||Ar(j)?Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsxs)(x.a,{column:!0,marginRight:20,children:[Object(V.jsx)(A.a,{variant:"h5",color:"secondary",align:"left",children:"\xa3"+Number(j.Pitch.fundRequired.toFixed(2)).toLocaleString()}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"Funding goal"})]}),Object(V.jsx)(_j,{message:"Funding amount sought via Invest West.",placement:"top"})]}):Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsxs)(x.a,{column:!0,marginRight:20,children:[Object(V.jsx)(A.a,{variant:"h5",color:"primary",align:"left",children:"\xa3".concat(Number(cr(g).toFixed(2)).toLocaleString())}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"pledged of \xa3".concat(Number(j.Pitch.fundRequired.toFixed(2)).toLocaleString()," goal")})]}),Object(V.jsx)(_j,{message:"Total amount pledged via Invest West.",placement:"top"})]})})}),j.Pitch.hasOwnProperty("postMoneyValuation")?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:5,offset:1,order:3},lg:{span:12,offset:0,order:3},children:Object(V.jsxs)(x.a,{marginTop:20,vAlignContent:"center",children:[Object(V.jsxs)(x.a,{column:!0,marginRight:20,children:[Object(V.jsx)(A.a,{variant:"h5",color:"inherit",align:"left",children:"\xa3"+Number(j.Pitch.postMoneyValuation.toFixed(2)).toLocaleString()}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"Post money valuation"})]}),Object(V.jsx)(_j,{message:"This is the company post money valuation.",placement:"top"})]})}):null,Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:5,offset:0,order:4},lg:{span:12,offset:0,order:4},children:e.renderProjectStatus()}),"Yes"===j.Pitch.hasSEIS?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:1,offset:1,order:5},lg:{span:3,offset:0,order:5},children:Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,hAlignContent:"center",vAlignContent:"center",children:Object(V.jsx)(A.a,{variant:"body1",children:Object(V.jsx)("b",{children:"SEIS"})})})}):null,"Yes"===j.Pitch.hasEIS?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:1,offset:1,order:6},lg:{span:3,offset:0,order:6},children:Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},hAlignContent:"center",vAlignContent:"center",children:Object(V.jsx)(A.a,{variant:"body1",children:Object(V.jsx)("b",{children:"EIS"})})})}):null,zd(n.currentUser,j)?null:Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:10,offset:1,order:5},lg:{span:12,offset:0,order:7},style:{marginTop:15},children:[Object(V.jsx)(x.a,{column:!0,hAlignContent:"left",children:Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",children:Object(V.jsx)(G.a,{color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),disabled:e.shouldHideInformation()||1===c.type&&!l,onClick:function(){return e.toggleContactPitchOwnerDialog()},children:"Contact us"})})}),e.shouldHideInformation()?3===c.type?Object(V.jsx)(x.a,{column:!0,marginTop:20,children:Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:"You cannot see detailed information of this restricted offer."})}):Object(V.jsxs)(x.a,{column:!0,marginTop:20,children:[Object(V.jsxs)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:["Restricted to ",j.group.displayName," members."]}),Object(V.jsx)(m.b,{to:i?Qn.replace(":groupUserName",i).replace(":groupID",j.group.groupUserName):Vn.replace(":groupID",j.group.groupUserName),style:{marginTop:4},children:Object(V.jsx)(A.a,{variant:"body2",children:"Request access"})})]}):e.renderInvestorSelfCertifyReminder()]}),Cr(j)?1!==c.type||O?Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:10,offset:1,order:6},lg:{span:12,offset:0,order:6},style:{marginTop:30},children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:Object(V.jsxs)("u",{children:["Closes on ",rr(j.PrimaryOffer.expiredDate),"."]})})}):Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:10,offset:1,order:6},lg:{span:12,offset:0,order:6},style:{marginTop:30},children:[1!==c.type||l?Object(V.jsx)(m.b,{to:{pathname:i?Un.replace(":groupUserName",i):Ln,search:"?project=".concat(j.id)},className:Object(v.b)(ot.nav_link_hover),children:Object(V.jsx)(G.a,{style:{marginBottom:14},className:Object(v.b)(ot.no_text_transform),fullWidth:!0,variant:"outlined",color:"primary",size:"medium",children:"Pledge now"})}):Object(V.jsx)(G.a,{style:{marginBottom:14},className:Object(v.b)(ot.no_text_transform),fullWidth:!0,variant:"outlined",color:"primary",size:"medium",disabled:1===c.type&&!l,children:"Pledge now"}),e.renderInvestorSelfCertifyReminder(),Object(V.jsx)(A.a,{align:"left",variant:"body2",style:{marginTop:15},children:Object(V.jsxs)("u",{children:["Closes on ",rr(j.PrimaryOffer.expiredDate),"."]})})]}):null]})})]}),Object(V.jsxs)(I.a,{noGutters:!0,className:Object(v.b)(Pm.sticky_body_sections_bar),children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})}),Object(V.jsx)(E.a,{style:{padding:10},xs:{span:12,offset:0},sm:{span:12,offset:0},md:{span:12,offset:0},lg:{span:8,offset:2},children:Object(V.jsx)(x.a,{hAlignContent:"center",children:Object(V.jsxs)(Ib.a,{value:d,onChange:e.onTabChanged,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[3!==c.type||!c.superAdmin&&(c.superAdmin||c.anid!==j.anid)||mr(j)?null:Object(V.jsx)(Eb.a,{value:0,className:Object(v.b)(ot.tab_title),fullWidth:!0,label:"Control phases",style:{color:o?o.settings.secondaryColor:tt}}),Object(V.jsx)(Eb.a,{value:1,className:Object(v.b)(ot.tab_title),fullWidth:!0,label:"Campaign"}),Object(V.jsx)(Eb.a,{value:2,className:Object(v.b)(ot.tab_title),fullWidth:!0,label:"Documents"}),Object(V.jsx)(Eb.a,{value:3,className:Object(v.b)(ot.tab_title),fullWidth:!0,label:"Investor comments"}),Object(V.jsx)(Eb.a,{value:4,className:Object(v.b)(ot.tab_title),fullWidth:!0,label:"Extra information"})]})})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})})]}),Object(V.jsxs)(I.a,{noGutters:!0,className:Object(v.b)(Pm.main_body_section),children:[0!==d?null:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(A.a,{variant:"h5",children:" Control phases"}),Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:{span:12,order:1},sm:{span:12,order:1},md:{span:8,order:0},lg:{span:8,order:0},children:Object(V.jsxs)(tb.a,{nonLinear:!0,orientation:"vertical",activeStep:u,style:{marginTop:15},children:[Object(V.jsxs)(rb.a,{completed:!fr(j),children:[Object(V.jsx)(Db.a,{onClick:function(){return e.onAdminOfferStatesStepClick(0)},children:Object(V.jsx)(nb.a,{children:"Publish pitch"})}),Object(V.jsx)(Tb.a,{children:fr(j)?Object(V.jsxs)(x.a,{column:!0,width:"100%",marginTop:20,className:Object(v.b)(Pm.admin_state_control_box),children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Please check this offer carefully before publishing as this action cannot be reversed. You can control who can see this investment opportunity using the options below."}),Object(V.jsx)(Z.a,{style:{marginTop:25,marginBottom:20}}),Object(V.jsx)(fb,{}),Object(V.jsx)(Z.a,{style:{marginTop:35,marginBottom:25}}),R?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{label:"Feedback",placeholder:"Feedback for issuer",name:"rejectFeedback",value:U,fullWidth:!0,margin:"normal",variant:"outlined",required:!0,multiline:!0,rows:5,rowsMax:5,onChange:e.onTextChanged}),Object(V.jsxs)(x.a,{width:"100%",hAlignContent:"right",marginTop:10,children:[Object(V.jsx)(x.a,{marginRight:6,children:Object(V.jsx)(G.a,{fullWidth:!0,color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),disabled:0===U.trim().length,onClick:function(){return e.sendProjectBackToIssuer()},children:L?"Sending...":"Send"})}),Object(V.jsx)(x.a,{marginLeft:6,children:Object(V.jsx)(G.a,{fullWidth:!0,color:"secondary",variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return e.toggleRejectFeedback()},children:"Cancel"})})]})]}):null,R?null:qd(j)?Object(V.jsx)(G.a,{fullWidth:!0,color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),disabled:c.superAdmin,onClick:function(){return e.onMakeProjectGoLiveDecision({decision:!0,projectVisibilitySetting:B})},children:"Publish pitch"}):Object(V.jsxs)(x.a,{children:[Object(V.jsx)(x.a,{grow:!0,marginRight:10,children:Object(V.jsx)(G.a,{fullWidth:!0,color:"primary",variant:"contained",className:Object(v.b)(ot.no_text_transform),disabled:c.superAdmin,onClick:function(){return e.onMakeProjectGoLiveDecision({decision:!0,projectVisibilitySetting:B})},children:"Publish pitch"})}),Object(V.jsx)(x.a,{grow:!0,marginLeft:10,children:Object(V.jsx)(G.a,{fullWidth:!0,color:"secondary",variant:"outlined",className:Object(v.b)(ot.no_text_transform),disabled:c.superAdmin,onClick:function(){return e.toggleRejectFeedback()},children:"Send back to issuer"})})]}),c.superAdmin?Object(V.jsx)(A.a,{variant:"body1",color:"error",align:"left",style:{marginTop:20},children:"Only group admin can do this."}):null]}):Object(V.jsx)(x.a,{column:!0,width:"100%",marginTop:20,children:Object(V.jsx)(A.a,{color:kd(j)?"secondary":"primary",align:"left",variant:"body1",children:kd(j)?"This offer has been rejected.":Ed(j)?"This offer is in draft phase.":"This offer has been published."})})})]},0),Object(V.jsxs)(rb.a,{disabled:Td(j)||kd(j),completed:Fd(j)||Gd(j)||Bd(j)||Ud(j)||Ld(j),children:[Object(V.jsx)(Db.a,{onClick:function(){return e.onAdminOfferStatesStepClick(1)},children:Object(V.jsx)(nb.a,{error:Or(j),children:"Make decision for expired pitch"})}),Object(V.jsx)(Tb.a,{children:!Nd(j)&&!Rd(j)||Ud(j)||Ld(j)?Object(V.jsxs)(x.a,{column:!0,width:"100%",marginTop:20,children:[Object(V.jsx)(A.a,{color:wr(j)?"secondary":"primary",align:"left",variant:"body1",children:wr(j)?"This offer has been rejected.":4===j.Pitch.status?j.hasOwnProperty("createdByGroupAdmin")&&j.createdByGroupAdmin&&o&&j.anid===o.anid?"You can create a pledge page for this offer now.":"The issuer has been prompted to create their pledge page. You will then be able to check the pledge before publishing.":"This offer has moved to the pledge phase."}),j.hasOwnProperty("createdByGroupAdmin")&&j.createdByGroupAdmin&&o&&j.anid===o.anid&&4===j.Pitch.status?Object(V.jsx)(x.a,{marginTop:20,children:Object(V.jsx)(G.a,{color:"primary",variant:"outlined",size:"medium",className:Object(v.b)(ot.no_text_transform),onClick:function(){F(),M(j),q(j)},children:"Create pledge"})}):null]}):Object(V.jsx)(x.a,{column:!0,children:Rd(j)?Object(V.jsxs)(x.a,{column:!0,width:"100%",marginTop:20,marginBottom:20,className:Object(v.b)(Pm.admin_state_control_box),children:[Object(V.jsx)(A.a,{align:"left",variant:"body1",style:{marginBottom:35},children:"This pitch has expired. You can bring it back to live by updating the expiry date or close it."}),Object(V.jsx)(mj.a,{autoOk:!0,fullWidth:!0,variant:"dialog",inputVariant:"outlined",label:"Update expiry date for this pitch",format:"dd/MM/yyyy",minDate:er(1),value:N,InputAdornmentProps:{position:"start"},onChange:e.onDateChanged}),Object(V.jsx)(G.a,{variant:"contained",color:"primary",className:Object(v.b)(ot.no_text_transform),disabled:!N||isNaN(N)||N<er(0),style:{marginTop:25},onClick:e.bringPitchBackToLive,children:"Make pitch live again"}),Object(V.jsxs)(x.a,{column:!0,marginTop:100,children:[Object(V.jsx)(G.a,{fullWidth:!0,color:"secondary",className:Object(v.b)(ot.no_text_transform),variant:"contained",disabled:c.superAdmin,onClick:function(){return e.onMakeProjectGoToPledgePhaseDecision(!1)},children:"Close pitch"}),Object(V.jsx)(A.a,{align:"center",variant:"body2",style:{marginTop:12},children:Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"Please do it carefully as you cannot reverse your action."})})})]})]}):null})})]},1)]})}),Object(V.jsx)(E.a,{xs:{span:12,order:0},sm:{span:12,order:0},md:{span:4,order:1},lg:{span:4,order:1},children:Id(j)?Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return Ba(c,JSON.parse(JSON.stringify(j)))},disabled:3!==c.type||3===c.type&&c.anid!==j.anid,children:Md(j)?"Open again":"Close temporarily"}),c.superAdmin?Object(V.jsx)(A.a,{variant:"body2",align:"left",color:"error",style:{marginTop:12},children:"Only group admins can do this."}):null,Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginTop:15},children:Md(j)?"This offer will be opened again.":"This offer will be closed temporarily and it will no longer be visible to any investors until you open it again."})]}):null})]})]})}),1!==d?null:e.shouldHideInformation()?Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:3===c.type?Object(V.jsx)(x.a,{column:!0,marginTop:30,hAlignContent:"center",children:Object(V.jsxs)(A.a,{align:"center",variant:"h5",children:["Restricted to ",j.group.displayName," members."]})}):Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsxs)(A.a,{align:"left",variant:"h5",children:["Restricted to ",j.group.displayName," members."]}),Object(V.jsx)(m.b,{to:i?Qn.replace(":groupUserName",i).replace(":groupID",j.group.groupUserName):Vn.replace(":groupID",j.group.groupUserName),style:{marginTop:10},children:Object(V.jsx)(A.a,{variant:"body1",children:" Request access"})})]})}):Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:[j.Pitch.presentationDocument?Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(A.a,{variant:"h5",children:"Pitch deck"}),Object(V.jsx)(lm,{documents:j.Pitch.presentationDocument,shouldShowRiskWarningOnDownload:!0}),Object(V.jsx)(Z.a,{style:{marginTop:10}})]}):null,j.Pitch.presentationText?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(j.Pitch.presentationText.ops)},marginTop:30}):null]}),3!==d?null:e.shouldHideInformation()?Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:3===c.type?Object(V.jsx)(x.a,{column:!0,marginTop:30,hAlignContent:"center",children:Object(V.jsxs)(A.a,{align:"center",variant:"h5",children:["Restricted to ",j.group.displayName," members."]})}):Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsxs)(A.a,{align:"left",variant:"h5",children:["Restricted to ",j.group.displayName," members."]}),Object(V.jsx)(m.b,{to:i?Qn.replace(":groupUserName",i).replace(":groupID",j.group.groupUserName):Vn.replace(":groupID",j.group.groupUserName),style:{marginTop:10},children:Object(V.jsx)(A.a,{variant:"body1",children:"Request access"})})]})}):Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},children:Object(V.jsxs)(I.a,{children:[Object(V.jsxs)(E.a,{xs:{span:12,order:2},sm:{span:12,order:2},md:{span:8,order:1},lg:{span:8,order:1},style:{marginTop:40},children:[1===c.type?null:Object(V.jsx)(A.a,{align:"center",style:{padding:15,backgroundColor:at,marginBottom:30},variant:"body2",color:"inherit",children:"Only investors can post comments."}),h?W.length>0?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{padding:15,backgroundColor:nt},column:!0,children:W.map((function(t){return t.commentedBy===c.id?Object(V.jsxs)(x.a,{column:!0,marginTop:12,marginBottom:12,className:Object(v.b)(Pm.border_box),style:{backgroundColor:be,width:"100%"},children:[Object(V.jsx)(A.a,{style:{marginTop:15,marginBottom:10},variant:"body1",className:Object(v.b)(Pm.gray_text),align:"left",children:"Update your comment"}),Object(V.jsx)(Jl.a,{name:"currentCommentText",onChange:e.onTextChanged,value:S,fullWidth:!0,rows:5,multiline:!0,className:Object(v.b)(Pm.border_box)}),Object(V.jsxs)(x.a,{marginTop:25,width:"100%",hAlignContent:"right",children:[Object(V.jsx)(G.a,{size:"small",color:"default",variant:"text",onClick:e.onCancelUpdateCurrentComment,children:"Cancel"}),Object(V.jsx)(G.a,{style:{marginLeft:15},size:"small",color:"inherit",variant:"outlined",disabled:w&&w.comment===S||0===S.trim().length,onClick:e.onSubmitUpdateCurrentComment,children:"Update"})]}),t.replies.map((function(e){return Object(V.jsxs)(x.a,{height:"100%",width:"100%",marginLeft:24,marginTop:35,children:[Object(V.jsx)(Z.a,{style:{backgroundColor:Pm.gray_text,height:"auto",width:6}}),Object(V.jsxs)(x.a,{column:!0,marginLeft:10,marginRight:24,width:"100%",children:[Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(Pm.gray_text),align:"left",children:1===e.status?"Posted: ".concat(rr(e.repliedDate)):"Edited: ".concat(rr(e.repliedDate))}),Object(V.jsx)(m.b,{to:3===e.author.type?i?Qn.replace(":groupUserName",i).replace(":groupID",e.author.anid):Vn.replace(":groupID",e.author.anid):i?Tn.replace(":groupUserName",i).replace(":userID",e.author.id):kn.replace(":userID",e.author.id),children:Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:3===e.author.type?3===c.type&&c.superAdmin?"by group admin - ".concat(e.author.email):"by group admin":"by ".concat(e.author.firstName," ").concat(e.author.lastName)})}),Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginTop:12},children:e.text})]})]},e.id)}))]},t.id):Object(V.jsxs)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:be},column:!0,marginTop:12,marginBottom:12,children:[Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(Pm.gray_text),align:"left",children:1===t.status?"Posted: ".concat(rr(t.commentedDate)):"Edited: ".concat(rr(t.commentedDate))}),3===c.type&&c.superAdmin?Object(V.jsx)(m.b,{to:i?Tn.replace(":groupUserName",i).replace(":userID",t.author.id):kn.replace(":userID",t.author.id),children:Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:["by ",t.author.firstName," ",t.author.lastName]})}):null,Object(V.jsx)(A.a,{style:{marginTop:12},variant:"body1",align:"left",children:t.comment}),2===c.type&&c.id===C.id||3===c.type&&j.hasOwnProperty("createdByGroupAdmin")&&c.anid===j.anid?Object(V.jsx)(x.a,{marginTop:25,children:Object(V.jsx)(G.a,{variant:"outlined",size:"small",className:Object(v.b)(ot.no_text_transform),disabled:null!==D&&D.id===t.id&&null===k,onClick:function(){return e.onToggleReplyToComment(t,null)},children:"Reply"})}):null,null!==D&&D.id===t.id&&null===k?Object(V.jsx)(Am,{replyText:T,replyEdited:k,onToggleReplyToComment:e.onToggleReplyToComment,onSubmitCommentReply:e.onSubmitCommentReply,onTextChanged:e.onTextChanged}):null,t.replies.map((function(r){return Object(V.jsxs)(x.a,{height:"100%",width:"100%",marginLeft:24,marginTop:35,children:[Object(V.jsx)(Z.a,{style:{backgroundColor:Pm.gray_text,height:"auto",width:6}}),Object(V.jsxs)(x.a,{column:!0,marginLeft:10,marginRight:24,width:"100%",children:[Object(V.jsx)(A.a,{variant:"body2",className:Object(v.b)(Pm.gray_text),align:"left",children:1===r.status?"Posted: ".concat(rr(r.repliedDate)):"Edited: ".concat(rr(r.repliedDate))}),Object(V.jsx)(m.b,{to:3===r.author.type?i?Qn.replace(":groupUserName",i).replace(":groupID",r.author.anid):Vn.replace(":groupID",r.author.anid):i?Tn.replace(":groupUserName",i).replace(":userID",r.author.id):kn.replace(":userID",r.author.id),children:Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:3===r.author.type?3===c.type&&c.superAdmin?"by group admin - ".concat(r.author.email):"by group admin":"by ".concat(r.author.firstName," ").concat(r.author.lastName)})}),Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginTop:12},children:r.text}),2!==c.type&&(3!==c.type||c.superAdmin)||c.id!==C.id||c.id!==r.repliedBy?null:Object(V.jsxs)(x.a,{marginTop:16,children:[Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"secondary",onClick:function(){return e.onDeleteCommentReply(r)},style:{marginRight:10},children:["Delete",Object(V.jsx)(lu.a,{fontSize:"small",style:{marginLeft:6}})]}),Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"primary",onClick:function(){return e.onToggleReplyToComment(t,r)},children:["Edit",Object(V.jsx)(qu.a,{fontSize:"small",style:{marginLeft:6}})]})]}),null!==D&&D.id===t.id&&null!==k&&k.id===r.id?Object(V.jsx)(Am,{replyText:T,replyEdited:k,onToggleReplyToComment:e.onToggleReplyToComment,onSubmitCommentReply:e.onSubmitCommentReply,onTextChanged:e.onTextChanged}):null]})]},r.id)}))]},t.id)}))}):1!==c.type?Object(V.jsx)(x.a,{hAlignContent:"center",vAlignContent:"center",column:!0,style:{padding:30,backgroundColor:nt},children:Object(V.jsx)(A.a,{variant:"body2",children:"No comments yet"})}):Object(V.jsxs)(x.a,{hAlignContent:"center",vAlignContent:"center",column:!0,style:{padding:30,backgroundColor:nt},children:[Object(V.jsx)(A.a,{variant:"body2",children:"No comments yet"}),Object(V.jsxs)(x.a,{marginTop:25,column:!0,hAlignContent:"center",children:[Object(V.jsx)("div",{children:Object(V.jsx)(G.a,{size:"small",onClick:e.onPostACommentClick,variant:"outlined",color:"inherit",fullWidth:!1,disabled:br(j)&&1===c.type&&!l,children:"Post a comment"})}),e.renderInvestorSelfCertifyReminder()]})]}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",width:"100%",children:Object(V.jsx)(Ji.a,{color:o?o.settings.primaryColor:et})})]}),Object(V.jsx)(E.a,{xs:{span:12,order:1},sm:{span:12,order:1},md:{span:4,order:2},lg:{span:4,order:2},style:{marginTop:40},children:1===c.type?0===p.filter((function(e){return e.commentedBy===c.id})).length?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",style:{marginBottom:25},children:"This is your space to offer support and feedback to the issuer. Your identity will not be shared."}),h&&p.length>0?Object(V.jsx)("div",{children:Object(V.jsx)(G.a,{size:"small",onClick:e.onPostACommentClick,variant:"outlined",color:"inherit",fullWidth:!1,disabled:br(j)&&1===c.type&&!l,children:"Post a comment"})}):null,h&&p.length>0?e.renderInvestorSelfCertifyReminder():null]}):Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",children:"You have already commented on this investment opportunity. You can only edit your comment."}):Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",children:"All the comments from investors are displayed anonymously here."})})]})}),2!==d?null:e.shouldHideInformation()?Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:3===c.type?Object(V.jsx)(x.a,{column:!0,marginTop:30,hAlignContent:"center",children:Object(V.jsxs)(A.a,{align:"center",variant:"h5",children:["Restricted to ",j.group.displayName," members."]})}):Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsxs)(A.a,{align:"left",variant:"h5",children:["Restricted to ",j.group.displayName," members."]}),Object(V.jsx)(m.b,{to:i?Qn.replace(":groupUserName",i).replace(":groupID",j.group.groupUserName):Vn.replace(":groupID",j.group.groupUserName),style:{marginTop:10},children:Object(V.jsx)(A.a,{variant:"body1",children:"Request access"})})]})}):Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},style:{marginTop:30},children:[Object(V.jsx)(A.a,{variant:"h5",color:"inherit",children:"Supporting documents"}),j.Pitch.supportingDocuments&&-1!==j.Pitch.supportingDocuments.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(lm,{documents:j.Pitch.supportingDocuments,shouldShowRiskWarningOnDownload:!0}):Object(V.jsx)(A.a,{variant:"body1",color:"textSecondary",style:{marginTop:35},children:"No supporting documents uploaded."})]}),4!==d?null:e.shouldHideInformation()?Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:3===c.type?Object(V.jsx)(x.a,{column:!0,marginTop:30,hAlignContent:"center",children:Object(V.jsxs)(A.a,{align:"center",variant:"h5",children:["Restricted to ",j.group.displayName," members."]})}):Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsxs)(A.a,{align:"left",variant:"h5",children:["Restricted to ",j.group.displayName," members."]}),Object(V.jsx)(m.b,{to:i?Qn.replace(":groupUserName",i).replace(":groupID",j.group.groupUserName):Vn.replace(":groupID",j.group.groupUserName),style:{marginTop:10},children:Object(V.jsx)(A.a,{variant:"body1",children:"Request access"})})]})}):Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},style:{marginTop:30},children:[Object(V.jsx)(A.a,{variant:"h5",color:"inherit",children:"Extra information"}),j.Pitch.hasOwnProperty("financialRound")?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Financial round the company is looking for:\xa0\xa0",Object(V.jsx)("b",{children:j.Pitch.financialRound})]})}):null,Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:40,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Prior investment raised:\xa0\xa0",Object(V.jsx)("b",{children:0===j.Pitch.amountRaised?"none":"\xa3".concat(Number(j.Pitch.amountRaised.toFixed(2)).toLocaleString())})]})}),j.Pitch.hasOwnProperty("howFundIsBeingRaised")?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["How does the company plan to raise funds:  ",j.Pitch.howFundIsBeingRaised]})}):null,"Yes"===j.Pitch.hasSEIS?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Does this pitch have a SEIS badge: ",Object(V.jsxs)("b",{children:[" ",j.Pitch.hasSEIS]})]})}):Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Does this pitch have a SEIS badge: ",Object(V.jsx)("b",{children:" No "})]})}),"Yes"===j.Pitch.hasEIS?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Does this pitch have a EIS badge: ",Object(V.jsxs)("b",{children:[" ",j.Pitch.hasEIS]})]})}):Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Does this pitch have a EIS badge: ",Object(V.jsx)("b",{children:" No "})]})}),j.Pitch.hasOwnProperty("detailsAboutEarlierFundraisingRounds")?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Details about earlier fundraising rounds:",Object(V.jsx)("br",{}),Object(V.jsx)("br",{})," ",j.Pitch.detailsAboutEarlierFundraisingRounds]})}):null,j.Pitch.hasOwnProperty("qibSpecialNews")&&(o&&"qib"===o.groupUserName&&(3===c.type&&c.anid===o.anid||2===c.type&&c.id===j.issuerID)||!o&&3===c.type&&c.superAdmin)?Object(V.jsx)(x.a,{className:Object(v.b)(Pm.border_box),style:{backgroundColor:nt},column:!0,marginTop:30,vAlignContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["Special news that Briony should talk about:",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),j.Pitch.qibSpecialNews]})}):null]})]}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:Object(V.jsx)(Gu,{})})})]})},e.renderInvestorSelfCertifyReminder=function(){var t=e.props,r=t.groupUserName,n=t.user,a=t.investorSelfCertificationAgreement,i=t.project;return 1!==n.type?null:br(i)&&!a?Object(V.jsxs)(x.a,{column:!0,marginTop:20,children:[Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"textSecondary",children:"You cannot interact with this offer as you have not completed your self certification."}),Object(V.jsx)(m.b,{to:"".concat(r?En.replace(":groupUserName",r):Dn,"?tab=Profile"),style:{marginTop:4},children:Object(V.jsx)(A.a,{variant:"body2",children:Object(V.jsx)("u",{children:"Self certify"})})})]}):null},e.shouldHideInformation=function(){var t=e.props,r=t.project,n=t.user,a=t.groupsUserIsIn;if(3!==n.type)return(2!==n.type||n.id!==r.issuerID)&&(!a||2===r.visibility&&-1===a.findIndex((function(e){return e.anid===r.anid})));if(n.superAdmin)return!1;if(n.anid===r.anid)return!1;switch(r.visibility){case 3:return!1;case 2:case 1:default:return!0}},e.renderProjectStatus=function(){var t=e.props.project,r={text:"",color:""};if(fr(t)||Or(t)||Pr(t)||wr(t))return Object(V.jsx)(x.a,{marginTop:30,marginBottom:30,children:Object(V.jsx)(A.a,{variant:"body1",color:"error",align:"left",children:fr(t)?"Offer is being checked.":Or(t)?"Offer has been rejected.":"Offer closed."})});if(t.PrimaryOffer)switch(t.PrimaryOffer.status){case 1:return Object(V.jsxs)(x.a,{column:!0,marginTop:30,marginBottom:30,children:[Object(V.jsx)(A.a,{variant:"body2",color:"primary",align:"left",children:"Offer is in pledge phase"}),Object(V.jsx)(A.a,{variant:"h5",color:"textPrimary",align:"left",children:or(t.PrimaryOffer.expiredDate)}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"days remaining"})]});case 2:r.text="Pledge has expired.",r.color="primary"}else switch(t.Pitch.status){case 1:return Object(V.jsxs)(x.a,{column:!0,marginTop:30,marginBottom:30,children:[Object(V.jsx)(A.a,{variant:"body2",color:"primary",align:"left",children:"Offer is in pitch phase"}),Object(V.jsx)(A.a,{variant:"h5",color:"textPrimary",align:"left",children:or(t.Pitch.expiredDate)}),Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:"days remaining"})]});case 4:r.text="Awaiting pledge page to be created.",r.color="textSecondary";break;case 3:r.text="Offer failed as its pitch was rejected.",r.color="error";break;case 5:r.text="Pitch expired. Awaiting Group Admin review.",r.color="textSecondary"}return Object(V.jsx)(x.a,{marginTop:30,marginBottom:30,children:Object(V.jsx)(A.a,{align:"left",variant:"body1",color:r.color,children:r.text})})},e.shouldVoteDisabled=function(){var t=e.props,r=t.project,n=t.user,a=t.groupsUserIsIn,i=t.investorSelfCertificationAgreement;return r.issuerID===R.auth().currentUser.uid||3===n.type||(!a||(3!==r.visibility&&-1===a.findIndex((function(e){return e.anid===r.anid}))||(1===n.type&&!i||(2===n.type||(1!==r.Pitch.status||void 0)))))},e.displayVote=function(t){var r=e.props.votes,n=0,a=0;return r.forEach((function(e){var t=e.voted;""!==t&&(t?n+=1:a+=1)})),t?n:a},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:this.renderPageContent()})}}]),n}(n.Component),vm=function(e,t){if(0===e.length)return null;var r=e.findIndex((function(e){return e.investorID===t.id}));return-1!==r?e[r]:null},ym=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onClose=function(){e.props.onClose()},e.onCommentTextChanged=function(t){e.props.onCommentTextChanged(t)},e.onSubmitCommentClick=function(){e.props.onSubmitCommentClick()},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.open,r=e.project,n=e.commentText,a=e.commentSubmitClick;return r?Object(V.jsxs)(U.a,{fullWidth:!0,open:t,onClose:this.onClose,children:[Object(V.jsx)(L.a,{children:"Make a comment"}),Object(V.jsxs)(B.a,{children:[Object(V.jsx)(kb.a,{align:"left",children:"Please enter your comment here."}),Object(V.jsx)(Jl.a,{error:0===n.trim().length&&a,name:"commentText",value:n,onChange:this.onCommentTextChanged,rows:5,fullWidth:!0,multiline:!0,className:Object(v.b)(Pm.border_box)})]}),Object(V.jsxs)(F.a,{style:{paddingTop:20,paddingBottom:20,paddingRight:24},children:[Object(V.jsx)(G.a,{size:"small",color:"default",variant:"text",onClick:this.onClose,children:"Cancel"}),Object(V.jsx)(G.a,{disabled:n.trim().length>0&&a,style:{marginLeft:15},size:"small",color:"inherit",variant:"outlined",onClick:this.onSubmitCommentClick,children:"Post comment"})]})]}):null}}]),r}(n.Component),Am=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onToggleReplyToComment=function(t,r){e.props.onToggleReplyToComment(t,r)},e.onSubmitCommentReply=function(){e.props.onSubmitCommentReply()},e.onTextChanged=function(t){e.props.onTextChanged(t)},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props.replyText;return Object(V.jsxs)(x.a,{column:!0,marginTop:30,width:"auto",children:[Object(V.jsx)(Jl.a,{name:"replyText",value:t,onChange:this.onTextChanged,rows:5,fullWidth:!0,multiline:!0,className:Object(v.b)(Pm.border_box)}),Object(V.jsxs)(x.a,{marginTop:18,width:"100%",hAlignContent:"right",children:[Object(V.jsx)(G.a,{size:"small",color:"default",variant:"text",className:Object(v.b)(ot.no_text_transform),onClick:function(){return e.onToggleReplyToComment(null,null)},children:"Cancel"}),Object(V.jsx)(G.a,{disabled:0===t.trim().length,style:{marginLeft:15},size:"small",color:"inherit",variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:this.onSubmitCommentReply,children:"Submit"})]})]})}}]),r}(n.Component),Cm=Object(q.b)((function(e){return{AuthenticationState:e.AuthenticationState,isMobile:e.MediaQueryState.isMobile,groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,authStatus:e.auth.authStatus,authenticating:e.auth.authenticating,user:e.auth.user,userLoaded:e.auth.userLoaded,userBeingLoaded:e.auth.userBeingLoaded,groupsUserIsIn:e.auth.groupsUserIsIn,investorSelfCertificationAgreement_userID:e.manageInvestorSelfCertificationAgreement.userID,investorSelfCertificationAgreement:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreement,investorSelfCertificationAgreementLoaded:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementLoaded,investorSelfCertificationAgreementBeingLoaded:e.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementBeingLoaded,projectVisibilitySetting:e.manageSelectProjectVisibility.projectVisibilitySetting}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},investorSelfCertificationAgreement_setUser:function(t){return e(Ll(t))},loadInvestorSelfCertificationAgreement:function(){return e(Gl())},pledgesTable_setProject:function(t){return e(function(e){return function(t,r){var n=r().managePledgesTable.project;n&&n.id===e.id||t({type:Zb,project:e})}}(t))},pledgesTable_stopListeningForPledgesChanged:function(){return e((function(e,t){im&&(im.off("child_added"),im.off("child_changed"),im.off("child_removed"),im=null)}))},createPledgeDialog_toggleDialog:function(){return e(Mb())},createPledgeDialog_setProject:function(t){return e(function(e){return{type:qb,project:e}}(t))},selectProjectVisibility_setProject:function(t){return e(jb(t))},setFeedbackSnackbarContent:function(t,r,n){return e(Dr(t,r,n))},toggleContactPitchOwnerDialog:function(t,r){return e(um(t,r))}}}))(Om),Pm=v.a.create({gray_text:{color:"#616161"},faq_box:{border:"1px solid ".concat(it),boxShadow:"none",backgroundColor:be,marginBottom:12,":hover":{backgroundColor:Oe}},border_box:{border:"1px solid ".concat(it),padding:14},admin_state_control_box:{border:"1px solid ".concat(it),padding:24,backgroundColor:xe},sticky_body_sections_bar:{position:"sticky",top:0,backgroundColor:be,zIndex:1},main_body_section:{minHeight:600,padding:15,backgroundColor:be},black_text:{color:ge}}),wm=(r(126),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={clubAttributes:null,clubAttributesLoaded:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this;ka().then((function(t){e.setState({clubAttributes:t,clubAttributesLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.clubAttributes,r=e.clubAttributesLoaded;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:r?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(I.a,{noGutters:!0,style:{backgroundColor:xe},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingTop:30,paddingBottom:30,paddingLeft:12,paddingRight:12},children:Object(V.jsx)(A.a,{variant:"h5",align:"left",children:Object(V.jsx)("b",{children:"Privacy policy".toUpperCase()})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingLeft:12,paddingRight:12},children:t.privacyPolicy?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(t.privacyPolicy.ops)},marginTop:35}):null})})]})}):Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{width:"100%",marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})})})})}}]),r}(n.Component)),Sm=Object(q.b)((function(e){return{}}))(wm),_m=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={clubAttributes:null,clubAttributesLoaded:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this;ka().then((function(t){e.setState({clubAttributes:t,clubAttributesLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.clubAttributes,r=e.clubAttributesLoaded;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:r?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(I.a,{noGutters:!0,style:{backgroundColor:xe},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingTop:30,paddingBottom:30,paddingLeft:12,paddingRight:12},children:Object(V.jsx)(A.a,{variant:"h5",align:"left",children:Object(V.jsx)("b",{children:"Terms of use".toUpperCase()})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingLeft:12,paddingRight:12},children:t.termsOfUse?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(t.termsOfUse.ops)},marginTop:35}):null})})]})}):Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{width:"100%",marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})})})})}}]),r}(n.Component),Im=Object(q.b)((function(e){return{}}))(_m),Em=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={clubAttributes:null,clubAttributesLoaded:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this;ka().then((function(t){e.setState({clubAttributes:t,clubAttributesLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.clubAttributes,r=e.clubAttributesLoaded;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:r?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(I.a,{noGutters:!0,style:{backgroundColor:xe},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingTop:30,paddingBottom:30,paddingLeft:12,paddingRight:12},children:Object(V.jsx)(A.a,{variant:"h5",align:"left",children:Object(V.jsx)("b",{children:"Risk warning".toUpperCase()})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingLeft:12,paddingRight:12},children:t.riskWarning?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(t.riskWarning.ops)},marginTop:35}):null})})]})}):Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{width:"100%",marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})})})})}}]),r}(n.Component),Dm=Object(q.b)((function(e){return{}}))(Em),Tm=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={clubAttributes:null,clubAttributesLoaded:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this;ka().then((function(t){e.setState({clubAttributes:t,clubAttributesLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.clubAttributes,r=e.clubAttributesLoaded;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:r?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(I.a,{noGutters:!0,style:{backgroundColor:xe},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingTop:30,paddingBottom:30,paddingLeft:12,paddingRight:12},children:Object(V.jsx)(A.a,{variant:"h5",align:"left",children:Object(V.jsx)("b",{children:"Create pitch terms and conditions".toUpperCase()})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingLeft:12,paddingRight:12},children:t.createPitchTermsAndConditions?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(t.createPitchTermsAndConditions.ops)},marginTop:35}):null})})]})}):Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{width:"100%",marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})})})})}}]),r}(n.Component),km=Object(q.b)((function(e){return{}}))(Tm),Nm=["I am an investor","I am looking to raise funds","I am a potential partner or supplier","Other query"],Rm={email:"",subject:"-",name:"",phone:"",description:"",submitClick:!1,sending:!1,error:!1,hasSetData:!1},Um=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).onSubmitClick=function(e){e.preventDefault();var t=n.props,r=t.clubAttributes,a=t.groupProperties,i=t.user,o=t.setFeedbackSnackbarContent,s=n.state,c=s.email,l=s.subject,d=s.name,u=s.phone,p=s.description;if(0!==c.trim().length&&"-"!==l&&0!==d.trim().length&&0!==p.trim().length){n.setState({sending:!0});var h=a?a.anid:"InvestWestSupport";_h({serverURL:r.serverURL,emailType:0,data:{sender:c.toLowerCase(),receiver:h,subject:l,description:p,senderName:d,senderPhone:u}}).then((function(){n.setState(Object(b.a)({},Rm)),o("Your email has been successfully sent.","primary","bottom"),function(e){var t=e.userID,r=void 0===t?null:t,n=e.anid,a=void 0===n?null:n,i=e.email,o=e.name,s=e.phone,c=void 0===s?null:s,l=e.subject,d=e.description;return new Promise((function(e,t){var n=R.database().ref(ft),s=n.push().key;n.child(s).set({userID:r,groupContacted:a,email:i,name:o,phone:c,subject:l,description:d,id:s,time:$t()}).then((function(){return e(s)})).catch((function(e){}))}))}({userID:i?i.id:null,anid:a?a.anid:"Invest West super admin",email:c.toLowerCase(),name:d,phone:u,subject:l,description:p}).then((function(e){i&&aa({userID:i.id,activityType:4,interactedObjectLocation:ft,interactedObjectID:e,activitySummary:"Made an enquiry to %group% group.".replace("%group%",a.displayName)})})).catch((function(e){}))})).catch((function(e){n.setState({error:!0,sending:!1})}))}else n.setState({submitClick:!0})},n.onTextChanged=function(e){n.setState(Object(Bi.a)({},e.target.name,e.target.value))},n.state=Object(b.a)({},Rm),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.user,a=e.userLoaded,i=e.setGroupUserNameFromParams,o=e.setExpectedAndCurrentPathsForChecking,s=e.loadAngelNetwork,c=this.props.match;i(c.params.hasOwnProperty("groupUserName")?c.params.groupUserName:null),o(c.params.hasOwnProperty("groupUserName")?Hn:Jn,c.path),s(),t&&r&&a&&n&&(this.state.hasSetData||this.setState({email:n.email,name:n.firstName+" "+n.lastName,hasSetData:!0}))}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.user,s=n.userLoaded;(0,n.loadAngelNetwork)(),a&&i&&s&&o&&(this.state.hasSetData||this.setState({email:o.email,name:o.firstName+" "+o.lastName,hasSetData:!0}))}},{key:"render",value:function(){var e=this.props,t=e.shouldLoadOtherData,r=e.groupProperties,n=e.groupPropertiesLoaded,a=e.authenticating,i=e.userLoaded,o=e.clubAttributesLoaded,s=this.state,c=s.email,l=s.subject,d=s.name,u=s.phone,p=s.description,h=s.submitClick,j=s.sending;return n?t?!a&&i&&o?Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsx)(I.a,{noGutters:!0,style:{padding:14},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:11,offset:1},lg:{span:5,offset:2},children:Object(V.jsxs)("form",{onSubmit:this.onSubmitClick,children:[Object(V.jsxs)(x.a,{column:!0,marginTop:40,children:[Object(V.jsx)(A.a,{variant:"h4",children:Object(V.jsx)("b",{children:"Contact Us"})}),Object(V.jsx)(x.a,{width:"100%",marginTop:40,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,required:!0,error:h&&0===c.trim().length,children:[Object(V.jsx)(Ys.a,{children:" Your email address"}),Object(V.jsx)(Yr.a,{value:c,name:"email",variant:"outlined",margin:"dense",onChange:this.onTextChanged,error:h&&0===c.trim().length})]})}),Object(V.jsx)(x.a,{width:"100%",marginTop:25,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,required:!0,error:h&&"-"===l,children:[Object(V.jsx)(Ys.a,{children:"Subject"}),Object(V.jsxs)(Ws.a,{name:"subject",value:l,variant:"outlined",margin:"dense",onChange:this.onTextChanged,input:Object(V.jsx)(Qs.a,{}),error:h&&"-"===l,children:[Object(V.jsx)(Vs.a,{value:"-",children:"-"},-1),Nm.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)}))]})]})}),Object(V.jsx)(x.a,{width:"100%",marginTop:25,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"Name"}),Object(V.jsx)(Yr.a,{value:d,name:"name",variant:"outlined",margin:"dense",onChange:this.onTextChanged,error:h&&0===d.trim().length})]})}),Object(V.jsx)(x.a,{width:"100%",marginTop:25,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Ys.a,{children:"Phone number"}),Object(V.jsx)(Yr.a,{value:u,name:"phone",variant:"outlined",margin:"dense",onChange:this.onTextChanged})]})})]}),Object(V.jsx)(x.a,{width:"100%",marginTop:25,children:Object(V.jsxs)(Gi.a,{fullWidth:!0,required:!0,error:h&&0===p.trim().length,children:[Object(V.jsx)(Ys.a,{children:"Description"}),Object(V.jsx)(Yr.a,{value:p,name:"description",variant:"outlined",margin:"dense",multiline:!0,rows:5,rowsMax:5,onChange:this.onTextChanged,error:h&&0===p.trim().length}),Object(V.jsx)(Xs.a,{children:"Please enter the details of your request. A member of our support team will respond as soon as possible."})]})}),j?Object(V.jsx)(x.a,{marginTop:30,width:"100%",hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})}):null,Object(V.jsx)(I.a,{children:Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:4,style:{width:"100%",marginTop:50},children:Object(V.jsx)(Gi.a,{fullWidth:!0,children:Object(V.jsx)(G.a,{type:"submit",variant:"contained",className:Object(v.b)(ot.no_text_transform),color:"primary",fullWidth:!0,children:"Submit"})})})})]})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(tu,{})})})]}):Object(V.jsx)(x.a,{width:"100%",marginTop:20,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),r}(n.Component),Lm=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,user:e.auth.user,userLoaded:e.auth.userLoaded,authenticating:e.auth.authenticating,clubAttributes:e.manageClubAttributes.clubAttributes,clubAttributesLoaded:e.manageClubAttributes.clubAttributesLoaded}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},setFeedbackSnackbarContent:function(t,r,n){return e(Dr(t,r,n))}}}))(Um),Bm=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).autoSwitchToAppropriateHelpTab=function(){var e=a.props.user,t=a.state,r=t.helpType,n=t.autoSwitching;e&&3!==e.type&&(e.type!==r?n&&a.setState({helpType:e.type,autoSwitching:!1}):n&&a.setState({autoSwitching:!1}))},a.handleTabChanged=function(e,t){a.setState({helpType:t,expandedPanel:!1})},a.handleExpandPanel=function(e){return function(t,r){a.setState({expandedPanel:!!r&&e})}},a.renderGroupAdminHelp=function(){var e=a.state.expandedPanel;return Object(V.jsxs)(_.a,{children:[Object(V.jsx)(I.a,{noGutters:!0,style:{marginBottom:50},children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:6,offset:3},children:[Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_navigating_invest_west"===e,onChange:a.handleExpandPanel("group_admin_help_navigating_invest_west"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"1. Navigating Invest West"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Welcome to Invest West, we are excited to work with you. Here is a basic tutorial showing the key functions of the site."}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.1. My dashboard"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Once you have logged in you can view your dashboard by clicking the \u201cMy dashboard\u201d button at the top right of the page. This will take you to your unique dashboard where you can access all the site\u2019s functions."}),Object(V.jsx)("img",{alt:"group_admin_help_my_dashboard",src:r(638).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.2. Navigation bar"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Once logged on you can navigate the site using the navigation bar. The navigation bar is always on the left side and can be hidden by pressing the three consecutive white lines. On the navigation bar there are nine main buttons; home, settings, change password, audit log, explore offers, explore groups, forums, help and logout"}),Object(V.jsx)("img",{alt:"investor_help_navigation_bar",src:r(639).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.3. Notifications"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The bell Icon will notify you of any updates or changes to your group. This can be accessed at the top right of the dashboard."}),Object(V.jsx)("img",{alt:"group_admin_help_notifications",src:r(640).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.4. Home page"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The home page will display all the group management functions, from this page you can manage group members, manage access requests to your group, manage the group\u2019s offers and manage group admins."})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_user_management"===e,onChange:a.handleExpandPanel("group_admin_help_user_management"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"2. User management"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The manage group members tab is used to manage exiting members, invite new users and view details of the group\u2019s users. To access this function, click on the \u2018manage group members\u2019 tab from the home page. From this section you can view all user's names, emails, user types, the date invited/requested to join, registration status and the date they registered."}),Object(V.jsx)("img",{alt:"group_admin_help_user_management",src:r(641).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.1. Inviting a new user"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"legend",children:"From the manage group members tab you can invite a new user. You will need the users title, first name, last name, email and user type. To invite a new user, click on the \u2018Invite new user\u2019 button."}),Object(V.jsx)("img",{alt:"group_admin_help_inviting_a_new_user_01",src:r(642).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"legend",children:"After clicking the button, enter the user\u2019s details and select Issuer or Investor. An Issuer is a business owner or entrepreneur who will create their own offer. An Investor is someone who is looking to invest in offers and will view offers. Click the \u2018send\u2019 button to send the invite to the user\u2019s email. If the user does not receive the invitation, you can resend the invite (see resending invites in section 2.2). You may need to ask users to check their junk or spam folder."}),Object(V.jsx)("img",{alt:"group_admin_help_inviting_a_new_user_02",src:r(643).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.2. Resending invites"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"legend",children:"From the manage group members tab you can resend invites to users who have previously been invited but have not yet registered.  Once in the invitation and registrations tab select the user who has already been invited and click on the \u2018resend\u2019 button. Please remind any user who has not received their invites to check their junk or spam folders in their email account."}),Object(V.jsx)("img",{alt:"group_admin_help_inviting_a_new_user_03",src:r(644).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_manage_access_requests"===e,onChange:a.handleExpandPanel("group_admin_help_manage_access_requests"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"3. Manage access requests"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"The access request tab is used to accept or reject investors from joining your group. Other users on the platform can request to join your group to gain access to your group\u2019s offers. Click on the \u2018access requests\u2019 tab and this will show any pending requests, from there you can accept or reject individual requests."}),Object(V.jsx)("img",{alt:"group_admin_help_manage_access_requests",src:r(645).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_manage_group_requests"===e,onChange:a.handleExpandPanel("group_admin_help_manage_group_requests"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"4. Manage group members"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"To manage all members in your group, click \u2018manage group members\u2019 from the home page. The user management page allows you to view and modify group members information; be aware you can only edit the information for invited group members and not external group members who joined the group through an access request.  To view a user\u2019s information/activity or edit their details click on their name in the list or alternatively you can search by email address."}),Object(V.jsx)("img",{alt:"group_admin_help_manage_group_requests",src:r(646).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"If a user needs to be blocked or removed from the platform, please contact us support@investwest.online for assistance."})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_manage_offers"===e,onChange:a.handleExpandPanel("group_admin_help_manage_offers"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"5. Manage offers"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"From the manage offers tab, you can view and edit all your group\u2019s offers. The dropdown will show the offers title, its creator, its fundraising goal, and status."}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.1. Viewing an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To view an offer, open the manage offers tab and click on the title of the offer or you can also search for an offer by name."}),Object(V.jsx)("img",{alt:"group_admin_help_viewing_an_offer",src:r(647).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.2. Accepting and rejecting an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"The Invest West process starts with an issuer creating an offer. The new offer will appear in your manage offers table, the bell icon will also notify you that an offer requires your attention. Newly submitted offers show a status of \u2018Submitted. Awaiting group admin review\u2019. From this section you can view each offer by clicking on its title."}),Object(V.jsx)("img",{alt:"group_admin_help_accept_reject_offer",src:r(648).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"To accept or reject the offer scroll down to the bottom of the page and click on the control phases tab. From here you can change the offers default visibility (see what the different levels of visibility mean in section 10.1) as well as accept or reject the offer."}),Object(V.jsx)("img",{alt:"group_admin_help_accept_reject_offer_2",src:r(649).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.3. Editing an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"As a group admin you can edit an offer\u2019s details if necessary. This can be done in the manage offers tab. To edit an offer, you first need to view it by clicking on its title."}),Object(V.jsx)("img",{alt:"group_admin_help_edit_offer_01",src:r(650).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:'Then you can click on the edit button on the "Edit offer" button.'}),Object(V.jsx)("img",{alt:"group_admin_help_edit_offer_02",src:r(651).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.4. Temporarily closing an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"As a group admin you can temporarily close any offer (stop it being visible to any users). This can be done in the manage offers tab. Select the title of the offer (see viewing an offer in section 5.1), scroll down the bottom of the page, then click on control phases tab and press the \u2018Close temporally\u2019 button."}),Object(V.jsx)("img",{alt:"group_admin_help_temporarily_closing_an_offer",src:r(652).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.5. Reopening a temporarily closed offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:'If an offer has been temporally closed (see temporarily closing an offer in section 5.4), it can be re-opened. This can be done in the manage investment opportunities tab. Select the title of the offer (see viewing an offer in section 5.1), from here scroll down the bottom of the page, then click on control phases tab and press the "Open again" button. Please note, an offer can only be re-opened if it is temporarily closed.'}),Object(V.jsx)("img",{alt:"group_admin_help_reopening_a_temporarily_closed_offer",src:r(653).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_manage_group_admins"===e,onChange:a.handleExpandPanel("group_admin_help_manage_group_admins"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"6. Manage group admins"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"This page allows you to add another Group Admin to the Group. Please be advised, only add group admins if essential as each new admin will have full administer rights to the group. To add a group admin, click on the \u2018mange group admins\u2019 tab, then click on the \u2018Add new group admin\u2019 button and enter their email address and click the \u2018Add\u2019 button."}),Object(V.jsx)("img",{alt:"group_admin_help_manage_group_admins",src:r(654).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_explore_offers"===e,onChange:a.handleExpandPanel("group_admin_help_explore_offers"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"7. Exploring offers"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore offers made by other issuers click on the \u201cExplore offers\u201d button in the navigation bar. This page provides a view how Investors view offers. This page can also be used to give issuers and group admins an idea of how offers are structured."}),Object(V.jsx)("img",{alt:"group_admin_help_explore_offers",src:r(655).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_explore_groups"===e,onChange:a.handleExpandPanel("group_admin_help_explore_groups"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"8. Exploring groups"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore other groups, click on the \u201cExplore groups\u201d button in the navigation bar. "}),Object(V.jsx)("img",{alt:"group_admin_help_explore_groups",src:r(656).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_resources"===e,onChange:a.handleExpandPanel("group_admin_help_resources"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"9. Resources"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore resource on Invest West, click on the \u201cResources\u201d button in the navigation bar. From this page you can view a range of information and services applicable to you and your users."}),Object(V.jsx)("img",{alt:"group_admin_help_resources",src:r(657).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_settings"===e,onChange:a.handleExpandPanel("group_admin_help_settings"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"10. Settings"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The settings page allows you to configure the groups settings. This page allows you to add a group description, change the group\u2019s website, alter the colour scheme, manage the default visibility of the group, configure issuer settings and edit the groups FAQ\u2019s. This page can be accessed by clicking on the \u2018settings\u2019 button in the navigation bar. To view the groups details from the perspective of an external user not in your group click on the \u2018View groups public page\u2019 button."}),Object(V.jsx)("img",{alt:"group_admin_help_settings",src:r(658).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"10.1. Visibility level"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"As the group admin you can set the visibility level for offers created by your Group. With Invest west having multiple groups the level of visibility is used to define which of the group\u2019s investment opportunities are visible to other users."}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"10.1.1. Public"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Selecting \u201cPublic\u201d allows all Invest West users (including users who are not a member of your group) to see an offer\u2019s full details and also interact with the offer. Here is an example of a public offer, where all information on the offer is visible."}),Object(V.jsx)("img",{alt:"group_admin_help_public_offer",src:r(659).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"When an offer is public all investors can also see the offers campaign, pitch deck, documents, comments and extra information."})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"10.1.2. Restricted"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Selecting \u201cRestricted\u201d allows all Invest West users (including users who are not a member of your group) to see the offer\u2019s basic information only. Only member of your group will be able to see the offer\u2019s full details. Here is an example of the same offer as above but restricted. Investors who are not members of your group will not be able to see the offers campaign, pitch deck, documents, comments or extra information. If they want to see this, they will be prompted to join your group."}),Object(V.jsx)("img",{alt:"group_admin_help_restricted_offer",src:r(660).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"10.1.3. Private"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Private allows only members of your group to see the offer's information. No external user will be able to view the offer."})]})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_audit_log"===e,onChange:a.handleExpandPanel("group_admin_help_audit_log"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"11. Audit log"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The Audit Log is used to monitor all the activities made by the admins of the group."}),Object(V.jsx)("img",{alt:"group_admin_help_audit_log",src:r(661).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_password"===e,onChange:a.handleExpandPanel("group_admin_help_password"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"12. Password"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you have forgotten your password or cannot login you can reset your password from the login portal, from there you can click the \u201cForgot your password?\u201d button. Once clicked enter your email address and you will be sent a link to reset your password."}),Object(V.jsx)("img",{alt:"group_admin_help_password",src:r(662).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",children:Object(V.jsx)("b",{children:"12.1. Changing your password"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:'To change your password, click on the "Change password" button in the navigation bar. You will need to enter your old password then your new password twice.'}),Object(V.jsx)("img",{alt:"group_admin_help_change_password",src:r(663).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"group_admin_help_logging_out"===e,onChange:a.handleExpandPanel("group_admin_help_logging_out"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"13. Logging out"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:'To logout press the "Logout" button at the bottom of the navigation bar.'}),Object(V.jsx)("img",{alt:"group_admin_help_logging_out",src:r(664).default,className:Object(v.b)(Gm.image_style)})]})})]})]})}),Object(V.jsx)(I.a,{children:Object(V.jsx)(E.a,{children:Object(V.jsx)(A.a,{variant:"body1",align:"center",paragraph:!0,children:"Version 1.2.4"})})})]})},a.renderInvestorHelp=function(){var e=a.state.expandedPanel;return Object(V.jsxs)(I.a,{noGutters:!0,style:{marginBottom:50},children:[Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:6,offset:3},children:[Object(V.jsxs)(Mh.a,{expanded:"investor_help_navigating_invest_west"===e,onChange:a.handleExpandPanel("investor_help_navigating_invest_west"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"1. Navigating Invest West"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Welcome to Invest West, we are excited to work with you. Here is a basic tutorial showing the key functionalities of the site. "}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.1. My dashboard"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"When you have logged in you can view your dashboard by clicking the \u201cMy dashboard\u201d button at the top right of the page. This will take you to your unique dashboard where you can access all the site\u2019s functionality."}),Object(V.jsx)("img",{alt:"investor_help_my_dashboard",src:r(665).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.2. Navigation bar"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Once logged on you can navigate the site using the navigation bar. The navigation bar is always on the left side and can be hidden by pressing the three consecutive white lines. On the navigation bar there are nine main buttons home, profile button, my pledges, change password, explore groups, forums button, the contact us button, help and the logout button."}),Object(V.jsx)("img",{alt:"investor_help_navigation_bar",src:r(666).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.3. Notifications"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The bell Icon will notify you of any updates or changes to your account. This can be accessed at the top right of the dashboard."}),Object(V.jsx)("img",{alt:"investor_help_notifications",src:r(667).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_offers"===e,onChange:a.handleExpandPanel("investor_help_offers"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"2. Offers"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"The home page will display all the offers available to you, and their relevant information."}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.1. Viewing offers"})}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",component:"legend",children:["To view and interact with an offer, you need to click on that offer. The Icon at the bottom right of each tile shows the visibility of the offer. There are three visibility settings",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),Object(V.jsxs)("ul",{children:[Object(V.jsxs)("li",{children:[Object(V.jsx)(tc.a,{style:{marginRight:8}}),"Public offers are viewable to all investors on the system,"]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)(wd.a,{style:{marginRight:8}}),"Restricted offers are publicly viewable but with limited information and"]}),Object(V.jsx)("br",{}),Object(V.jsxs)("li",{children:[Object(V.jsx)(_d.a,{style:{marginRight:8}}),"Private offers are only viewable to investors that belong to the same group as the offer."]})]})]}),Object(V.jsx)("img",{alt:"investor_help_viewing_offers",src:r(668).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.2. Viewing the campaign"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"legend",children:"Once viewing an offer (see viewing offers in section 2.1), the information about the offer can be found down the page. You can see the campaign, attached documents, comments and see any extra information. To see the campaign, scroll down to the bottom of the page and click on \u201ccampaign\u201d tab, this will contain the campaign information in the form of text or a document; click on the document to download it."}),Object(V.jsx)("img",{alt:"investor_help_viewing_offers",src:r(669).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.3. Commenting on an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"legend",children:"Once viewing an offer (see viewing offers in section 2.1) you can comment on that offer. Comments are public and all users can view them. To make a comment navigate to the comments section at the bottom of the offer page and click on the \u201cinvestor comments\u201d button."}),Object(V.jsx)("img",{alt:"investor_help_viewing_offers",src:r(670).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{children:Object(V.jsx)("b",{children:"Note: You cannot interact with an offer until you have completed your self-certification form. See 5.3."})})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.4. Contacting the fundraiser"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",component:"legend",children:"Once viewing an offer (see viewing offers in section 2.1) you can contact the fundraiser by clicking the \u201cContact us\u201d button on the right hand side of the page."}),Object(V.jsx)("img",{alt:"investor_help_viewing_offers",src:r(671).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{children:Object(V.jsx)("b",{children:"Note: You cannot interact with an offer until you have completed your self-certification form. See 5.3."})})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_exploring_groups"===e,onChange:a.handleExpandPanel("investor_help_exploring_groups"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"3. Exploring groups"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore other groups and request to join them by clicking on the \u201cExplore groups\u201d button in the navigation bar."}),Object(V.jsx)("img",{alt:"investor_help_exploring_groups",src:r(672).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_resources"===e,onChange:a.handleExpandPanel("investor_help_resources"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"4. Resources"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore useful resources on Invest West, click on the \u201cResources\u201d button in the navigation bar. From this page you can view a range of content for investors, business owners and entrepreneurs."}),Object(V.jsx)("img",{alt:"investor_help_resources",src:r(673).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_your_profile"===e,onChange:a.handleExpandPanel("investor_help_your_profile"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"5. Your profile"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Your profile page is used to view or edit information about yourself, add or update your business profile and complete your self-certification form. To access your profile page, click on the \u201cProfile\u201d button in the navigation bar. You need to complete your self-certification form to interact with any offer."}),Object(V.jsx)("img",{alt:"investor_help_profile",src:r(674).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.1. Editing your profile"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"In the profile section you can add your LinkedIn account by inserting a URL to your LinkedIn profile in, don\u2019t forget to click the save button after you make any changes. You can also update your profile picture by clicking on the \u201cupdate profile picture\u201d button and attaching a photo. To view how users will see your profile click on the \u201cview my public profile\u201d button in the top right-hand side of the profile page."}),Object(V.jsx)("img",{alt:"investor_help_editing_your_profile",src:r(675).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.2. Setting up your business profile"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Setting up a business profile is optional, to do this you need to click on the \u201cI want to upload my business profile\u201d button."}),Object(V.jsx)("img",{alt:"investor_help_setting_up_business_profile",src:r(676).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.3. Self-certification"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"All Invest West users must complete a self-certification form. You can do this in the bottom of the \u201cProfile\u201d page. Select the appropriate statement for your circumstances from the drop-down box and read the full statement carefully. You will be prompted to recertify every 12 months."}),Object(V.jsx)("img",{alt:"investor_help_self_certification",src:r(677).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_password"===e,onChange:a.handleExpandPanel("investor_help_password"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"6. Password"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"6.1. Resetting your password"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you have forgotten your password or cannot login you can reset your password from the login portal, from there you can click the \u201cForgot your password?\u201d button. Once clicked enter your email address and you will be sent a link to reset your password."}),Object(V.jsx)("img",{alt:"investor_help_reset_password",src:r(678).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"6.2. Changing your password"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To change your password click on the \u201cChange password\u201d button in the navigation bar. You will need to enter your old password then your new password twice. If you don\u2019t know your password, contact us at (see support in section 7)."}),Object(V.jsx)("img",{alt:"investor_help_change_password",src:r(679).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_support"===e,onChange:a.handleExpandPanel("investor_help_support"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"7. Support"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you have any further questions or problems, you can get in touch with us by clicking on the \u201ccontact us\u201d button in the navigation bar."}),Object(V.jsx)("img",{alt:"investor_help_support_01",src:r(680).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Additionally, you can also contact us from the login page by clicking on the \u201ccontact us\u201d button at the top right of the page."}),Object(V.jsx)("img",{alt:"investor_help_support_02",src:r(681).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"investor_help_logging_out"===e,onChange:a.handleExpandPanel("investor_help_logging_out"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"8. Logging out"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:'To logout press the "Logout" button at the bottom of the navigation bar.'}),Object(V.jsx)("img",{alt:"investor_help_log_out",src:r(682).default,className:Object(v.b)(Gm.image_style)})]})})]})]}),Object(V.jsx)(A.a,{variant:"h2",align:"left",children:"13. Logging out"})]})},a.renderIssuerHelp=function(){var e=a.state.expandedPanel;return Object(V.jsx)(I.a,{noGutters:!0,style:{marginBottom:50},children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:6,offset:3},children:[Object(V.jsxs)(Mh.a,{expanded:"issuer_help_navigating_invest_west"===e,onChange:a.handleExpandPanel("issuer_help_navigating_invest_west"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"1. Navigating Invest West"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Welcome to Invest West, we are excited to work with you. Here is a basic tutorial showing the key functions of the site."}),Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.1. My dashboard"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Once you have logged in you can view your dashboard by clicking the \u201cMy dashboard\u201d button at the top right of the page. This will take you to your unique dashboard where you can access all the site\u2019s functionality. The home page will display all the offers on Invest West."}),Object(V.jsx)("img",{alt:"issuer_help_my_dashboard",src:r(683).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.2. Navigation bar"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Once logged on you can get around using the navigation bar. The navigation bar is always on the left side and can be hidden by pressing the three white lines. On the navigation bar there are nine main buttons; home, profile, change password, explore offers, explore groups, forums, contact us, help and the logout."}),Object(V.jsx)("img",{alt:"issuer_help_navigation_bar",src:r(684).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"1.3. Notifications"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"The bell Icon will notify you of any updates or changes to your account. This can be accessed at the top right of the dashboard."}),Object(V.jsx)("img",{alt:"issuer_help_notifications",src:r(685).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_my_offers"===e,onChange:a.handleExpandPanel("issuer_help_my_offers"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"2. My offers"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.1. Creating a new offer"})}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",paragraph:!0,children:["You need to set up a business profile before you can create your first offer (see setting up your business profile in section 5.2).",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"To create a new offer, click on the \u201cstart a new offer\u201d button located at the top left of the home page."]}),Object(V.jsx)("img",{alt:"issuer_help_create_new_offer_01",src:r(686).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Once you have clicked this button you will be taken to the five-step process for creating your offer, the sections marked with an Asterix are mandatory and must be filled out. You can save your funding round at any point and return to edit it later by clicking the \u201csave\u201d button located at the bottom right of the page."}),Object(V.jsx)("img",{alt:"issuer_help_create_new_offer_02",src:r(687).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Once you submit your offer you will be notified that it has been successfully uploaded. It will not be published until it has been checked and approved by your Group Administrator. You will be notified once your offer is approved (or rejected). If your offer is rejected, you will get an email with feedback from your Group Administrator."})]}),Object(V.jsx)("br",{}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.2. Managing an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"You can manage your offers from the My offers page, to view and edit an offer click on the offers title."}),Object(V.jsx)("img",{alt:"issuer_help_manage_offer",src:r(688).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsx)("br",{}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.3. Editing an offer"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:'To edit your offer, click on the "Edit offer" button on the offer\u2019s main page.'}),Object(V.jsx)("img",{alt:"issuer_help_edit_offer",src:r(689).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"2.3.1. Replying to comments"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If an investor comments on your offer you will be notified via the bell icon."}),Object(V.jsx)("img",{alt:"issuer_help_replying_to_comments_in_offer_01",src:r(690).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"From the offer\u2019s main page scroll down and click on the \u201cInvestor comments\u201d tab, then click on the \u201creply\u201d button to reply to the selected comment."}),Object(V.jsx)("img",{alt:"issuer_help_replying_to_comments_in_offer_02",src:r(691).default,className:Object(v.b)(Gm.image_style)})]})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_exploring_groups"===e,onChange:a.handleExpandPanel("issuer_help_exploring_groups"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"3. Exploring groups"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore other groups, click on the \u201cExplore offers\u201d button in the navigation bar. From this page you can click on specific groups to see the groups details."}),Object(V.jsx)("img",{alt:"issuer_help_exploring_groups",src:r(692).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_resources"===e,onChange:a.handleExpandPanel("issuer_help_resources"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"4. Resources"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To explore useful resource on Invest West, click on the \u201cResources\u201d button in the navigation bar. From this page you can view a range of content for business owners and entrepreneurs."}),Object(V.jsx)("img",{alt:"issuer_help_resources",src:r(693).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_your_profile"===e,onChange:a.handleExpandPanel("issuer_help_your_profile"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"5. Your profile"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:"Your profile page is used to view or edit information about yourself, add or update your business profile and upload formal documents. To access your profile page, click on the \u201cProfile\u201d button in the navigation bar. You need to set up a business profile before you can create your first offer."}),Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.1. Editing your profile"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"In the profile section you can add in your LinkedIn account by inserting a URL to your LinkedIn profile, don\u2019t forget to click the save button after you make any changes. You can also update your profile picture by clicking on the \u201cupdate profile picture\u201d button and attaching a photo."}),Object(V.jsx)("img",{alt:"issuer_help_edit_profile_01",src:r(694).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To view how investors will see your profile click on the \u201cview my public profile\u201d button in the top right-hand side of the profile page"}),Object(V.jsx)("img",{alt:"issuer_help_edit_profile_02",src:r(695).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"subtitle1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"5.2. Setting up your business profile"})}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["To take part in invest west activities you will need to set up your business profile. To set this up go to the profile page and scroll down to the \u201cbusiness profile\u201d section. You will need to fill out all fields with a *.",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"You can enter your registered office manually or search for your address by entering the postcode. The trading address is automatically set to the same as the registered address, if this is not the case for your business uncheck the box and enter in your trading address."]}),Object(V.jsx)("img",{alt:"issuer_help_setting_business_profile_01",src:r(696).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"When adding a director click the \u201cadd director\u201d button, type their full name in the box provide and then click the \u201cadd\u201d button. You must have multiple directors, but you need a minimum of one. Once all the mandatory fields have been completed the \u201cSave\u201d button will become available and you can click this button to finish setting up your business profile."}),Object(V.jsx)("img",{alt:"issuer_help_setting_business_profile_02",src:r(697).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_password"===e,onChange:a.handleExpandPanel("issuer_help_password"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"6. Password"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"6.1. Resetting your password"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you have forgotten your password or cannot login you can reset your password from the login portal, from there you can click the \u201cForgot your password?\u201d button. Once clicked enter your email address and you will be sent a link to reset your password."}),Object(V.jsx)("img",{alt:"issuer_help_reset_password",src:r(698).default,className:Object(v.b)(Gm.image_style)})]}),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",paragraph:!0,children:Object(V.jsx)("b",{children:"6.2. Changing your password"})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To change your password, click on the \u201cChange password\u201d button in the navigation bar. You will need to enter your old password then your new password twice. If you don\u2019t know your password, contact us at (see support in section 7)."}),Object(V.jsx)("img",{alt:"issuer_help_change_password",src:r(699).default,className:Object(v.b)(Gm.image_style)})]})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_support"===e,onChange:a.handleExpandPanel("issuer_help_support"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"7. Support"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"If you have any further questions or problems, you can get in touch with us by clicking on the \u201ccontact us\u201d button in the navigation bar."}),Object(V.jsx)("img",{alt:"issuer_help_support_01",src:r(700).default,className:Object(v.b)(Gm.image_style)}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Additionally, you can also contact us from the login page by clicking on the \u201ccontact us\u201d button at the top right of the page."}),Object(V.jsx)("img",{alt:"issuer_help_support_02",src:r(701).default,className:Object(v.b)(Gm.image_style)})]})})]}),Object(V.jsxs)(Mh.a,{expanded:"issuer_help_logging_out"===e,onChange:a.handleExpandPanel("issuer_help_logging_out"),children:[Object(V.jsx)(qh.a,{expandIcon:Object(V.jsx)(vh.a,{}),children:Object(V.jsx)(x.a,{column:!0,children:Object(V.jsx)(A.a,{variant:"h6",align:"left",children:"8. Logging out"})})}),Object(V.jsx)(Wh.a,{children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"To logout press the \u201clogout\u201d button at the bottom of the navigation bar."}),Object(V.jsx)("img",{alt:"issuer_help_log_out",src:r(702).default,className:Object(v.b)(Gm.image_style)})]})})]})]})})},a.state={helpType:1,autoSwitching:!0,expandedPanel:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setGroupUserNameFromParams,r=e.setExpectedAndCurrentPathsForChecking,n=e.loadAngelNetwork,a=this.props.match;t(a.params.hasOwnProperty("groupUserName")?a.params.groupUserName:null),r(a.params.hasOwnProperty("groupUserName")?zn:Yn,a.path),n(),this.autoSwitchToAppropriateHelpTab()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData;(0,n.loadAngelNetwork)(),a&&i&&this.autoSwitchToAppropriateHelpTab()}},{key:"render",value:function(){var e=this.state.helpType,t=this.props,r=t.groupProperties,n=t.shouldLoadOtherData,a=t.groupPropertiesLoaded,i=t.authStatus,o=t.authenticating,s=t.user,c=t.userLoaded;return a?n?o||!c?Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})}):i===co&&s?Object(V.jsxs)(_.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0,paddingBottom:50},children:[Object(V.jsx)(I.a,{noGutters:!0,style:{marginTop:40,marginBottom:60},children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:{span:6,offset:3},lg:{span:4,offset:4},children:[Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",marginBottom:20,children:Object(V.jsx)(Pi.a,{style:{fontSize:"7em",color:r?r.settings.primaryColor:et}})}),Object(V.jsx)(A.a,{variant:"h4",align:"center",color:"primary",children:"How can we help you?"}),3===s.type?null:Object(V.jsx)(x.a,{width:"100%",hAlignContent:"center",marginTop:40,children:Object(V.jsx)(Fi.a,{elevation:2,style:{width:"100%"},children:Object(V.jsxs)(Ib.a,{indicatorColor:"primary",textColor:"primary",variant:"fullWidth",value:e,onChange:this.handleTabChanged,children:[Object(V.jsx)(Eb.a,{value:1,label:"Investor",className:Object(v.b)(ot.no_text_transform)}),Object(V.jsx)(Eb.a,{value:2,label:"Issuer",className:Object(v.b)(ot.no_text_transform)})]})})})]})}),3===s.type?this.renderGroupAdminHelp():1===e?this.renderInvestorHelp():this.renderIssuerHelp()]}):Object(V.jsx)(jn,{}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),n}(n.Component),Fm=Object(q.b)((function(e){return{groupUserName:e.manageGroupFromParams.groupUserName,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,authStatus:e.auth.authStatus,authenticating:e.auth.authenticating,user:e.auth.user,userLoaded:e.auth.userLoaded}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())}}}))(Bm),Gm=v.a.create({image_style:{objectFit:"contain"}});!function(e){e.LoadingData="GroupDetailsEvents.LoadData",e.CompleteLoadingData="GroupDetailsEvents.CompleteLoadingData",e.SendingAccessRequest="GroupDetailsEvents.SendingAccessRequest",e.CompleteSendingAccessRequest="GroupDetailsEvents.CompleteSendingAccessRequest",e.RemovingAccessRequest="GroupDetailsEvents.RemovingAccessRequest",e.CompleteRemovingAccessRequest="GroupDetailsEvents.CompleteRemovingAccessRequest"}(dm||(dm={}));var Mm,qm={loadingData:!1,dataLoaded:!1,sendingAccessRequest:!1,removingAccessRequest:!1},Wm=function(e){return e.dataLoaded&&!e.loadingData&&e.group&&e.members&&e.offers&&void 0===e.error},Qm=function(e){return e.sendingAccessRequest},Vm=function(e){return e.removingAccessRequest},Hm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dm.LoadingData:return Object(b.a)(Object(b.a)({},qm),{},{loadingData:!0,dataLoaded:!1});case dm.CompleteLoadingData:var r=t;return Object(b.a)(Object(b.a)({},e),{},{loadingData:!1,dataLoaded:!0,group:void 0!==r.group?JSON.parse(JSON.stringify(r.group)):e.group,members:void 0!==r.members?Object(gn.a)(r.members):e.members,offers:void 0!==r.offers?Object(gn.a)(r.offers):e.offers,accessRequestsInstances:void 0!==r.accessRequestInstances?Object(gn.a)(r.accessRequestInstances):e.accessRequestsInstances,error:void 0!==r.error?{detail:r.error}:e.error});case dm.SendingAccessRequest:return Object(b.a)(Object(b.a)({},e),{},{sendingAccessRequest:!0,errorSendingAccessRequest:void 0});case dm.CompleteSendingAccessRequest:var n=t;return Object(b.a)(Object(b.a)({},e),{},{sendingAccessRequest:!1,accessRequestsInstances:void 0!==n.updatedAccessRequestInstances?Object(gn.a)(n.updatedAccessRequestInstances):e.accessRequestsInstances,errorSendingAccessRequest:void 0!==n.error?{detail:n.error}:e.errorSendingAccessRequest});case dm.RemovingAccessRequest:return Object(b.a)(Object(b.a)({},e),{},{removingAccessRequest:!0,errorRemovingAccessRequest:void 0});case dm.CompleteRemovingAccessRequest:var a=t;return Object(b.a)(Object(b.a)({},e),{},{removingAccessRequest:!1,accessRequestsInstances:void 0!==a.updatedAccessRequestInstances?Object(gn.a)(a.updatedAccessRequestInstances):e.accessRequestsInstances,errorRemovingAccessRequest:void 0!==a.error?{detail:a.error}:e.errorRemovingAccessRequest});default:return e}},Jm=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.loadData(this.props.match.params.viewedGroupUserName)}},{key:"render",value:function(){var e,t,r,n,a,i,o,s,c,l,d,u,p,h,j=this.props,g=j.MediaQueryState,b=j.ManageGroupUrlState,m=j.AuthenticationState,f=j.GroupDetailsLocalState,O=j.sendAccessRequest,x=j.removeAccessRequest,y=m.currentUser;if(!y)return null;var C,P=bn(y);if(!(C=f).dataLoaded&&C.loadingData)return Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",marginTop:"50px",children:Object(V.jsx)(k.BeatLoader,{color:sd(b).palette.primary.main})});if(function(e){return e.dataLoaded&&!e.loadingData&&void 0!==e.error}(f)||!Wm(f))return Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"50px",children:Object(V.jsx)(A.a,{variant:"h5",color:"error",align:"center",children:"Error loading page. Please retry."})});var w=void 0;P||(w=m.groupsOfMembership.find((function(e){var t;return e.group.anid===(null===(t=f.group)||void 0===t?void 0:t.anid)})));var S,_=!1;(function(e){return Wm(e)&&void 0!==e.accessRequestsInstances})(f)&&(_=-1!==(null===(S=f.accessRequestsInstances)||void 0===S?void 0:S.findIndex((function(e){var t;return e.group.anid===(null===(t=f.group)||void 0===t?void 0:t.anid)}))));return Object(V.jsxs)(Vl.a,{paddingY:g.isMobile?"15px":"40px",children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:Object(V.jsx)(Vl.a,{children:Object(V.jsx)(Fi.a,{children:Object(V.jsx)(Vl.a,{padding:"20px",children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:{span:12,order:1},sm:{span:12,order:1},md:{span:12,order:1},lg:{span:3,order:1},children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(V.jsx)(hi.a,{href:null!==(e=null===(t=f.group)||void 0===t?void 0:t.website)&&void 0!==e?e:"",target:"_blank",children:Object(V.jsx)(te.a,{alt:"".concat(null===(r=f.group)||void 0===r?void 0:r.displayName," logo"),src:null!==(n=Nu(null!==(a=f.group)&&void 0!==a?a:null))&&void 0!==n?n:void 0,style:{width:"100%",height:"auto",padding:20,objectFit:"scale-down"}})})})}),Object(V.jsx)(E.a,{xs:{span:12,order:2},sm:{span:12,order:2},md:{span:12,order:2},lg:{span:9,order:2},children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",children:[Object(V.jsx)(A.a,{align:"center",variant:"h4",children:null===(i=f.group)||void 0===i?void 0:i.displayName}),P?null:w?Object(V.jsxs)(Vl.a,{marginTop:"25px",children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",children:[Object(V.jsx)(lp.a,{fontSize:"small",color:"primary"}),Object(V.jsx)(Vl.a,{width:"6px"}),Object(V.jsx)(A.a,{variant:"body1",align:"center",color:"textSecondary",children:(null===(o=mn(m.groupsOfMembership))||void 0===o?void 0:o.group.anid)===w.group.anid?"Home member":"Platform member"})]}),Object(V.jsx)(Vl.a,{marginTop:"5px",children:Object(V.jsxs)(A.a,{variant:"body1",align:"center",color:"textSecondary",children:["Joined on: ",tr(w.joinedDate)]})})]}):Object(V.jsx)(Vl.a,{marginTop:"25px",children:_?Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return x()},disabled:Vm(f),children:Vm(f)?"Cancelling ...":"Cancel request"}):Object(V.jsx)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return O()},disabled:Qm(f),children:Qm(f)?"Sending request ...":"Join Group"})})]})})]})})})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:Object(V.jsx)(Vl.a,{marginTop:"25px",children:Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Vl.a,{padding:"20px",children:[Object(V.jsx)(A.a,{variant:"h6",children:"About"}),Object(V.jsx)(Vl.a,{marginTop:"18px",whiteSpace:"pre-line",children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:null===(s=f.group)||void 0===s?void 0:s.description})}),Object(V.jsx)(Vl.a,{marginTop:"18px",children:Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["For more information, visit us at:\xa0",Object(V.jsx)(Ad,{url:null!==(c=null===(l=f.group)||void 0===l?void 0:l.website)&&void 0!==c?c:"",target:"_blank",color:"none",activeColor:"none",activeUnderline:!0,component:"a",childComponent:null!==(d=null===(u=f.group)||void 0===u?void 0:u.website)&&void 0!==d?d:"unknown"})]})})]})})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:6,offset:3},children:Object(V.jsx)(Vl.a,{marginTop:"25px",children:Object(V.jsx)(Fi.a,{children:Object(V.jsxs)(Vl.a,{padding:"20px",children:[Object(V.jsx)(A.a,{variant:"h6",children:"Statistics"}),Object(V.jsx)(Vl.a,{marginTop:"20px",border:"1px solid ".concat(Hl.a.grey[300]),bgcolor:nt,children:Object(V.jsxs)(I.a,{children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsxs)(Vl.a,{padding:"18px",children:[Object(V.jsx)(A.a,{variant:"h4",align:"left",children:null===(p=f.members)||void 0===p?void 0:p.length}),Object(V.jsx)(Vl.a,{height:"2px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Members"})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:6,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",children:[Object(V.jsx)(Vl.a,{children:Object(V.jsx)(Z.a,{orientation:"vertical"})}),Object(V.jsxs)(Vl.a,{padding:"18px",children:[Object(V.jsx)(A.a,{variant:"h4",align:"left",children:null===(h=f.offers)||void 0===h?void 0:h.length}),Object(V.jsx)(Vl.a,{height:"2px"}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Investment opportunities"})]})]})})]})})]})})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(tu,{})})})]})}}]),r}(n.Component),zm=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,GroupDetailsLocalState:e.GroupDetailsLocalState}}),(function(e){return{loadData:function(t){return e((r=t,function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,n){var a,i,o,s,c,l,d,u,p,h,j;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n().GroupDetailsLocalState.accessRequestsInstances,t({type:dm.LoadingData}),i=n().AuthenticationState.currentUser,o={type:dm.CompleteLoadingData},i){e.next=7;break}return o.error="Unauthenticated user.",e.abrupt("return",t(o));case 7:if(void 0!==r){e.next=10;break}return o.error="Invalid request.",e.abrupt("return",t(o));case 10:return e.prev=10,e.next=13,(new $l).getGroup(r);case 13:return s=e.sent,c=s.data,e.next=17,(new $l).fetchGroupMembers(c.anid);case 17:return l=e.sent,d=l.data,e.next=21,(new dd).fetchOffers({phase:"all",group:c.anid,orderBy:ed.Group});case 21:if(u=e.sent,p=u.data,(h=bn(i))&&(!h||h.superAdmin)){e.next=30;break}if(a){e.next=30;break}return e.next=28,(new Ju).fetchAccessRequests({user:i.id,orderBy:"user"});case 28:j=e.sent,o.accessRequestInstances=j.data;case 30:return o.group=c,o.members=d,o.offers=p,e.abrupt("return",t(o));case 36:return e.prev=36,e.t0=e.catch(10),o.error=e.t0.toString(),e.abrupt("return",t(o));case 40:case"end":return e.stop()}}),e,null,[[10,36]])})));return function(t,r){return e.apply(this,arguments)}}()));var r},sendAccessRequest:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().AuthenticationState.currentUser){e.next=3;break}return e.abrupt("return");case 3:if(a=r().GroupDetailsLocalState.group,t({type:dm.SendingAccessRequest}),i={type:dm.CompleteSendingAccessRequest},a){e.next=9;break}return i.error="Invalid request.",e.abrupt("return",t(i));case 9:return e.prev=9,e.next=12,(new Ju).createAccessRequest(n.id,a.anid);case 12:return o=e.sent,s=o.data,c=r().ExploreGroupsLocalState.accessRequestsInstances,i.updatedAccessRequestInstances=void 0!==c?[].concat(Object(gn.a)(c),[s]):[s],e.abrupt("return",t(i));case 19:return e.prev=19,e.t0=e.catch(9),i.error=e.t0.toString(),e.abrupt("return",t(i));case 23:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t,r){return e.apply(this,arguments)}}())},removeAccessRequest:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().AuthenticationState.currentUser){e.next=3;break}return e.abrupt("return");case 3:if(a=r().GroupDetailsLocalState.group,t({type:dm.RemovingAccessRequest}),i={type:dm.CompleteRemovingAccessRequest},a){e.next=9;break}return i.error="Invalid request.",e.abrupt("return",t(i));case 9:if(e.prev=9,o=r().GroupDetailsLocalState.accessRequestsInstances){e.next=13;break}return e.abrupt("return",t(i));case 13:if(-1!==(s=o.findIndex((function(e){return e.group.anid===a.anid&&e.user.id===n.id})))){e.next=16;break}return e.abrupt("return",t(i));case 16:return c=Object(gn.a)(o),l=c[s].request,e.next=20,(new Ju).removeAccessRequest(l.id);case 20:return c.splice(s,1),i.updatedAccessRequestInstances=c,e.abrupt("return",t(i));case 25:return e.prev=25,e.t0=e.catch(9),i.error=e.t0.toString(),e.abrupt("return",t(i));case 29:case"end":return e.stop()}}),e,null,[[9,25]])})));return function(t,r){return e.apply(this,arguments)}}())}}}))(Jm),Ym=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={clubAttributes:null,clubAttributesLoaded:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this;ka().then((function(t){e.setState({clubAttributes:t,clubAttributesLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.clubAttributes,r=e.clubAttributesLoaded;return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:r?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsxs)(E.a,{xs:12,sm:12,md:12,lg:12,children:[Object(V.jsx)(I.a,{noGutters:!0,style:{backgroundColor:xe},children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingTop:30,paddingBottom:30,paddingLeft:12,paddingRight:12},children:Object(V.jsx)(A.a,{variant:"h5",align:"left",children:Object(V.jsx)("b",{children:"Marketing preferences".toUpperCase()})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:{span:8,offset:2},style:{paddingLeft:12,paddingRight:12},children:t.marketingPreferences?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(t.marketingPreferences.ops)},marginTop:35}):null})})]})}):Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(x.a,{width:"100%",marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})})})})}}]),r}(n.Component),Km=Object(q.b)((function(e){return{}}))(Ym),Xm=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).loadData=function(){var e=n.props.match.params.userID,t=n.props.editUserProfile_startOriginalUserChangedListener,r=n.state,a=r.userToBeEdited,i=r.userToBeEditedLoaded,o=r.loadingUserToBeEdited;a||i||o||(n.setState({userToBeEditedLoaded:!1,loadingUserToBeEdited:!0}),ma(e).then((function(r){ua(e).then((function(e){r.groupsUserIsIn=e,n.setState({userToBeEdited:JSON.parse(JSON.stringify(r)),userToBeEditedLoaded:!0,loadingUserToBeEdited:!1}),t()})).catch((function(e){n.setState({userToBeEdited:null,userToBeEditedLoaded:!0,loadingUserToBeEdited:!1})}))})).catch((function(e){n.setState({userToBeEdited:null,userToBeEditedLoaded:!0,loadingUserToBeEdited:!1})})))},n.state={userToBeEdited:null,userToBeEditedLoaded:!1,loadingUserToBeEdited:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData,n=e.setGroupUserNameFromParams,a=e.setExpectedAndCurrentPathsForChecking,i=e.loadAngelNetwork,o=this.props.match;n(o.params.hasOwnProperty("groupUserName")?o.params.groupUserName:null),a(o.params.hasOwnProperty("groupUserName")?Nn:Rn,o.path),i(),t&&r&&this.loadData()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData,o=n.admin,s=n.loadAngelNetwork,c=n.editUserProfile_setOriginalUserAndEditedUser,l=n.activitiesTable_setUser,d=this.state.userToBeEdited;s(),a&&i&&(this.loadData(),o&&d&&(c(d),l(d)))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.editUserProfile_setOriginalUserAndEditedUser,r=e.activitiesTable_setUser,n=e.activitiesTable_stopListeningForActivitiesChanged,a=e.editUserProfile_stopOriginalUserChangedListener;t(null),a(),r(null),n()}},{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.shouldLoadOtherData,n=e.groupPropertiesLoaded,a=e.authStatus,i=e.authenticating,o=e.admin,s=e.adminLoaded,c=this.state,l=c.userToBeEdited,d=c.userToBeEditedLoaded;return n?r?!i&&s&&d?a!==co||!o||o&&3!==o.type||!l||!o.superAdmin&&l.hasOwnProperty("groupsUserIsIn")&&-1===l.groupsUserIsIn.findIndex((function(e){return e.anid===o.anid}))?Object(V.jsx)(jn,{}):Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:8,offset:2},lg:{span:8,offset:2},style:{marginTop:30,marginBottom:30},children:l?Object(V.jsx)(nu,{}):null})})}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:t?t.settings.primaryColor:et})}):Object(V.jsx)(jn,{}):Object(V.jsx)(x.a,{marginTop:30,hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:et})})}}]),r}(n.Component),Zm=Object(q.b)((function(e){return{AuthenticationState:e.AuthenticationState,groupProperties:e.manageGroupFromParams.groupProperties,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,authStatus:e.auth?e.auth.authStatus:null,authenticating:!!e.auth&&e.auth.authenticating,admin:e.auth?e.auth.user:null,adminLoaded:!!e.auth&&e.auth.userLoaded,editUserProfile_userEdited:e.editUser.userEdited,projectsTable_user:e.projectsTable?e.projectsTable.user:null}}),(function(e){return{setGroupUserNameFromParams:function(t){return e(Xi(t))},setExpectedAndCurrentPathsForChecking:function(t,r){return e($i(t,r))},loadAngelNetwork:function(){return e(ro())},editUserProfile_setOriginalUserAndEditedUser:function(t){return e(zc(t))},editUserProfile_startOriginalUserChangedListener:function(){return e((function(e,t){var r=t().auth.user,n=t().editUser.originalUser;r&&n&&r.id!==n.id&&(sl||(sl=R.database().ref(ht).child(n.id)).on("value",(function(t){var r=t.val();r&&(r.groupsUserIsIn=n.groupsUserIsIn,e({type:cl,userChanged:r}))})))}))},editUserProfile_stopOriginalUserChangedListener:function(){return e(ll())},activitiesTable_setUser:function(t){return e(vc(t))},activitiesTable_stopListeningForActivitiesChanged:function(){return e(_c())},setFeedbackSnackbarContent:function(t,r,n){return e(Dr(t,r,n))}}}))(Xm),$m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e,t,n,a=this.props,i=a.ManageGroupUrlState,o=a.AuthenticationState,s=a.MediaQueryState;return Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0,position:"fixed",height:"100% !important",overflowY:"auto",top:0},children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(Vl.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingX:"30px",paddingY:"20px",children:[Object(V.jsx)(Ad,{url:yn.constructContactUsRoute(this.props.match.params),color:"black",activeColor:sd(i).palette.primary.main,activeUnderline:!1,component:"nav-link",childComponent:Object(V.jsx)(A.a,{variant:"body1",children:"Contact us"})}),Object(V.jsx)(Vl.a,{width:"35px"}),Object(V.jsx)(Vl.a,{width:"35px"}),Object(V.jsx)(Ad,{url:xs(o)?"":vs(o)?yn.constructDashboardRoute(this.props.match.params,i,o):yn.constructSignInRoute(this.props.match.params),color:"black",activeColor:sd(i).palette.primary.main,activeUnderline:!1,component:"a",childComponent:Object(V.jsx)(G.a,{color:"primary",className:Object(v.b)(ot.no_text_transform),variant:"contained",size:"medium",children:xs(o)?"":vs(o)?"Dashboard":"Sign in"})})]})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",height:"100%",minHeight:"100vh",bgcolor:Xd(sd(i).palette.primary.main,.12),children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:3,paddingY:"50px",children:[Object(V.jsx)(hi.a,{href:null!==(e=null===(t=i.group)||void 0===t?void 0:t.website)&&void 0!==e?e:"",target:"_blank",children:ad(i)?null:Object(V.jsx)(te.a,{alt:"logo",src:id(i)?Nu(i.group):r(114).default,style:{width:"auto",height:s.isMobile?160:220}})}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(A.a,{color:"primary",variant:"h2",align:"center",children:ad(i)?"":id(i)?null===(n=i.group)||void 0===n?void 0:n.displayName:"Invest West"}),id(i)?null:Object(V.jsx)(Vl.a,{color:Hl.a.blueGrey[500],marginTop:"20px",children:Object(V.jsx)(A.a,{variant:"h4",align:"center",children:"Connecting businesses and investors"})})]}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end",flexGrow:1,children:[Object(V.jsx)(te.a,{alt:"front_footer",src:r(703).default,style:{objectFit:"fill"}}),Object(V.jsx)(Vl.a,{height:"90px",bgcolor:Xd(sd(i).palette.primary.main,.75)})]})]})})})]})}}]),n}(n.Component),ef=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,MediaQueryState:e.MediaQueryState}}))($m);!function(e){e.ResetAllStates="SignInEvents.ResetAllStates",e.TextChanged="SignInEvents.TextChanged",e.TogglePasswordVisibility="SignInEvents.TogglePasswordVisibility",e.SignInEmailError="SignInEvents.SignInEmailError",e.SignInPasswordError="SignInEvents.SignInPasswordError",e.ClearErrors="SignInEvents.ClearErrors",e.ToggleResetPasswordDialog="SignInEvents.ToggleResetPasswordDialog",e.ProcessingResetPasswordRequest="SignInEvents.ProcessingResetPasswordRequest",e.CompleteProcessingResetPasswordRequest="SignInEvents.CompleteProcessingResetPasswordRequest"}(Mm||(Mm={}));var tf,rf=function(){return function(e,t){return e({type:Mm.ToggleResetPasswordDialog})}},nf={signInEmail:"",signInPassword:"",showPassword:!1,errorSignInEmail:!1,errorSignInPassword:!1,showResetPasswordDialog:!1,resetPasswordDialogEmail:"",resetPasswordDialogProcessing:!1,resetPasswordDialogEmailSent:!1},af=function(e){return e.resetPasswordDialogProcessing},of=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mm.ResetAllStates:return Object(b.a)({},nf);case Mm.TextChanged:var r=t;return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},r.name,r.value));case Mm.TogglePasswordVisibility:return Object(b.a)(Object(b.a)({},e),{},{showPassword:!e.showPassword});case Mm.SignInEmailError:return Object(b.a)(Object(b.a)({},e),{},{errorSignInEmail:!0});case Mm.SignInPasswordError:return Object(b.a)(Object(b.a)({},e),{},{errorSignInPassword:!0});case Mm.ClearErrors:return Object(b.a)(Object(b.a)({},e),{},{errorSignInEmail:!1,errorSignInPassword:!1});case Mm.ToggleResetPasswordDialog:return Object(b.a)(Object(b.a)({},e),{},{showResetPasswordDialog:!e.showResetPasswordDialog,resetPasswordDialogEmail:""});case Mm.ProcessingResetPasswordRequest:return Object(b.a)(Object(b.a)({},e),{},{resetPasswordDialogProcessing:!0,resetPasswordDialogError:void 0});case Mm.CompleteProcessingResetPasswordRequest:var n=t;return Object(b.a)(Object(b.a)({},e),{},{resetPasswordDialogEmailSent:void 0===n.error,resetPasswordDialogError:void 0!==n.error?{detail:n.error}:e.resetPasswordDialogError,resetPasswordDialogProcessing:!1});default:return e}},sf=function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState,MediaQueryState:e.MediaQueryState,SignInLocalState:e.SignInLocalState}},cf=function(e){return{onTextChanged:function(t){return e(function(e){return function(t,r){return t({type:Mm.TextChanged,name:e.target.name,value:e.target.value})}}(t))},togglePasswordVisibility:function(){return e((function(e,t){return e({type:Mm.TogglePasswordVisibility})}))},onSignInClick:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o,s,c,l;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n().SignInLocalState,i=a.signInEmail,o=a.signInPassword,e.preventDefault(),r({type:Mm.ClearErrors}),s=i.trim().toLowerCase(),c=o,l=!0,0===s.length&&(r({type:Mm.SignInEmailError}),l=!1),0===c.length&&(r({type:Mm.SignInPasswordError}),l=!1),l){t.next=10;break}return t.abrupt("return");case 10:return t.abrupt("return",r(_s(s,c)));case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},toggleResetPasswordDialog:function(){return e(rf())},onSendResetPasswordClick:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r){var n,a;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("onSendResetPasswordClick"),r({type:Mm.ProcessingResetPasswordRequest}),n={type:Mm.CompleteProcessingResetPasswordRequest},t.prev=3,a=R.auth(),t.next=7,a.sendPasswordResetEmail(e);case 7:return r(rf()),t.abrupt("return",r(n));case 11:return t.prev=11,t.t0=t.catch(3),n.error=t.t0.toString(),t.abrupt("return",r(n));case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}},lf=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e,t,r=this.props,n=r.ManageGroupUrlState,a=r.AuthenticationState,i=r.MediaQueryState,o=r.SignInLocalState,s=r.onTextChanged,c=r.onSignInClick,l=r.togglePasswordVisibility,d=r.toggleResetPasswordDialog;return Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:{span:12,offset:0},md:{span:6,offset:3},lg:{span:6,offset:3},children:Object(V.jsx)(Vl.a,{display:"flex",width:"100%",justifyContent:"center",paddingX:i.isMobile?"10px":"0px",paddingY:i.isMobile?"20px":"60px",children:Object(V.jsxs)(Fi.a,{elevation:0,square:!0,className:Object(v.b)(ot.kick_starter_border_box),style:{width:650,padding:i.isMobile?20:30},children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",marginBottom:"35px",children:[Object(V.jsx)(A.a,{variant:"h4",align:"center",paragraph:!0,color:"primary",children:"Sign in to your account"}),Object(V.jsx)(A.a,{variant:"body1",align:"center",children:"Connecting businesses and investors across the South West of England"})]}),(t=o,t.resetPasswordDialogEmailSent&&void 0===t.resetPasswordDialogError?Object(V.jsx)(Vl.a,{marginBottom:"35px",color:"white",bgcolor:fe,padding:"15px",children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"An email with password reset instructions has been sent to your email address."})}):null),ys(a)?Object(V.jsx)(Vl.a,{marginBottom:"35px",padding:"15px",color:"white",bgcolor:"error.main",children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Error: Username or password not recognised"})}):null,Object(V.jsx)("form",{onSubmit:c,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(Gi.a,{children:Object(V.jsx)(Yr.a,{label:"Email address",name:"signInEmail",value:o.signInEmail,margin:"normal",variant:"outlined",error:o.errorSignInEmail,onChange:s})}),Object(V.jsx)(Gi.a,{children:Object(V.jsx)(Yr.a,{label:"Password",name:"signInPassword",type:o.showPassword?"text":"password",margin:"normal",variant:"outlined",error:o.errorSignInPassword,onChange:s,InputProps:{endAdornment:Object(V.jsx)(Mi.a,{position:"end",children:Object(V.jsx)(C.a,{edge:"end","aria-label":"Toggle password visibility",onClick:l,children:o.showPassword?Object(V.jsx)(Vi.a,{}):Object(V.jsx)(Wi.a,{})})})}})}),Object(V.jsx)(Vl.a,{marginTop:"35px",marginBottom:"45px",children:Object(V.jsxs)(A.a,{variant:"body1",align:"center",children:["By clicking Sign In, you agree to our\xa0",Object(V.jsx)(Ad,{url:yn.nonGroupTermsOfUse,target:"_blank",color:sd(n).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Terms of use"}),"\xa0and\xa0",Object(V.jsx)(Ad,{url:yn.nonGroupPrivacyPolicy,target:"_blank",color:sd(n).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Privacy policy"}),"."]})}),xs(a)?Object(V.jsx)(Vl.a,{display:"flex",marginBottom:"45px",justifyContent:"center",children:Object(V.jsx)(Ji.a,{color:sd(n).palette.primary.main})}):null,Object(V.jsx)(Gi.a,{children:Object(V.jsx)(G.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:Object(v.b)(ot.no_text_transform),children:"Sign in"})}),Object(V.jsx)(Vl.a,{display:"flex",marginTop:"25px",justifyContent:"center",children:Object(V.jsxs)(A.a,{variant:"body1",children:["Don't have an Invest West account? \xa0",Object(V.jsx)(Ad,{url:yn.constructSignUpRoute(null!==(e=n.groupNameFromUrl)&&void 0!==e?e:""),color:sd(n).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Sign up"})]})}),Object(V.jsx)(Vl.a,{display:"flex",marginTop:"16px",justifyContent:"center",onClick:d,children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",className:Object(v.b)(ot.nav_link_hover),children:"Forgot your password?"})})]})})]})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(tu,{})})}),Object(V.jsx)(pf,{})]})}}]),r}(n.Component),df=Object(q.b)(sf,cf)(lf),uf=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e,t=this.props,r=t.ManageGroupUrlState,n=t.SignInLocalState,a=t.onTextChanged,i=t.toggleResetPasswordDialog,o=t.onSendResetPasswordClick;return Object(V.jsxs)(U.a,{fullWidth:!0,maxWidth:"sm",fullScreen:this.props.MediaQueryState.isMobile,open:n.showResetPasswordDialog,onClose:i,children:[Object(V.jsx)(L.a,{children:Object(V.jsxs)(Vl.a,{display:"flex",alignItems:"center",children:[Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"flex-start",flexGrow:2,children:Object(V.jsx)(A.a,{variant:"h5",align:"left",children:"Reset Your Password"})}),Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"flex-end",flexGrow:1,children:Object(V.jsx)(C.a,{onClick:i,children:Object(V.jsx)(Xl.a,{})})})]})}),Object(V.jsx)(B.a,{style:{padding:0},children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"15px",paddingX:"24px",children:[Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Please provide the email address you used when you signed up for your Invest West account."}),Object(V.jsx)(Vl.a,{height:"25px"}),Object(V.jsxs)(A.a,{variant:"body1",align:"left",children:["We will send you an email with a link to reset your password. ",Object(V.jsx)("b",{children:"Please note that this link will only be valid for up to 3 hours."})]})]}),Object(V.jsx)(Vl.a,{height:"42px"}),Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",children:[(e=n,void 0===e.resetPasswordDialogError?null:Object(V.jsx)(Vl.a,{width:"100%",bgcolor:"error.main",padding:"15px",marginBottom:"42px",color:"white",children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:"Unable to send request password email."})})),af(n)?Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",marginBottom:"42px",children:Object(V.jsx)(Ji.a,{color:sd(r).palette.primary.main})}):null,Object(V.jsx)(Yr.a,{name:"resetPasswordDialogEmail",value:n.resetPasswordDialogEmail,label:"Email address",variant:"outlined",fullWidth:!0,onChange:a})]}),Object(V.jsx)(Vl.a,{height:"25px"})]})}),Object(V.jsx)(F.a,{children:Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"flex-end",padding:"8px",children:Object(V.jsx)(G.a,{color:"primary",variant:"contained",size:"medium",onClick:function(){return o(n.resetPasswordDialogEmail.trim())},className:Object(v.b)(ot.no_text_transform),disabled:0===n.resetPasswordDialogEmail.trim().length,children:"Send"})})})]})}}]),r}(n.Component),pf=Object(q.b)(sf,cf)(uf),hf=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(V.jsx)(_.a,{fluid:!0,style:{padding:0},children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center",marginTop:"120px",children:[Object(V.jsx)(Vl.a,{color:et,children:Object(V.jsx)(A.a,{variant:"h1",align:"center",children:"404 error"})}),Object(V.jsx)(Vl.a,{height:"40px"}),Object(V.jsx)(A.a,{variant:"h2",align:"center",children:"Page not found"}),Object(V.jsx)(Vl.a,{height:"25px"}),Object(V.jsx)(A.a,{variant:"h2",color:"textSecondary",align:"center",children:"We're sorry, the page you requested could not be found."})]})})})})}}]),r}(n.Component),jf=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={hasError:!1,error:null,errorInfo:null},n}return Object(c.a)(r,[{key:"componentDidCatch",value:function(e,t){console.error("Error caught by ErrorBoundary:",e),console.error("Error info:",t),this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"Something went wrong."}),this.state.error&&Object(V.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[Object(V.jsx)("strong",{children:"Error:"})," ",this.state.error.toString(),Object(V.jsx)("br",{}),this.state.errorInfo&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("strong",{children:"Component Stack:"}),Object(V.jsx)("pre",{children:this.state.errorInfo.componentStack})]})]})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(a.a.Component),gf=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.MediaQueryState,a=t.ManageGroupUrlState,i=t.AuthenticationState,o=t.routePath,s=t.homUrl,c=t.dashboardUrl,l=t.signInUrl;return Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0},children:[Object(V.jsxs)(I.a,{noGutters:!0,style:{paddingTop:10,paddingBottom:10,backgroundColor:be},children:[Object(V.jsx)(E.a,{xs:{span:6,order:3},sm:{span:6,order:3},md:{span:4,order:1},lg:{span:4,order:1},children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",height:"100%",alignItems:"center",marginLeft:"30px",children:[vs(i)?null:Object(V.jsx)(Ad,{color:"black",activeColor:yn.isErrorRoute(o)||yn.isSystemPublicRoute(o)?et:sd(a).palette.primary.main,activeUnderline:!1,url:s,component:"nav-link",childComponent:Object(V.jsx)(A.a,{variant:"body1",children:"Home"})}),xs(i)?null:vs(i)?Object(V.jsx)(Ad,{color:"black",activeColor:yn.isErrorRoute(o)||yn.isSystemPublicRoute(o)?et:sd(a).palette.primary.main,activeUnderline:!1,url:c,component:"nav-link",childComponent:Object(V.jsx)(A.a,{variant:"body1",children:"Dashboard"})}):null]})}),Object(V.jsx)(E.a,{xs:{span:12,order:1},sm:{span:12,order:1},md:{span:4,order:2},lg:{span:4,order:2},children:Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:Object(V.jsx)(Ad,{color:"none",activeColor:"none",activeUnderline:!1,url:s,component:"nav-link",childComponent:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"column",width:"125px",height:"100%",justifyContent:"center",alignItems:"center",children:[Object(V.jsx)("img",{alt:"logo",src:yn.isErrorRoute(o)||yn.isSystemPublicRoute(o)?r(114).default:ad(a)?null:id(a)?od(a)?Nu(a.group):null:r(114).default,style:{width:"auto",height:36,objectFit:"contain"}}),Object(V.jsx)(Vl.a,{height:"3px"}),Object(V.jsx)(Vl.a,{fontWeight:"fontWeightBold",color:yn.isErrorRoute(o)||yn.isSystemPublicRoute(o)?et:"primary.main",children:Object(V.jsx)(A.a,{variant:"body1",noWrap:!0,children:yn.isErrorRoute(o)||yn.isSystemPublicRoute(o)?"Invest West":ad(a)?"":id(a)?null===(e=a.group)||void 0===e?void 0:e.displayName:"Invest West"})})]})})})}),n.isMobile?Object(V.jsx)(E.a,{xs:{span:12,order:2},sm:{span:12,order:2},children:Object(V.jsx)(Vl.a,{marginY:"10px",children:Object(V.jsx)(Z.a,{})})}):null,Object(V.jsx)(E.a,{xs:{span:6,order:4},sm:{span:6,order:4},md:{span:4,order:3},lg:{span:4,order:3},children:xs(i)||vs(i)||yn.isSignInRoute(o)?null:Object(V.jsx)(Vl.a,{display:"flex",flexDirection:"row",height:"100%",justifyContent:"flex-end",alignItems:"center",marginRight:"30px",children:Object(V.jsx)(Ad,{color:"none",activeColor:"none",activeUnderline:!1,url:l,component:"a",childComponent:Object(V.jsx)(G.a,{color:"primary",className:Object(v.b)(ot.no_text_transform),variant:"contained",size:"medium",children:"Sign in"})})})})]}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(Z.a,{})})})]})}}]),n}(n.Component),bf=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState}}))(gf),mf={navigatingFromSignInOrSignUpToDashboard:!1,navigatingToSignIn:!1,navigatingToError:!1},ff=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).authListener=void 0,n.routePath=void 0,n.routeParams=void 0,n.validateRouteAndAuthentication=function(){n.updateRouteAndParams(),n.props.loadSystemAttributes(),n.props.validateGroupUrl(n.routePath,n.routeParams.hasOwnProperty("groupUserName")?n.routeParams.groupUserName:null),n.attachAuthListener()},n.updateRouteAndParams=function(){n.routePath=n.props.match.path,n.routeParams=n.props.match.params},n.attachAuthListener=function(){var e=n.props.ManageGroupUrlState;od(e)&&!n.authListener&&(n.authListener=R.auth().onAuthStateChanged((function(e){e?n.props.signIn():n.props.signOut()})))},n.detachAuthListener=function(){n.authListener&&(n.authListener(),n.authListener=null)},n.authListener=null,n.routePath=n.props.match.path,n.routeParams=n.props.match.params,n.state=Object(b.a)({},mf),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.validateRouteAndAuthentication()}},{key:"componentDidUpdate",value:function(e,t,r){var n=this;if(this.validateRouteAndAuthentication(),!oj(this.props.ManageSystemAttributesState)&&!ad(this.props.ManageGroupUrlState)){if(!od(this.props.ManageGroupUrlState)&&!this.state.navigatingToError)return this.setState({navigatingToError:!0}),void this.props.history.push(yn.error404);if(yn.isProtectedRoute(this.routePath)&&!Os(this.props.AuthenticationState)&&!xs(this.props.AuthenticationState)&&!vs(this.props.AuthenticationState)&&!this.state.navigatingToSignIn){var a=this.props.location;!function(e,t){if(localStorage)localStorage.setItem(e,t);else{if(!e)return;sh.set(e,t)}}("redirectToAfterAuth","".concat(a.pathname).concat(null===a||void 0===a?void 0:a.search)),this.setState({navigatingToSignIn:!0}),this.props.history.push(yn.constructSignInRoute(this.routeParams))}if((yn.isSignInRoute(this.routePath)||yn.isSignUpRoute(this.routePath))&&vs(this.props.AuthenticationState)&&!this.state.navigatingFromSignInOrSignUpToDashboard){var i=yn.constructDashboardRoute(this.routeParams,this.props.ManageGroupUrlState,this.props.AuthenticationState);this.setState({navigatingFromSignInOrSignUpToDashboard:!0}),this.props.history.push(i)}if(vs(this.props.AuthenticationState)){var o=this.props.AuthenticationState.currentUser;if(o){var s=bn(o),c=!1;if(yn.isRouteReservedForSuperAdmin(this.routePath))(!s||s&&!s.superAdmin)&&(c=!0);else if(yn.isGroupAdminRoute(this.routePath)){if(s)this.props.AuthenticationState.groupsOfMembership[0].group.groupUserName!==this.routeParams.groupUserName&&(c=!0);else c=!0}else yn.isIssuerDashboardRoute(this.routePath)?xn(o)?0===this.props.AuthenticationState.groupsOfMembership.filter((function(e){return e.group.groupUserName===n.routeParams.groupUserName})).length&&(c=!0):c=!0:yn.isInvestorDashboardRoute(this.routePath)&&(vn(o)?0===this.props.AuthenticationState.groupsOfMembership.filter((function(e){return e.group.groupUserName===n.routeParams.groupUserName})).length&&(c=!0):c=!0);if(c&&!this.state.navigatingToError)return this.setState({navigatingToError:!0}),void this.props.history.push(yn.error404)}}yn.isSignInRoute(this.routePath)||yn.isSignUpRoute(this.routePath)||!this.state.navigatingFromSignInOrSignUpToDashboard||this.setState({navigatingFromSignInOrSignUpToDashboard:!1}),yn.isSignInRoute(this.routePath)&&this.state.navigatingToSignIn&&this.setState({navigatingToSignIn:!1}),yn.isErrorRoute(this.routePath)&&this.state.navigatingToError&&this.setState({navigatingToError:!1})}}},{key:"componentWillUnmount",value:function(){this.detachAuthListener()}},{key:"render",value:function(){var e=this.props,t=e.ManageSystemAttributesState,r=e.ManageGroupUrlState,n=e.AuthenticationState,a=e.showHeader,i=e.backgroundColor;return this.updateRouteAndParams(),oj(t)||ad(r)||od(r)&&Os(n)||!yn.isSignInRoute(this.routePath)&&!yn.isSignUpRoute(this.routePath)&&xs(n)?Object(V.jsx)(Vl.a,{children:Object(V.jsx)(k.BarLoader,{color:sd(r).palette.primary.main,width:"100%",height:4})}):od(r)?Object(V.jsxs)(_.a,{fluid:!0,style:{padding:0,height:void 0!==i?"100%":"none",minHeight:void 0!==i?"100vh":"none",backgroundColor:null!==i&&void 0!==i?i:"none"},children:[a?Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(bf,{routePath:this.routePath,homUrl:yn.constructHomeRoute(this.routeParams,r,n),dashboardUrl:yn.constructDashboardRoute(this.routeParams,r,n),signInUrl:yn.constructSignInRoute(this.routeParams)})})}):null,Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(Vl.a,{width:"100%",height:"100%",children:this.props.component})})]}):null}}]),r}(n.Component),Of=Object(q.b)((function(e){return{ManageSystemAttributesState:e.ManageSystemAttributesState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState}}),(function(e){return{loadSystemAttributes:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().ManageSystemAttributesState,a=n.systemAttributes,i=n.systemAttributesLoaded,o=n.loadingSystemAttributes,i||o||a){e.next=18;break}return t({type:tj.LoadingSystemAttributes}),s={type:tj.FinishedLoadingSystemAttributes,systemAttributes:null},e.prev=4,e.next=7,(new ej).getSystemAttributes();case 7:return c=e.sent,l=c.data,s.systemAttributes=l,t(rj(l.Sectors)),e.abrupt("return",t(s));case 14:return e.prev=14,e.t0=e.catch(4),s.error={detail:e.t0.toString()},e.abrupt("return",t(s));case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,r){return e.apply(this,arguments)}}())},validateGroupUrl:function(t,r){return e(function(e,t){return function(){var r=Object(Xt.a)(Kt.a.mark((function r(n,a){var i,o,s,c,l,d,u,p,h,j,g,b;return Kt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a().ManageGroupUrlState,o=i.routePath,s=i.groupNameFromUrl,c=i.group,l=i.loadingGroup,d=i.groupLoaded,u={type:Ss.SetGroupUrl,path:e,groupUserName:t},p=!1,(void 0===o||void 0===s||s!==t)&&(p=!0),!(!c&&!l&&!d||(c||l||d)&&p)){r.next=26;break}if(n(u),h={type:Ss.ValidatingGroupUrl},n(h),j={type:Ss.FinishedValidatingGroupUrl,group:null,validGroupUrl:!1},t){r.next=12;break}return j.validGroupUrl=!0,r.abrupt("return",n(j));case 12:return r.prev=12,r.next=15,(new $l).getGroup(t);case 15:return g=r.sent,b=g.data,j.group=b,j.validGroupUrl=null!==b,r.abrupt("return",n(j));case 22:return r.prev=22,r.t0=r.catch(12),j.error={detail:r.t0.toString()},r.abrupt("return",n(j));case 26:case"end":return r.stop()}}),r,null,[[12,22]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},signIn:function(){return e(_s())},signOut:function(){return e(Is())}}}))(ff);!function(e){e.VerifyingCode="ResetPasswordEvents.VerifyingCode",e.CompleteVerifyingCode="ResetPasswordEvents.CompleteVerifyingCode",e.TextChanged="ResetPasswordEvents.TextChanged",e.ConfirmingResetPassword="ResetPasswordEvents.ConfirmingResetPassword",e.CompleteConfirmingResetPassword="ResetPasswordEvents.CompleteConfirmingResetPassword"}(tf||(tf={}));var xf,vf={verifyingCode:!1,codeVerified:!1,actionCode:null,email:null,password:"",confirmedPassword:"",resettingPassword:!1,passwordReset:!1},yf=function(e){return e.resettingPassword&&!e.passwordReset},Af=function(e){return!e.resettingPassword&&!e.passwordReset&&void 0!==e.errorResettingPassword},Cf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tf.VerifyingCode:return Object(b.a)(Object(b.a)({},e),{},{verifyingCode:!0,codeVerified:!1});case tf.CompleteVerifyingCode:var r=t;return Object(b.a)(Object(b.a)({},e),{},{verifyingCode:!1,codeVerified:!0,actionCode:r.actionCode,email:r.email,errorVerifyingCode:void 0!==r.error?{detail:r.error}:e.errorVerifyingCode});case tf.TextChanged:var n=t;return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},n.name,n.value));case tf.ConfirmingResetPassword:return Object(b.a)(Object(b.a)({},e),{},{resettingPassword:!0,passwordReset:!1,errorResettingPassword:void 0});case tf.CompleteConfirmingResetPassword:var a=t;return Object(b.a)(Object(b.a)({},e),{},{resettingPassword:!1,passwordReset:void 0===a.error,errorResettingPassword:a.error?{detail:a.error}:e.errorResettingPassword});default:return e}},Pf=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Cu.a.parse(this.props.location.search);if(e.oobCode){var t=e.oobCode;t?this.props.verifyCode(t):this.props.verifyCode(null)}else this.props.verifyCode(null)}},{key:"render",value:function(){var e,t,r=this.props,n=r.ManageGroupUrlState,a=r.MediaQueryState,i=r.ResetPasswordLocalState,o=r.onTextChanged,s=r.confirmPasswordReset;return(t=i).verifyingCode&&!t.codeVerified?Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",marginTop:"50px",children:Object(V.jsx)(k.HashLoader,{color:sd(n).palette.primary.main})}):function(e){return!e.verifyingCode&&e.codeVerified&&null===e.email&&void 0!==e.errorVerifyingCode}(i)?Object(V.jsx)(f.a,{to:yn.error404}):function(e){return!e.resettingPassword&&e.passwordReset&&void 0===e.errorResettingPassword}(i)?Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"50px",children:Object(V.jsx)(A.a,{variant:"h5",color:"primary",align:"center",children:"Your password has been updated."})}):Object(V.jsx)(Vl.a,{paddingX:a.isMobile?"18px":"0px",paddingY:a.isMobile?"30px":"60px",children:Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:{span:6,offset:3},lg:{span:4,offset:4},children:Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(A.a,{variant:"h4",align:"left",children:"Reset Password"}),Object(V.jsx)(Vl.a,{height:"40px"}),Object(V.jsx)(Yr.a,{required:!0,fullWidth:!0,variant:"outlined",label:"Password",name:"password",type:"password",onChange:o}),Object(V.jsx)(Vl.a,{height:"25px"}),Object(V.jsx)(Yr.a,{required:!0,fullWidth:!0,variant:"outlined",label:"Confirm Password",name:"confirmedPassword",type:"password",onChange:o}),Object(V.jsx)(Vl.a,{height:"25px"}),Af(i)?Object(V.jsx)(Vl.a,{width:"100%",bgcolor:"error.main",padding:"15px",marginBottom:"20px",color:"white",children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:null===(e=i.errorResettingPassword)||void 0===e?void 0:e.detail})}):null,yf(i)?Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"center",marginBottom:"20px",children:Object(V.jsx)(k.HashLoader,{color:sd(n).palette.primary.main})}):null,Object(V.jsx)(Vl.a,{height:"25px"}),Object(V.jsx)(Vl.a,{display:"flex",justifyContent:"flex-end",children:Object(V.jsx)(G.a,{variant:"contained",className:Object(v.b)(ot.no_text_transform),color:"primary",size:"large",onClick:function(){return s()},children:"Submit"})})]})})})})}}]),r}(n.Component),wf=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,MediaQueryState:e.MediaQueryState,ResetPasswordLocalState:e.ResetPasswordLocalState}}),(function(e){return{verifyCode:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r({type:tf.VerifyingCode}),a={type:tf.CompleteVerifyingCode,actionCode:null,email:null},null!==e){t.next=5;break}return a.error="Invalid request.",t.abrupt("return",r(a));case 5:return t.prev=5,a.actionCode=e,t.next=9,R.auth().verifyPasswordResetCode(e);case 9:return a.email=t.sent,t.abrupt("return",r(a));case 13:return t.prev=13,t.t0=t.catch(5),a.error=t.t0.toString(),t.abrupt("return",r(a));case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onTextChanged:function(t){return e(function(e){return function(t,r){return t({type:tf.TextChanged,name:e.target.name,value:e.target.value})}}(t))},confirmPasswordReset:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().ResetPasswordLocalState,a=n.password,i=n.confirmedPassword,o=n.actionCode,s={type:tf.CompleteConfirmingResetPassword},0!==a.trim().length&&0!==i.trim().length){e.next=5;break}return s.error="Please fill in the required fields.",e.abrupt("return",t(s));case 5:if(a===i){e.next=8;break}return s.error="Passwords do not match.",e.abrupt("return",t(s));case 8:if(!(a.trim().length<8)){e.next=11;break}return s.error="Password must have at least 8 characters.",e.abrupt("return",t(s));case 11:if(1!==ar(a)){e.next=14;break}return s.error="Please select a stronger password.",e.abrupt("return",t(s));case 14:return t({type:tf.ConfirmingResetPassword}),e.prev=15,e.next=18,R.auth().confirmPasswordReset(o,a);case 18:return e.abrupt("return",t(s));case 21:return e.prev=21,e.t0=e.catch(15),s.error="Invalid request.",e.abrupt("return",t(s));case 25:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(t,r){return e.apply(this,arguments)}}())}}}))(Pf),Sf=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.match.params.resourceName,t=ah.findIndex((function(t){return t.name===e}));return-1!==t?ah[t].page:Object(V.jsx)(f.a,{to:yn.error404})}}]),r}(n.Component),_f=Object(q.b)((function(e){return{MediaQueryState:e.MediaQueryState,ManageGroupUrlState:e.ManageGroupUrlState,AuthenticationState:e.AuthenticationState}}),(function(e){return{}}))(Sf),If=["12345678","87654321","testPassword","testtest","abcdefgh","password","sunshine","iloveyou","password1","00000000","superman","asdfghjkl","qwertyuiop","1qaz2wsx","1q2w3e4r","qwertyui","asdfghjk","zxcvbnm,","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999"],Ef=function(e){var t=0;return t=e.length<8?1:3,e.length>8&&(e.match(/[a-z]/)||e.match(/\d+/)||e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)),e.length>8&&(e.match(/[a-z]/)&&e.match(/\d+/)||e.match(/\d+/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)||e.match(/[a-z]/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)),e.length>8&&e.match(/[a-z]/)&&e.match(/\d+/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/),e.length>15&&e.match(/[a-z]/)&&e.match(/\d+/)&&e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/),-1!==If.findIndex((function(t){return t.toLowerCase()===e.toLowerCase()}))&&(t=1),t};!function(e){e.LoadingInvitedUser="SignUpEvents.LoadingInvitedUser",e.CompleteLoadingInvitedUser="SignUpEvents.CompleteLoadingInvitedUser",e.InputFieldChanged="SignUpEvents.InputFieldChanged",e.CreatingAccount="SignUpEvents.CreatingAccount",e.CompleteCreatingAccount="SignUpEvents.CompleteCreatingAccount"}(xf||(xf={}));var Df,Tf={invitedUserLoaded:!1,loadingInvitedUser:!1,userType:-1,title:"-1",discover:"-1",firstName:"",lastName:"",email:"",confirmedEmail:"",password:"",confirmedPassword:"",acceptMarketingPreferences:!1,creatingAccount:!1},kf=function(e){return e.invitedUserLoaded&&!e.loadingInvitedUser&&void 0===e.invitedUser&&void 0!==e.errorLoadingInvitedUser},Nf=function(e){return kf(e)&&e.errorLoadingInvitedUser&&e.errorLoadingInvitedUser.detail.includes("404")},Rf=function(e){return e.creatingAccount},Uf=function(e){return!e.creatingAccount&&void 0!==e.errorCreatingAccount},Lf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ms.SignOut:case ms.CompleteAuthentication:return Tf;case xf.LoadingInvitedUser:return Object(b.a)(Object(b.a)({},e),{},{invitedUser:void 0,invitedUserLoaded:!1,loadingInvitedUser:!0,errorLoadingInvitedUser:void 0});case xf.CompleteLoadingInvitedUser:var r=t;return Object(b.a)(Object(b.a)({},e),{},{invitedUser:r.invitedUser,invitedUserLoaded:!0,loadingInvitedUser:!1,errorLoadingInvitedUser:void 0!==r.error?{detail:r.error}:e.errorLoadingInvitedUser,userType:r.invitedUser?r.invitedUser.type:e.userType,title:r.invitedUser?r.invitedUser.title:e.title,firstName:r.invitedUser?r.invitedUser.firstName:e.firstName,lastName:r.invitedUser?r.invitedUser.lastName:e.lastName,email:r.invitedUser?r.invitedUser.email:e.email});case xf.InputFieldChanged:var n=t;return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},n.name,n.value));case xf.CreatingAccount:return Object(b.a)(Object(b.a)({},e),{},{creatingAccount:!0,successfullyCreatedAccount:!1,errorCreatingAccount:void 0});case xf.CompleteCreatingAccount:var a=t;return Object(b.a)(Object(b.a)({},e),{},{creatingAccount:!1,errorCreatingAccount:a.error?{detail:a.error}:e.errorCreatingAccount});default:return e}},Bf=function(e){return void 0!==e.officialUserID},Ff=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).invitedUserId=void 0,e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.loadInvitedUser;this.invitedUserId=this.props.match.params.id,this.invitedUserId&&e(this.invitedUserId)}},{key:"render",value:function(){var e,t,r,n=this,a=this.props,i=a.ManageGroupUrlState,o=a.AuthenticationState,s=a.MediaQueryState,c=a.SignUpLocalState,l=a.handleInputFieldChanged,d=a.createAccount;if(this.invitedUserId){if(!(r=c).invitedUserLoaded&&r.loadingInvitedUser)return Object(V.jsx)(Vl.a,{children:Object(V.jsx)(k.BarLoader,{color:sd(i).palette.primary.main,width:"100%",height:4})});var u;if(kf(c)||c.invitedUser&&Bf(c.invitedUser))return Object(V.jsxs)(Vl.a,{marginTop:"30px",display:"flex",flexDirection:"column",alignItems:"center",children:[Object(V.jsx)(A.a,{variant:"h6",color:"error",children:Nf(c)?"This registration URL is not valid.":c.invitedUser&&Bf(c.invitedUser)?"You have already registered. Please sign in.":"".concat(null===(u=c.errorLoadingInvitedUser)||void 0===u?void 0:u.detail)}),Object(V.jsx)(Vl.a,{height:"20px"}),Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"contained",color:"primary",onClick:function(){var e;if(Nf(c))return n.props.history.replace(yn.constructSignUpRoute(null!==(e=i.groupNameFromUrl)&&void 0!==e?e:"")),void window.location.reload();c.invitedUser&&Bf(c.invitedUser)?n.props.history.push(yn.constructSignInRoute(n.props.match.params)):window.location.reload()},children:Nf(c)?"Go to public registration":c.invitedUser&&Bf(c.invitedUser)?"Sign in":"Retry"})]})}return Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:{span:12,offset:0},sm:{span:12,offset:0},md:{span:8,offset:2},lg:{span:4,offset:4},children:Object(V.jsx)(Vl.a,{display:"flex",width:"100%",justifyContent:"center",paddingX:s.isMobile?"10px":"0px",paddingY:s.isMobile?"20px":"60px",children:Object(V.jsxs)(Fi.a,{elevation:0,square:!0,className:Object(v.b)(ot.kick_starter_border_box),style:{width:650,padding:s.isMobile?20:30},children:[Object(V.jsx)(A.a,{align:"center",variant:"h5",color:"primary",children:"Welcome to ".concat(null===(e=i.group)||void 0===e?void 0:e.displayName)}),Object(V.jsx)(Vl.a,{height:"20px"}),Rf(c)||xs(o)?Object(V.jsx)(Vl.a,{display:"flex",marginY:"20px",justifyContent:"center",children:Object(V.jsx)(Ji.a,{color:sd(i).palette.primary.main})}):null,Uf(c)?null:Object(V.jsx)(Vl.a,{marginY:"20px",children:Object(V.jsx)(A.a,{align:"center",variant:"body1",color:"error",children:null===(t=c.errorCreatingAccount)||void 0===t?void 0:t.detail})}),Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,disabled:void 0!==this.invitedUserId,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",children:"What would you like to do?"})}),Object(V.jsxs)(Ws.a,{name:"userType",value:c.userType,onChange:l,margin:"dense",style:{marginTop:25},children:[Object(V.jsx)(Vs.a,{value:-1,children:"Please select"},"-1"),Object(V.jsx)(Vs.a,{value:1,children:"Invest"},1),Object(V.jsx)(Vs.a,{value:2,children:"Raise funds"},2)]})]}),Object(V.jsx)(Vl.a,{height:"30px"}),Object(V.jsxs)(Gi.a,{required:!0,fullWidth:!0,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",children:"Title"})}),Object(V.jsxs)(Ws.a,{name:"title",value:c.title,onChange:l,margin:"dense",style:{marginTop:25},children:[Object(V.jsx)(Vs.a,{value:"-1",children:"Please select"},"-1"),fn.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)}))]})]}),Object(V.jsx)(Vl.a,{height:"25px"}),Object(V.jsxs)(Vl.a,{marginBottom:"18px",children:[Object(V.jsx)(Gi.a,{required:!0,fullWidth:!0,children:Object(V.jsx)(Yr.a,{required:!0,label:"First name",name:"firstName",value:c.firstName,fullWidth:!0,variant:"outlined",margin:"dense",onChange:l})}),Object(V.jsx)(Gi.a,{required:!0,fullWidth:!0,children:Object(V.jsx)(Yr.a,{required:!0,label:"Last name",name:"lastName",value:c.lastName,fullWidth:!0,variant:"outlined",margin:"dense",onChange:l})})]}),Object(V.jsxs)(Vl.a,{marginBottom:"18px",children:[Object(V.jsx)(Gi.a,{required:!0,fullWidth:!0,children:Object(V.jsx)(Yr.a,{required:!0,label:"Email",name:"email",value:c.email,fullWidth:!0,variant:"outlined",margin:"dense",disabled:void 0!==this.invitedUserId,onChange:l})}),Object(V.jsx)(Gi.a,{required:!0,fullWidth:!0,children:Object(V.jsx)(Yr.a,{required:!0,label:"Re-enter email",name:"confirmedEmail",value:c.confirmedEmail,fullWidth:!0,variant:"outlined",margin:"dense",onChange:l})})]}),Object(V.jsxs)(Vl.a,{children:[Object(V.jsx)(Gi.a,{required:!0,fullWidth:!0,children:Object(V.jsx)(Yr.a,{required:!0,label:"Password",name:"password",value:c.password,fullWidth:!0,variant:"outlined",margin:"dense",type:"password",onChange:l})}),Object(V.jsx)(Gi.a,{required:!0,fullWidth:!0,children:Object(V.jsx)(Yr.a,{required:!0,label:"Confirm password",name:"confirmedPassword",value:c.confirmedPassword,fullWidth:!0,variant:"outlined",margin:"dense",type:"password",onChange:l})}),Object(V.jsx)(Vl.a,{marginTop:"28px"}),Object(V.jsxs)(Gi.a,{fullWidth:!0,children:[Object(V.jsx)(Sj.a,{children:Object(V.jsx)(A.a,{variant:"body1",color:"primary",children:"How did you hear about us?"})}),Object(V.jsxs)(Ws.a,{name:"discover",value:c.discover,onChange:l,margin:"dense",style:{marginTop:25},children:[Object(V.jsx)(Vs.a,{value:"-1",children:"Please select"},"-1"),On.map((function(e,t){return Object(V.jsx)(Vs.a,{value:e,children:e},t)}))]})]})]}),Object(V.jsx)(Vl.a,{marginTop:"28px",children:Object(V.jsx)(Gi.a,{children:Object(V.jsxs)(Vl.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(V.jsx)(zs.a,{name:"acceptMarketingPreferences",color:"primary",checked:c.acceptMarketingPreferences,onChange:l}),Object(V.jsxs)(A.a,{variant:"body1",children:["Accept\xa0",Object(V.jsx)(Ad,{url:yn.nonGroupMarketingPreferences,target:"_blank",color:sd(i).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"a",childComponent:"marketing preferences"}),"."]})]})})}),Object(V.jsx)(Vl.a,{marginTop:"25px",children:Object(V.jsxs)(A.a,{variant:"body1",align:"center",children:["By signing up, you agree to our\xa0",Object(V.jsx)(Ad,{url:yn.nonGroupTermsOfUse,target:"_blank",color:sd(i).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"a",childComponent:"Terms of use"}),"\xa0and\xa0",Object(V.jsx)(Ad,{url:yn.nonGroupPrivacyPolicy,target:"_blank",color:sd(i).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"a",childComponent:"Privacy policy"}),"."]})}),Object(V.jsx)(Vl.a,{marginTop:"40px",display:"flex",justifyContent:"center",children:Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),color:"primary",variant:"contained",disabled:-1===c.userType||"-1"===c.title||0===c.firstName.trim().length||0===c.lastName.trim().length||0===c.email.trim().length||0===c.confirmedEmail.trim().length||0===c.password.trim().length||"-1"===c.discover||0===c.confirmedPassword.trim().length,onClick:function(){return d()},children:"Create account"})}),Object(V.jsx)(Vl.a,{marginTop:"20px",children:Object(V.jsxs)(A.a,{variant:"body2",align:"center",children:["Already have an Invest West account?\xa0",Object(V.jsx)(Ad,{url:yn.constructSignInRoute(this.props.match.params),color:sd(i).palette.primary.main,activeColor:"none",activeUnderline:!0,component:"nav-link",childComponent:"Sign in"})]})})]})})})}),Object(V.jsx)(I.a,{noGutters:!0,children:Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsx)(tu,{})})})]})}}]),r}(n.Component),Gf=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,MediaQueryState:e.MediaQueryState,AuthenticationState:e.AuthenticationState,SignUpLocalState:e.SignUpLocalState}}),(function(e){return{loadInvitedUser:function(t){return e(function(e){return function(){var t=Object(Xt.a)(Kt.a.mark((function t(r,n){var a,i,o;return Kt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={type:xf.CompleteLoadingInvitedUser},t.prev=1,r({type:xf.LoadingInvitedUser}),t.next=5,(new ws).retrieveInvitedUser(e);case 5:return i=t.sent,o=i.data,a.invitedUser=JSON.parse(JSON.stringify(o)),t.abrupt("return",r(a));case 11:return t.prev=11,t.t0=t.catch(1),a.error=t.t0.toString(),t.abrupt("return",r(a));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},handleInputFieldChanged:function(t){return e(function(e){return function(t,r){var n=e.target.type,a=e.target.name,i=e.target.value,o=e.target.checked;return t({type:xf.InputFieldChanged,name:a,value:"checkbox"===n?o:i})}}(t))},createAccount:function(){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){var n,a,i,o,s,c,l,d,u,p,h,j,g,b,m;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().SignUpLocalState,a=n.invitedUser,i=n.userType,o=n.title,s=n.discover,c=n.firstName,l=n.lastName,d=n.email,u=n.confirmedEmail,p=n.password,h=n.confirmedPassword,j=n.acceptMarketingPreferences,g=r().ManageGroupUrlState.group,b={type:xf.CompleteCreatingAccount},Sh(d)&&Sh(u)){e.next=6;break}return b.error="Please enter a valid email address.",e.abrupt("return",t(b));case 6:if(d.trim().toLocaleLowerCase()===u.trim().toLocaleLowerCase()){e.next=9;break}return b.error="Emails do not match.",e.abrupt("return",t(b));case 9:if(p===h){e.next=12;break}return b.error="Passwords do not match.",e.abrupt("return",t(b));case 12:if(1!==Ef(p)){e.next=15;break}return b.error="Password is too weak. Please select a stronger password.",e.abrupt("return",t(b));case 15:return e.prev=15,t({type:xf.CreatingAccount}),e.next=19,(new ws).signUp({isPublicRegistration:void 0===a,invitedUserID:void 0!==a?a.id:void 0,userProfile:{title:o,discover:s,firstName:c,lastName:l,email:d,type:i},password:p,groupID:a?a.invitedBy:null!==(m=null===g||void 0===g?void 0:g.anid)&&void 0!==m?m:"",acceptMarketingPreferences:j});case 19:return t(b),e.abrupt("return",t(_s(d,p)));case 23:return e.prev=23,e.t0=e.catch(15),b.error=e.t0.toString(),e.abrupt("return",t(b));case 27:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,r){return e.apply(this,arguments)}}())}}}))(Ff),Mf=function(){return Object(V.jsx)(m.a,{children:Object(V.jsx)(jf,{children:Object(V.jsxs)(f.d,{children:[Object(V.jsx)(f.b,{path:yn.groupSignUp,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(Gf,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupSignUp,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(Gf,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupFront,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!1,component:Object(V.jsx)(ef,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupFront,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!1,component:Object(V.jsx)(ef,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupSignIn,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(df,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupSignIn,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(df,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.superAdminSignIn,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(df,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupAdminDashboard,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!1,component:Object(V.jsx)($g,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupAdminDashboard,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!1,component:Object(V.jsx)($g,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupIssuerDashboard,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!1,component:Object(V.jsx)(ph,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupInvestorDashboard,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!1,component:Object(V.jsx)(gh,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupViewOffer,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Cm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupViewOffer,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Cm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupCreateOffer,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Cb,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupCreateOffer,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Cb,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupViewGroup,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(zm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupViewGroup,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,backgroundColor:Hl.a.grey[200],component:Object(V.jsx)(zm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupViewUserProfile,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Sb,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupViewUserProfile,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Sb,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupViewResourceDetail,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(_f,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupViewResourceDetail,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(_f,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupEditUserProfile,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Zm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupEditUserProfile,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Zm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupHelp,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Fm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupContactUs,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Lm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.groupContactUs,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Lm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupPrivacyPolicy,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Sm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupTermsOfUse,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Im,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupRiskWarning,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Dm,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupCreatePitchTermsAndConditions,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(km,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupMarketingPreferences,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(Km,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.nonGroupAuthAction,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(wf,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{path:yn.error404,exact:!0,render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(hf,Object(b.a)({},e))}))}}),Object(V.jsx)(f.b,{render:function(e){return Object(V.jsx)(Of,Object(b.a)(Object(b.a)({},e),{},{showHeader:!0,component:Object(V.jsx)(hf,Object(b.a)({},e))}))}})]})})})},qf=(r(704),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.group,r=e.open,n=e.message,a=e.color,i=e.position,o=e.closeFeedbackSnackbar,s=e.resetStatesWhenSnackbarClosed;return Object(V.jsx)(_p.a,{open:r,anchorOrigin:{vertical:""===i?"bottom":i,horizontal:"center"},autoHideDuration:2500,onClose:o,onExited:s,TransitionComponent:"bottom"===i?ct:"top"===i?lt:null,transitionDuration:{enter:130,exit:130},children:Object(V.jsx)(Hj.a,{style:{backgroundColor:"primary"===a?t?t.settings.primaryColor:et:"error"===a?rt:""},message:Object(V.jsxs)("span",{children:["error"===a?null:Object(V.jsx)(Rb.a,{style:{marginRight:8}}),n]}),action:[Object(V.jsx)(C.a,{color:"inherit",onClick:o,children:Object(V.jsx)(ie.a,{})},"close")]})})}}]),r}(n.Component)),Wf=Object(q.b)((function(e){return{group:e.manageGroupFromParams.groupProperties,open:e.manageFeedbackSnackbar.open,message:e.manageFeedbackSnackbar.message,color:e.manageFeedbackSnackbar.color,position:e.manageFeedbackSnackbar.position}}),(function(e){return{closeFeedbackSnackbar:function(){return e(Ir())},resetStatesWhenSnackbarClosed:function(){return e({type:Tr})}}}))(qf),Qf="LOADING_CLUB_ATTRIBUTES",Vf="CLUB_ATTRIBUTES_LOADED",Hf="CLUB_ATTRIBUTES_CHANGED",Jf="(min-width: 320px) and (max-width: 480px) and (orientation: portrait), (min-height: 320px) and (max-height: 480px) and (orientation: landscape)",zf="(min-width: 768px) and (max-width: 1024px) and (orientation: portrait), (min-height: 768px) and (max-height: 1024px) and (orientation: landscape)",Yf="(min-width: 1200px) and (max-width: 1600px) and (orientation: landscape)",Kf="(min-width: 1600px) and (orientation: landscape)",Xf="(min-height: 1200px)",Zf=window.matchMedia(Jf),$f=window.matchMedia(zf),eO=window.matchMedia(Yf),tO=window.matchMedia(Kf),rO=window.matchMedia(Xf);!function(e){e.MediaQueryChanged="MediaQueryEvents.MediaQueryChanged"}(Df||(Df={}));var nO,aO=function(e,t,r){if(e)return e({type:Df.MediaQueryChanged,name:t,value:r})},iO="LOADING_SYSTEM_GROUPS",oO="FINISHED_LOADING_SYSTEM_GROUPS",sO=null,cO="SYSTEM_GROUPS_CHANGED",lO=r(409);!function(e){e.OnActive="ManageSystemIdleTimeEvents.OnActive",e.OnIdle="ManageSystemIdleTimeEvents.OnIdle"}(nO||(nO={}));var dO={nowIdle:!1,nowActive:!0},uO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ms.SignOut:return dO;case nO.OnActive:return Object(b.a)(Object(b.a)({},e),{},{nowActive:!0,nowIdle:!1});case nO.OnIdle:return Object(b.a)(Object(b.a)({},e),{},{nowActive:!1,nowIdle:!0});default:return e}},pO=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).cancelAllListeners=function(){var e=n.props,t=e.stopListeningForUserProfileChanges,r=e.stopListeningForGroupsUserIsIn,a=e.joinRequestsTable_stopListeningForJoinRequestsChanged,i=e.adminDashboard_stopListeningForInvitedUsersChanged,o=e.activitiesTable_stopListeningForActivitiesChanged,s=e.groupAdminsTable_stopListeningForGroupAdminsChanged,c=e.stopListeningForForumsChanged,l=e.stopListeningForThreadsChanged,d=e.stopListeningForThreadRepliesChanged,u=e.editUserProfile_stopOriginalUserChangedListener,p=e.stopListeningForSystemGroupsChanged;t(),r(),a(),i(),o(),s(),c(),l(),d(),u(),p()},n.loadClubAttributesIfNotLoaded=function(){var e=n.props,t=e.clubAttributesLoaded,r=e.clubAttributesBeingLoaded,a=e.loadClubAttributes;t||r||a()},n.loadSystemGroups=function(){var e=n.props,t=e.groupsLoaded,r=e.loadingGroups,a=e.loadSystemGroups;t||r||a()},n.attachListeners=function(){var e=n.props,t=e.authStatus,r=e.user,a=e.userLoaded,i=e.clubAttributesLoaded,o=e.groupsLoaded,s=e.initializeAuthState,c=e.getUserProfileAndValidateUser,l=e.startListeningForClubAttributesChanged,d=e.startListeningForUserProfileChanges,u=e.startListeningForAngelNetworkChanged,p=e.startListeningForGroupsUserIsIn,h=e.startListeningForSystemGroupsChanged;u(),r&&a&&t===co&&(d(),p(),o&&h()),i&&l(),n.authListener||(n.authListener=n.firebaseAuth.onAuthStateChanged((function(e){s(),e?(c(e.uid),n.loadSystemGroups()):(c(null),n.cancelAllListeners())})))},n.getTheme=function(){var e=n.props,t=e.ManageGroupUrlState,r=e.groupPropertiesLoaded,a=e.groupProperties,i=e.shouldLoadOtherData;return t.group?sd(t):r&&i&&a?Object(u.a)(Object(p.a)({palette:{primary:{main:a.settings.primaryColor},secondary:{main:a.settings.secondaryColor},text:{secondary:Se}},typography:{fontFamily:"Muli, sans-serif"}})):rd},n.firebaseAuth=R.auth(),n.authListener=null,n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.groupPropertiesLoaded,r=e.shouldLoadOtherData;(0,e.addMediaQueryListeners)(),t&&r&&(this.loadClubAttributesIfNotLoaded(),this.attachListeners())}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.props,a=n.groupPropertiesLoaded,i=n.shouldLoadOtherData;a&&i&&(this.loadClubAttributesIfNotLoaded(),this.attachListeners())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.removeMediaQueryListeners,r=e.stopListeningForAngelNetworkChanged,n=e.stopListeningForClubAttributesChanged;this.authListener(),this.authListener=null,t(),r(),n(),this.cancelAllListeners()}},{key:"render",value:function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)(lO.a,{timeout:36e5,onIdle:this.props.onIdle}),Object(V.jsx)(h.a,{theme:this.getTheme(),children:Object(V.jsxs)(j.a,{utils:g.a,children:[Object(V.jsx)(Mf,{}),Object(V.jsx)(Wf,{})]})})]})}}]),r}(n.Component),hO=Object(q.b)((function(e){return{ManageGroupUrlState:e.ManageGroupUrlState,groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,user:e.auth.user,userLoaded:e.auth.userLoaded,authStatus:e.auth.authStatus,forums:e.manageForums.forums,clubAttributes:e.manageClubAttributes.clubAttributes,clubAttributesLoaded:e.manageClubAttributes.clubAttributesLoaded,systemGroups:e.manageSystemGroups.systemGroups,groupsLoaded:e.manageSystemGroups.groupsLoaded,loadingGroups:e.manageSystemGroups.loadingGroups}}),(function(e){return{signIn:function(){return e(_s())},onIdle:function(t){return e(function(){var e=Object(Xt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:nO.OnIdle}),t(wo()),e.next=4,t(Is());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())},startListeningForAngelNetworkChanged:function(){return e((function(e,t){if(!no){var r=t().manageGroupFromParams.groupProperties;if(r){if(no)return;no=R.database().ref(dt).child(r.anid).on("child_changed",(function(t){var r=t.key,n=t.val();e({type:ao,key:r,value:n})}))}else no&&(no.off("child_changed"),no=null)}}))},stopListeningForAngelNetworkChanged:function(){return e((function(e,t){no&&(no.off("child_changed"),no=null)}))},initializeAuthState:function(){return e({type:ho})},getUserProfileAndValidateUser:function(t){return e(function(e){return function(t,r){if(e){var n=r().manageGroupFromParams,a=n.groupUserName,i=n.groupProperties,o=r().auth,s=o.signingIn,c=o.user,l=o.userLoaded;o.preventValidatingUserWhenSigningUp||c&&l||(s||t({type:mo}),ma(e).then((function(e){t({type:vo,user:e}),3===e.type?a?i&&(e.isInvestWest||e.superAdmin||e.anid!==i.anid?(t({type:fo,authStatus:1}),Co(t)):t({type:fo,authStatus:co})):e.isInvestWest||e.superAdmin?t({type:fo,authStatus:co}):(t({type:fo,authStatus:1}),Co(t)):(t({type:yo}),ua(e.id).then((function(e){if(t({type:Ao,groups:e}),!e||e&&0===e.length)return t({type:fo,authStatus:1}),void Co(t);var r=null;a?i&&e.forEach((function(e){e.anid===i.anid&&(r=e)})):e.forEach((function(e){e.isInvestWest&&(r=e)})),i&&r?2===r.userInGroupStatus?t({type:fo,authStatus:co}):(t({type:fo,authStatus:1===r.userInGroupStatus?2:3===r.userInGroupStatus?3:4===r.userInGroupStatus?4:1}),Co(t)):(t({type:fo,authStatus:1}),Co(t))})).catch((function(e){t({type:yo,groups:null,error:e}),Co(t)})))})).catch((function(e){t({type:vo,user:null}),t({type:fo,authStatus:1}),Co(t)})))}else t({type:vo,user:null})}}(t))},startListeningForUserProfileChanges:function(){return e((function(e,t){if(!So){var r=t().auth.user;(So=R.database().ref(ht).child(r.id)).on("value",(function(t){var r=t.val();r&&e({type:Io,userChanged:r})}))}}))},stopListeningForUserProfileChanges:function(){return e((function(e,t){So&&(So.off("value"),So=null)}))},startListeningForGroupsUserIsIn:function(){return e((function(e,t){var r=t().auth.user;_o||((_o=R.database().ref(xt).orderByChild("email").equalTo(r.email)).on("child_added",(function(r){var n=r.val(),a=t().auth.groupsUserIsIn,i={invitedUser:n,anid:n.invitedBy,userInGroupStatus:n.status};-1===a.findIndex((function(e){return e.invitedUser.id===i.invitedUser.id}))&&pa(i.anid).then((function(t){i.isInvestWest=t.isInvestWest,i.groupDetails=t,e({type:Eo,groups:[].concat(Object(gn.a)(a),[i])})}))})),_o.on("child_changed",(function(r){var n=r.val(),a=t().auth.groupsUserIsIn,i={invitedUser:n,anid:n.invitedBy,userInGroupStatus:n.status},o=a.findIndex((function(e){return e.invitedUser.id===i.invitedUser.id}));-1!==o&&pa(a.anid).then((function(t){i.isInvestWest=t.isInvestWest,i.groupDetails=t,a[o]=a,e({type:Eo,groups:Object(gn.a)(a)})}))})))}))},stopListeningForGroupsUserIsIn:function(){return e((function(e,t){_o&&(_o.off("child_added"),_o.off("child_changed"),_o=null)}))},loadClubAttributes:function(){return e((function(e,t){var r=t().manageClubAttributes,n=r.clubAttributesLoaded,a=r.clubAttributesBeingLoaded;!n&&a||(e({type:Qf}),ka().then((function(t){e({type:Vf,clubAttributes:t})})))}))},startListeningForClubAttributesChanged:function(){return e((function(e,t){R.database().ref(pt).on("child_changed",(function(t){e({type:Hf,key:t.key,value:t.val()})}))}))},stopListeningForClubAttributesChanged:function(){return e((function(e,t){R.database().ref(pt).off("child_changed")}))},addMediaQueryListeners:function(){return e((function(e,t){Zf.addEventListener("change",(function(){return aO(e,"isMobile",Zf.matches)})),$f.addEventListener("change",(function(){return aO(e,"isTablet",$f.matches)})),eO.addEventListener("change",(function(){return aO(e,"isLaptop",eO.matches)})),tO.addEventListener("change",(function(){return aO(e,"isDesktop",tO.matches)})),rO.addEventListener("change",(function(){return aO(e,"minHeightScreen",rO.matches)}))}))},removeMediaQueryListeners:function(){return e((function(e,t){Zf.removeEventListener("change",(function(){return aO(null,null,null)})),$f.removeEventListener("change",(function(){return aO(null,null,null)})),eO.removeEventListener("change",(function(){return aO(null,null,null)})),tO.removeEventListener("change",(function(){return aO(null,null,null)})),rO.removeEventListener("change",(function(){return aO(null,null,null)}))}))},adminDashboard_stopListeningForInvitedUsersChanged:function(){return e((function(e,t){Bj&&(Bj.off("child_added"),Bj.off("child_changed"),Bj=null)}))},joinRequestsTable_stopListeningForJoinRequestsChanged:function(){return e(Dg())},activitiesTable_stopListeningForActivitiesChanged:function(){return e(_c())},groupAdminsTable_stopListeningForGroupAdminsChanged:function(){return e(Vg())},stopListeningForForumsChanged:function(){return e(ps())},stopListeningForThreadsChanged:function(){return e(js())},stopListeningForThreadRepliesChanged:function(){return e(bs())},editUserProfile_stopOriginalUserChangedListener:function(){return e(ll())},loadSystemGroups:function(){return e((function(e,t){var r=t().manageSystemGroups,n=r.loadingGroups,a=r.groupsLoaded;n||a||(e({type:iO}),ja({},0).then((function(t){e({type:oO,groups:Object(gn.a)(t)})})).catch((function(e){})))}))},startListeningForSystemGroupsChanged:function(){return e((function(e,t){sO||((sO=R.database().ref(dt)).on("child_added",(function(r){var n=r.val(),a=Object(gn.a)(t().manageSystemGroups.systemGroups);-1===a.findIndex((function(e){return e.anid===n.anid}))&&e({type:cO,groups:[].concat(Object(gn.a)(a),[n])})})),sO.on("child_changed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageSystemGroups.systemGroups),i=a.findIndex((function(e){return e.anid===n.anid}));-1!==i&&(a[i]=n,e({type:cO,groups:Object(gn.a)(a)}))})))}))},stopListeningForSystemGroupsChanged:function(){return e((function(e,t){sO&&(sO.off("child_added"),sO.off("child_changed"),sO=null)}))}}}))(pO);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jO,gO=r(161),bO={signingIn:!1,authenticating:!1,authStatus:0,preventValidatingUserWhenSigningUp:!1,user:null,userLoaded:!1,userBeingLoaded:!1,groupsUserIsIn:null,loadingGroupsUserIsIn:!1,groupsUserIsInLoaded:!1},mO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:case ho:return Object(b.a)(Object(b.a)({},bO),{},{authenticating:e.authenticating,authStatus:e.authStatus});case xo:return Object(b.a)(Object(b.a)({},e),{},{preventValidatingUserWhenSigningUp:t.shouldPrevent});case jo:return Object(b.a)(Object(b.a)({},e),{},{authStatus:0});case bo:return Object(b.a)(Object(b.a)({},e),{},{singingIn:!0});case mo:return Object(b.a)(Object(b.a)({},e),{},{singingIn:!1,authenticating:!0,authStatus:0,preventValidatingUserWhenSigningUp:!1,user:null,userLoaded:!1,userBeingLoaded:!0,groupsUserIsIn:null,loadingGroupsUserIsIn:!1,groupsUserIsInLoaded:!1});case yo:return Object(b.a)(Object(b.a)({},e),{},{groupsUserIsIn:[],loadingGroupsUserIsIn:!0,groupsUserIsInLoaded:!1});case Ao:return Object(b.a)(Object(b.a)({},e),{},{groupsUserIsIn:Object(gn.a)(t.groups),loadingGroupsUserIsIn:!1,groupsUserIsInLoaded:!0});case fo:return Object(b.a)(Object(b.a)({},e),{},{signingIn:!1,authenticating:!1,authStatus:t.authStatus,preventValidatingUserWhenSigningUp:!1,user:t.authStatus!==co&&0!==t.authStatus?null:e.user,userLoaded:t.authStatus!==co&&0!==t.authStatus||e.userLoaded,userBeingLoaded:(t.authStatus===co||0===t.authStatus)&&e.userBeingLoaded,groupsUserIsIn:t.authStatus!==co&&0!==t.authStatus?null:e.groupsUserIsIn,loadingGroupsUserIsIn:(t.authStatus===co||0===t.authStatus)&&e.loadingGroupsUserIsIn,groupsUserIsInLoaded:(t.authStatus===co||0===t.authStatus)&&e.groupsUserIsInLoaded});case vo:return Object(b.a)(Object(b.a)({},e),{},{user:JSON.parse(JSON.stringify(t.user)),userLoaded:!0,userBeingLoaded:!1});case Io:return Object(b.a)(Object(b.a)({},e),{},{user:JSON.parse(JSON.stringify(t.userChanged))});case Eo:return Object(b.a)(Object(b.a)({},e),{},{groupsUserIsIn:Object(gn.a)(t.groups)});default:return e}},fO={BusinessProfile:{companyName:"",registrationNo:"",sector:"None",companyWebsite:"",registeredOffice:{address1:"",address2:"",address3:"",townCity:"",postcode:""},tradingAddress:{address1:"",address2:"",address3:"",townCity:"",postcode:""},directors:[]},logoToBeUploaded:null,videoToBeUploaded:null,registeredOfficeSearchPostcode:"",registeredOfficeEnterAddressManually:!1,registeredOfficeRecommendedAddresses:null,tradingAddressSameAsRegisteredOffice:!0,tradingAddressSearchPostcode:"",tradingAddressEnterAddressManually:!1,tradingAddressRecommendedAddresses:null,expandBusinessProfileFilling:!1},OO=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fO,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Po:return fO;case Dc:return Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},Object(Bi.a)({},r.fieldName,r.fieldValue))});case Tc:return Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{registeredOffice:Object(b.a)(Object(b.a)({},t.BusinessProfile.registeredOffice),{},Object(Bi.a)({},r.fieldName,r.fieldValue))})});case kc:return Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{tradingAddress:Object(b.a)(Object(b.a)({},t.BusinessProfile.tradingAddress),{},Object(Bi.a)({},r.fieldName,r.fieldValue))})});case Nc:return Object(b.a)(Object(b.a)({},t),{},(e={},Object(Bi.a)(e,r.fieldName,r.fieldValue),Object(Bi.a)(e,"BusinessProfile",Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{registeredOffice:"registeredOfficeSearchPostcode"!==r.fieldName?t.BusinessProfile.registeredOffice:{address1:"",address2:"",address3:"",townCity:"",postcode:""},tradingAddress:"tradingAddressSearchPostcode"!==r.fieldName?t.BusinessProfile.tradingAddress:{address1:"",address2:"",address3:"",townCity:"",postcode:""}})),Object(Bi.a)(e,"registeredOfficeEnterAddressManually","registeredOfficeSearchPostcode"!==r.fieldName&&t.registeredOfficeEnterAddressManually),Object(Bi.a)(e,"registeredOfficeRecommendedAddresses","registeredOfficeSearchPostcode"!==r.fieldName?t.registeredOfficeRecommendedAddresses:null),Object(Bi.a)(e,"tradingAddressEnterAddressManually","tradingAddressSearchPostcode"!==r.fieldName&&t.tradingAddressEnterAddressManually),Object(Bi.a)(e,"tradingAddressRecommendedAddresses","tradingAddressSearchPostcode"!==r.fieldName?t.tradingAddressRecommendedAddresses:null),e));case Rc:return t;case Uc:return Object(b.a)(Object(b.a)({},t),{},{registeredOfficeRecommendedAddresses:r.results});case Lc:return t;case Bc:return Object(b.a)(Object(b.a)({},t),{},{tradingAddressRecommendedAddresses:r.results});case Fc:return Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{registeredOffice:Object(b.a)(Object(b.a)({},t.BusinessProfile.registeredOffice),{},{address1:r.selectedAddress[0],address2:r.selectedAddress[1],address3:r.selectedAddress[2],townCity:r.selectedAddress[3],postcode:t.registeredOfficeSearchPostcode.toUpperCase()})}),registeredOfficeEnterAddressManually:!0,registeredOfficeSearchPostcode:"",registeredOfficeRecommendedAddresses:null});case Gc:return Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{tradingAddress:Object(b.a)(Object(b.a)({},t.BusinessProfile.tradingAddress),{},{address1:r.selectedAddress[0],address2:r.selectedAddress[1],address3:r.selectedAddress[2],townCity:r.selectedAddress[3],postcode:t.tradingAddressSearchPostcode.toUpperCase()})}),tradingAddressEnterAddressManually:!0,tradingAddressSearchPostcode:"",tradingAddressRecommendedAddresses:null});case Mc:return Object(b.a)(Object(b.a)({},t),{},{registeredOfficeEnterAddressManually:!t.registeredOfficeEnterAddressManually,registeredOfficeSearchPostcode:"",registeredOfficeRecommendedAddresses:null});case qc:return Object(b.a)(Object(b.a)({},t),{},{tradingAddressEnterAddressManually:!t.tradingAddressEnterAddressManually,tradingAddressSearchPostcode:"",tradingAddressRecommendedAddresses:null});case Wc:return Object(b.a)(Object(b.a)({},t),{},{tradingAddressSameAsRegisteredOffice:r.checked,tradingAddressSearchPostcode:"",tradingAddressRecommendedAddresses:null,tradingAddressEnterAddressManually:!1,BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{tradingAddress:{address1:"",address2:"",address3:"",townCity:"",postcode:""}})});case tl:return r.isEditingExistingBusinessProfile?t:Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{directors:[].concat(Object(gn.a)(t.BusinessProfile.directors),[r.director])})});case rl:if(!r.isEditingExistingBusinessProfile){var n=JSON.parse(JSON.stringify(t.BusinessProfile.directors));return n.splice(r.index,1),Object(b.a)(Object(b.a)({},t),{},{BusinessProfile:Object(b.a)(Object(b.a)({},t.BusinessProfile),{},{directors:n})})}return t;case Qr:return Object(b.a)(Object(b.a)({},t),{},{logoToBeUploaded:r.blob});case nn:return Object(b.a)(Object(b.a)({},t),{},{videoToBeUploaded:r.video});case Qc:return Object(b.a)(Object(b.a)({},fO),{},{expandBusinessProfileFilling:t.expandBusinessProfileFilling});case Vc:return Object(b.a)(Object(b.a)({},fO),{},{expandBusinessProfileFilling:!t.expandBusinessProfileFilling});default:return t}},xO={allowEditing:!0,originalUser:null,userEdited:null,addNewDirector:!1,newDirectorText:""},vO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return xO;case Jc:return Object(b.a)(Object(b.a)({},e),{},{originalUser:t.user,userEdited:t.user,allowEditing:t.allowEditing});case Yc:return Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},Object(Bi.a)({},t.edit.property,t.edit.value))});case Kc:return Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{BusinessProfile:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile),{},Object(Bi.a)({},t.edit.property,t.edit.value))})});case Zc:return Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{BusinessProfile:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile),{},{registeredOffice:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile.registeredOffice),{},Object(Bi.a)({},t.edit.property,t.edit.value))})})});case Xc:return Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{BusinessProfile:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile),{},{tradingAddress:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile.tradingAddress),{},Object(Bi.a)({},t.edit.property,t.edit.value))})})});case el:return Object(b.a)(Object(b.a)({},e),{},{addNewDirector:!e.addNewDirector,newDirectorText:e.addNewDirector?"":e.newDirectorText});case $c:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.edit.property,t.edit.value));case tl:return t.isEditingExistingBusinessProfile?Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{BusinessProfile:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile),{},{directors:[].concat(Object(gn.a)(e.userEdited.BusinessProfile.directors),[e.newDirectorText])})}),addNewDirector:!1,newDirectorText:""}):Object(b.a)(Object(b.a)({},e),{},{addNewDirector:!1,newDirectorText:""});case rl:if(t.isEditingExistingBusinessProfile){var r=JSON.parse(JSON.stringify(e.userEdited.BusinessProfile.directors));return r.splice(t.index,1),Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{BusinessProfile:Object(b.a)(Object(b.a)({},e.userEdited.BusinessProfile),{},{directors:r})})})}return e;case nl:return Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{title:e.originalUser.title,firstName:e.originalUser.firstName,lastName:e.originalUser.lastName,email:e.originalUser.email,linkedin:e.originalUser.linkedin?e.originalUser.linkedin:""})});case al:return Object(b.a)(Object(b.a)({},e),{},{userEdited:Object(b.a)(Object(b.a)({},e.userEdited),{},{BusinessProfile:JSON.parse(JSON.stringify(e.originalUser.BusinessProfile))})});case Io:case cl:return Object(b.a)(Object(b.a)({},e),{},{originalUser:JSON.parse(JSON.stringify(t.userChanged)),userEdited:JSON.parse(JSON.stringify(t.userChanged))});default:return e}},yO={editImageDialogOpen:!1,mode:null,imgEditor:null,imgEdited:null,imgZoom:1,imgPreEdited:null,imgPreEditedLoaded:!0,imgPreIndex:-1,previousPhotos:null},AO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return yO;case kr:return Object(b.a)(Object(b.a)({},e),{},{editImageDialogOpen:!(t.hasOwnProperty("waitForUploading")&&!t.waitForUploading)&&!e.editImageDialogOpen,mode:t.hasOwnProperty("mode")?t.mode:e.mode,imgPreIndex:t.hasOwnProperty("waitForUploading")&&t.waitForUploading?e.imgPreIndex:-1,previousPhotos:2===t.mode?!t.hasOwnProperty("user")||t.hasOwnProperty("user")&&!t.user.BusinessProfile.logo?[]:JSON.parse(JSON.stringify(t.user.BusinessProfile.logo)):3===t.mode?!t.hasOwnProperty("user")||t.hasOwnProperty("user")&&!t.user.profilePicture?[]:JSON.parse(JSON.stringify(t.user.profilePicture)):[],imgEdited:null,imgZoom:1,imgPreEdited:null,imgPreEditedLoaded:!0});case Qr:case Qc:return Object(b.a)(Object(b.a)({},yO),{},{mode:e.mode});case Rr:return Object(b.a)(Object(b.a)({},e),{},{imgEditor:t.editor});case Ur:return Object(b.a)(Object(b.a)({},e),{},{imgPreEdited:null,imgPreEditedLoaded:!1});case Lr:return Object(b.a)(Object(b.a)({},e),{},{imgPreEdited:window.URL.createObjectURL(t.blob),imgPreEditedLoaded:!0,imgPreIndex:-1});case Gr:return Object(b.a)(Object(b.a)({},e),{},{imgZoom:t.zoom});case Br:return Object(b.a)(Object(b.a)({},e),{},{imgPreEdited:null,imgPreEditedLoaded:!1,imgPreIndex:-1});case Fr:return Object(b.a)(Object(b.a)({},e),{},{imgPreEdited:window.URL.createObjectURL(t.blob),imgPreEditedLoaded:!0,imgPreIndex:e.previousPhotos.length-1-t.selectedIndex});case Mr:return Object(b.a)(Object(b.a)({},e),{},{imgPreEdited:null,imgPreEditedLoaded:!0,imgEdited:null,imgZoom:1,imgPreIndex:-1});case qr:return Object(b.a)(Object(b.a)({},e),{},{imgEdited:t.blob});default:return e}},CO={editVideoDialogOpen:!1,mode:null,videoTypeSelected:null,videoChosen:null,previousVideos:null,videoPreIndex:-1},PO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return CO;case Zr:return Object(b.a)(Object(b.a)({},e),{},{editVideoDialogOpen:!(t.hasOwnProperty("waitForUploading")&&!t.waitForUploading)&&!e.editVideoDialogOpen,mode:t.hasOwnProperty("mode")?t.mode:e.mode,videoPreIndex:t.hasOwnProperty("waitForUploading")&&t.waitForUploading?e.videoPreIndex:-1,previousVideos:5===t.mode?!t.hasOwnProperty("user")||t.hasOwnProperty("user")&&!t.user.BusinessProfile.video?[]:JSON.parse(JSON.stringify(t.user.BusinessProfile.video)):[],videoChosen:t.hasOwnProperty("waitForUploading")&&t.waitForUploading?e.videoChosen:null,videoTypeSelected:t.hasOwnProperty("waitForUploading")&&t.waitForUploading?e.videoTypeSelected:null});case nn:case Qc:return Object(b.a)(Object(b.a)({},CO),{},{mode:e.mode});case en:return Object(b.a)(Object(b.a)({},e),{},{videoTypeSelected:t.videoType,videoChosen:null,videoPreIndex:-1});case tn:return Object(b.a)(Object(b.a)({},e),{},{videoChosen:t.url});case rn:return Object(b.a)(Object(b.a)({},e),{},{videoChosen:t.blob,videoPreIndex:-1});case on:return Object(b.a)(Object(b.a)({},e),{},{videoChosen:null,videoPreIndex:-1});case an:return Object(b.a)(Object(b.a)({},e),{},{videoChosen:e.previousVideos[t.selectedIndex].url,videoPreIndex:e.previousVideos.length-1-t.selectedIndex,videoTypeSelected:null});default:return e}},wO={mode:null,filesToBeUploaded:{legalDocuments:[],pitchCover:[],pitchPresentationDocument:[],pitchSupportingDocuments:[]},filesDBReferences:{legalDocuments:[],pitchCover:[],pitchPresentationDocument:[],pitchSupportingDocuments:[]},fileUploadErrorMessage:"",fileUploadErrorSnackbarOpen:!1},SO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return wO;case fl:return Object(b.a)(Object(b.a)({},e),{},{filesToBeUploaded:Object(b.a)(Object(b.a)({},e.filesToBeUploaded),{},{legalDocuments:t.mode===Ol?t.updatedFilesToBeUploaded:e.filesToBeUploaded.legalDocuments,pitchCover:t.mode===xl?t.updatedFilesToBeUploaded:e.filesToBeUploaded.pitchCover,pitchPresentationDocument:t.mode===vl?t.updatedFilesToBeUploaded:e.filesToBeUploaded.pitchPresentationDocument,pitchSupportingDocuments:t.mode===yl?t.updatedFilesToBeUploaded:e.filesToBeUploaded.pitchSupportingDocuments})});case Sl:return Object(b.a)(Object(b.a)({},e),{},{filesToBeUploaded:Object(b.a)(Object(b.a)({},e.filesToBeUploaded),{},{legalDocuments:6===t.mode?[]:e.filesToBeUploaded.legalDocuments,pitchCover:8===t.mode?[]:e.filesToBeUploaded.pitchCover,pitchPresentationDocument:9===t.mode?[]:e.filesToBeUploaded.pitchPresentationDocument,pitchSupportingDocuments:t.mode===H?[]:e.filesToBeUploaded.pitchSupportingDocuments}),filesDBReferences:Object(b.a)(Object(b.a)({},e.filesToBeUploaded),{},{legalDocuments:6===t.mode&&t.hasOwnProperty("waitingForUploadingReferences")&&!t.waitingForUploadingReferences?[]:e.filesDBReferences.legalDocuments,pitchCover:8===t.mode&&t.hasOwnProperty("waitingForUploadingReferences")&&!t.waitingForUploadingReferences?[]:e.filesDBReferences.pitchCover,pitchPresentationDocument:9===t.mode&&t.hasOwnProperty("waitingForUploadingReferences")&&!t.waitingForUploadingReferences?[]:e.filesDBReferences.pitchPresentationDocument,pitchSupportingDocuments:t.mode===H&&t.hasOwnProperty("waitingForUploadingReferences")&&!t.waitingForUploadingReferences?[]:e.filesDBReferences.pitchSupportingDocuments}),mode:null,fileUploadErrorMessage:"",fileUploadErrorSnackbarOpen:!1});case dl:return Object(b.a)(Object(b.a)({},e),{},{filesToBeUploaded:Object(b.a)(Object(b.a)({},e.filesToBeUploaded),{},{legalDocuments:6===t.mode?[].concat(Object(gn.a)(e.filesToBeUploaded.legalDocuments),[t.fileRead]):e.filesToBeUploaded.legalDocuments,pitchCover:8===t.mode?[t.fileRead]:e.filesToBeUploaded.pitchCover,pitchPresentationDocument:9===t.mode?[t.fileRead]:e.filesToBeUploaded.pitchPresentationDocument,pitchSupportingDocuments:t.mode===H?[].concat(Object(gn.a)(e.filesToBeUploaded.pitchSupportingDocuments),[t.fileRead]):e.filesToBeUploaded.pitchSupportingDocuments})});case ul:return Object(b.a)(Object(b.a)({},e),{},{fileUploadErrorMessage:t.error,fileUploadErrorSnackbarOpen:!0});case pl:return Object(b.a)(Object(b.a)({},e),{},{fileUploadErrorSnackbarOpen:!1});case hl:return Object(b.a)(Object(b.a)({},e),{},{fileUploadErrorMessage:""});case Al:return Object(b.a)(Object(b.a)({},e),{},{filesDBReferences:Object(b.a)(Object(b.a)({},e.filesDBReferences),{},{legalDocuments:[].concat(Object(gn.a)(e.filesDBReferences.legalDocuments),[t.fileDBRef])})});case Cl:return Object(b.a)(Object(b.a)({},e),{},{filesDBReferences:Object(b.a)(Object(b.a)({},e.filesDBReferences),{},{pitchCover:[].concat(Object(gn.a)(e.filesDBReferences.pitchCover),[t.fileDBRef])})});case Pl:return Object(b.a)(Object(b.a)({},e),{},{filesDBReferences:Object(b.a)(Object(b.a)({},e.filesDBReferences),{},{pitchPresentationDocument:[].concat(Object(gn.a)(e.filesDBReferences.pitchPresentationDocument),[t.fileDBRef])})});case wl:return Object(b.a)(Object(b.a)({},e),{},{filesDBReferences:Object(b.a)(Object(b.a)({},e.filesDBReferences),{},{pitchSupportingDocuments:[].concat(Object(gn.a)(e.filesDBReferences.pitchSupportingDocuments),[t.fileDBRef])})});default:return e}},_O={mode:0,progress:0},IO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return _O;case W:return{mode:t.mode,progress:t.progress};case Q:return{mode:0,progress:0};default:return e}},EO={currentPassword:"",newPassword:"",newPasswordVerified:"",passwordChangeResponseCode:0},DO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return EO;case ti:return Object(b.a)(Object(b.a)({},e),{},{passwordChangeResponseCode:1});case ei:return Object(b.a)(Object(b.a)({},e),{},{currentPassword:"",newPassword:"",newPasswordVerified:"",passwordChangeResponseCode:t.hasOwnProperty("responseCode")?t.responseCode:0});case $a:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.name,t.value));case ri:return Object(b.a)(Object(b.a)({},e),{},{passwordChangeResponseCode:t.errorCode});default:return e}},TO={clubAttributes:null,clubAttributesLoaded:!1,clubAttributesBeingLoaded:!1},kO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qf:return Object(b.a)(Object(b.a)({},e),{},{clubAttributes:null,clubAttributesLoaded:!1,clubAttributesBeingLoaded:!0});case Vf:return Object(b.a)(Object(b.a)({},e),{},{clubAttributes:JSON.parse(JSON.stringify(t.clubAttributes)),clubAttributesLoaded:!0,clubAttributesBeingLoaded:!1});case Hf:return Object(b.a)(Object(b.a)({},e),{},{clubAttributes:Object(b.a)(Object(b.a)({},e.clubAttributes),{},Object(Bi.a)({},t.key,t.value))});default:return e}},NO=r(94),RO=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.createForumName,r=e.createForumDesc,n=e.createForumError,a=e.forumEdited,i=e.toggleCreateNewForum,o=e.createNewForum,s=e.handleForumsInputChanged;return Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",children:a?"Edit forum":"Create forum"}),a?null:Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",color:"textSecondary",align:"left",children:"Forums are made up of individual discussion threads that can be organised around a particular subject. Create forums to organise discussions."}),Object(V.jsxs)(x.a,{column:!0,marginTop:10,children:[Object(V.jsx)(A.a,{variant:"subtitle1",children:"Forum information"}),Object(V.jsx)(Yr.a,{name:"createForumName",label:"Name",required:!0,variant:"outlined",margin:"normal",value:t,error:n&&0===t.trim().length,onChange:s}),Object(V.jsx)(Yr.a,{name:"createForumDesc",label:"Description",placeholder:"(optional)",variant:"outlined",margin:"normal",multiline:!0,rows:4,rowsMax:4,value:r,onChange:s}),Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:8,style:{marginTop:30},children:Object(V.jsx)(x.a,{children:n?Object(V.jsx)(A.a,{variant:"body1",align:"left",color:"error",children:"Please enter forum name."}):null})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,style:{marginTop:30},children:Object(V.jsxs)(x.a,{hAlignContent:"right",children:[Object(V.jsx)(x.a,{marginRight:5,children:Object(V.jsx)(G.a,{variant:"outlined",onClick:function(){return i(!1,null)},className:Object(v.b)(ot.no_text_transform),children:"Cancel"})}),Object(V.jsx)(x.a,{marginLeft:5,children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:o,className:Object(v.b)(ot.no_text_transform),children:"Submit"})})]})})]})]})]})}}]),r}(n.Component),UO=Object(q.b)((function(e){return{createForumName:e.manageForums.createForumName,createForumDesc:e.manageForums.createForumDesc,createForumAuthor:e.manageForums.createForumAuthor,createForumError:e.manageForums.createForumError,forumEdited:e.manageForums.forumEdited}}),(function(e){return{toggleCreateNewForum:function(t,r){return e(Bo(t,r))},createNewForum:function(){return e((function(e,t){var r=t().manageForums.forumEdited,n=t().manageForums.createForumName,a=t().manageForums.createForumDesc;if(0!==n.trim().length){var i=t().auth.user;if(r){if(r.author={id:r.author.id},!i||i&&!i.superAdmin)return;var o=JSON.parse(JSON.stringify(r));o.name=n,o.description=a,o.lastEdited=$t(),ya(o).then((function(){e({type:Lo,open:!1,forumEdited:null}),aa({userID:i.id,activityType:4,interactedObjectLocation:It,interactedObjectID:o.id,value:{before:r,after:o},activitySummary:'Edited "%forumName%" forum.'.replace("%forumName%",o.name)}),e({type:Er,message:"Forum updated.",color:"primary",position:"bottom"})})).catch((function(t){e({type:Er,message:"Error happened. Could not update forum.",color:"error",position:"bottom"})}))}else{var s={name:n,description:a,dateCreated:$t(),author:{id:i.id}};fa(s).then((function(t){e({type:Lo,open:!1,forumEdited:null}),aa({userID:i.id,activityType:4,interactedObjectLocation:It,interactedObjectID:t,value:Object(b.a)(Object(b.a)({},s),{},{id:t}),activitySummary:'Created "%forum%" forum.'.replace("%forum%",s.name)}),e({type:Er,message:"Forum created.",color:"primary",position:"bottom"})})).catch((function(t){e({type:Er,message:"Error happened. Could not create forum.",color:"error",position:"bottom"})}))}}else e({type:Fo})}))},handleForumsInputChanged:function(t){return e(Mo(t))}}}))(RO),LO=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleQuillChanged=function(t){return function(r,n,a,i){e.props.handleQuillChanged(t,i)}},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.createThreadName,r=e.createThreadBriefDesc,n=e.createThreadMessage,a=e.createThreadError,i=e.threadEdited,o=e.toggleCreateNewThread,s=e.createNewThread,c=e.handleForumsInputChanged;return Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"h6",color:"primary",children:i?"Edit thread":"Create thread"}),i?null:Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",color:"textSecondary",align:"left",children:"A thread is a series of posts related to the same subject. Threads provide an organisational structure within a forum for users to share posts on similar topics. Creating a thread posts the first message."}),Object(V.jsxs)(x.a,{column:!0,marginTop:10,children:[Object(V.jsx)(A.a,{variant:"body1",children:"Thread information"}),Object(V.jsx)(Yr.a,{name:"createThreadName",label:"Name",required:!0,variant:"outlined",margin:"normal",value:t,error:a&&0===t.trim().length,onChange:c}),Object(V.jsx)(Yr.a,{name:"createThreadBriefDesc",label:"Brief description",required:!0,variant:"outlined",margin:"normal",value:r,error:a&&0===r.trim().length,onChange:c}),Object(V.jsxs)(x.a,{column:!0,marginTop:40,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",children:"Thread message"}),Object(V.jsx)(Jh.a,{placeholder:"Write your thread message here. Add images for visual effects.",theme:"snow",value:n,onChange:this.handleQuillChanged(is),modules:FO})]})]})]})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:12,lg:12,children:Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:8,style:{marginTop:30},children:Object(V.jsx)(x.a,{children:a?Object(V.jsx)(A.a,{variant:"body1",align:"left",color:"error",children:"Please fill in the required fields."}):null})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,style:{marginTop:30},children:Object(V.jsxs)(x.a,{hAlignContent:"right",children:[Object(V.jsx)(x.a,{marginRight:5,children:Object(V.jsx)(G.a,{variant:"outlined",onClick:function(){return o(!1,null)},className:Object(v.b)(ot.no_text_transform),children:"Cancel"})}),Object(V.jsx)(x.a,{marginLeft:5,children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:s,className:Object(v.b)(ot.no_text_transform),children:"Submit"})})]})})]})})]})}}]),r}(n.Component),BO=Object(q.b)((function(e){return{createThreadName:e.manageForums.createThreadName,createThreadBriefDesc:e.manageForums.createThreadBriefDesc,createThreadMessage:e.manageForums.createThreadMessage,createThreadError:e.manageForums.createThreadError,threadEdited:e.manageForums.threadEdited}}),(function(e){return{toggleCreateNewThread:function(t,r){return e(Ho(t,r))},createNewThread:function(){return e((function(e,t){var r=t().manageForums.threadEdited,n=t().manageForums.forumSelected,a=t().manageForums.createThreadName,i=t().manageForums.createThreadBriefDesc,o=t().manageForums.createThreadMessage;if(0!==a.trim().length&&0!==i.trim().length){var s=t().auth.user;if(r){if(r.author={id:r.author.id},!s||s&&!s.superAdmin)return;var c=JSON.parse(JSON.stringify(r));c.name=a,c.description=i,c.message=o,c.lastEdited=$t(),Pa(c).then((function(){e({type:Vo,open:!1,threadEdited:null}),aa({userID:s.id,activityType:4,interactedObjectLocation:Et,interactedObjectID:c.id,value:{before:r,after:c},activitySummary:'Edited "%threadName%" thread in "%forumName%" forum.'.replace("%threadName%",c.name).replace("%forumName%",n.name)}),e({type:Er,message:"Thread updated.",color:"primary",position:"bottom"})})).catch((function(t){e({type:Er,message:"Error happened. Could not update thread.",color:"error",position:"bottom"})}))}else{var l={forumID:n.id,name:a,message:o,description:i,dateCreated:$t(),author:{id:s.id}};Ca(l).then((function(t){e({type:Vo,open:!1,threadEdited:null}),aa({userID:s.id,activityType:4,interactedObjectLocation:Et,interactedObjectID:t,value:Object(b.a)(Object(b.a)({},l),{},{id:t}),activitySummary:'Created "%thread%" thread in "%forum%" forum.'.replace("%thread%",l.name).replace("%forum%",n.name)}),e({type:Er,message:"Thread created.",color:"primary",position:"bottom"})})).catch((function(t){e({type:Er,message:"Error happened. Could not create thread.",color:"error",position:"bottom"})}))}}else e({type:Jo})}))},handleForumsInputChanged:function(t){return e(Mo(t))},handleQuillChanged:function(t,r){return e(ss(t,r))}}}))(LO),FO={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},GO=r(211),MO=r.n(GO),qO=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).tableChangePage=function(t){return function(r,n){e.props.tableChangePage(t,n)}},e.tableChangeRowsPerPage=function(t){return function(r){e.props.tableChangeRowsPerPage(t,r)}},e.renderThreads=function(){var t=e.props,r=t.groupProperties,n=t.currentUser,a=t.forumThreadsLoaded,i=t.forumThreads,o=t.threadsSortedMode,s=t.threadsTablePage,c=t.threadsTableRowsPerPage,l=t.toggleCreateNewThread,d=t.deleteThread,u=t.clickOnAParticularThread;if(!a)return Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:4,children:Object(V.jsx)(x.a,{hAlignContent:"center",marginTop:20,marginBottom:20,children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})})})});var p=[];switch(o){case ZO:(p=i.filter((function(e){return e.author.id===n.id}))).sort((function(e,t){return t.dateCreated-e.dateCreated}));break;case $O:i.sort((function(e,t){return t.dateCreated-e.dateCreated})),p=i;break;case ex:i.sort((function(e,t){return e.dateCreated-t.dateCreated})),p=i}return 0===p.length?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:4,children:Object(V.jsx)(A.a,{variant:"body1",align:"center",style:{marginTop:20,marginBottom:20},children:"No threads created."})})}):p.slice(s*c,s*c+c).map((function(e){return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsx)(pe.a,{children:Object(V.jsx)(A.a,{align:"left",variant:"body2",children:rr(e.dateCreated)})}),Object(V.jsx)(pe.a,{style:{maxWidth:400},children:Object(V.jsxs)(x.a,{column:!0,hAlignContent:"left",children:[Object(V.jsx)(NO.a,{onClick:function(){return u(e)},children:Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"primary",noWrap:!0,children:e.name})}),3===n.type&&n.superAdmin&&(!e.hasOwnProperty("deleted")||e.hasOwnProperty("deleted")&&!1===e.deleted)?Object(V.jsxs)(x.a,{marginTop:12,children:[Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"secondary",onClick:function(){return d(e.id)},style:{marginRight:10},children:["Delete",Object(V.jsx)(lu.a,{fontSize:"small",style:{marginLeft:6}})]}),Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"primary",onClick:function(){return l(!0,JSON.parse(JSON.stringify(e)))},children:[" Edit",Object(V.jsx)(qu.a,{fontSize:"small",style:{marginLeft:6}})]})]}):null]})}),Object(V.jsx)(pe.a,{style:{maxWidth:400},children:Object(V.jsx)(A.a,{align:"left",variant:"body2",noWrap:!0,children:e.description})}),Object(V.jsx)(pe.a,{style:{maxWidth:200},children:Object(V.jsx)(A.a,{align:"left",variant:"body2",noWrap:!0,children:3!==e.author.type?"".concat(e.author.firstName," ").concat(e.author.lastName):e.author.superAdmin?"Invest West Super Admin":"".concat(e.author.groupDetails.displayName," Admin")})})]},e.id)}))},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.groupProperties,r=e.currentUser,n=e.forumSelected,a=e.forumThreads,i=e.threadsTablePage,o=e.threadsTableRowsPerPage,s=e.threadsLoadMode,c=e.threadsSortedMode,l=e.toggleCreateNewThread,d=e.handleForumsInputChanged,u=e.goBackToForumsList,p=Object(gn.a)(a);return c===ZO&&(p=a.filter((function(e){return e.author.id===r.id}))).sort((function(e,t){return t.dateCreated-e.dateCreated})),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{vAlignContent:"center",children:[Object(V.jsx)(C.a,{color:"primary","aria-label":"Back",onClick:u,children:Object(V.jsx)(MO.a,{})}),Object(V.jsx)(x.a,{marginLeft:8,children:Object(V.jsx)(A.a,{color:"primary",variant:"h6",children:"Forum: ".concat(n.name)})})]}),Object(V.jsx)(x.a,{marginTop:12,marginBottom:24,children:Object(V.jsx)(A.a,{variant:"body2",align:"left",children:n.hasOwnProperty("lastEdited")?"Last edited: ".concat(rr(n.lastEdited)):"Created on: ".concat(rr(n.dateCreated))})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"Description:"})})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",style:{whiteSpace:"pre-line",marginTop:6},children:n.description}),Object(V.jsx)(Z.a,{style:{height:2,marginTop:35,marginBottom:35,backgroundColor:"#CFD8DC"}}),Object(V.jsx)(x.a,{marginBottom:35,children:Object(V.jsxs)(G.a,{variant:"outlined",color:"primary",className:Object(v.b)(ot.no_text_transform),onClick:function(){return l(!0,null)},children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:10}}),"Create thread"]})}),Object(V.jsx)(_.a,{fluid:!0,style:{padding:0,marginBottom:40},children:Object(V.jsxs)(I.a,{children:[3===r.type&&r.superAdmin?Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:2,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginBottom:4},children:"Mode"}),Object(V.jsx)(Fi.a,{children:Object(V.jsx)(Gi.a,{fullWidth:!0,children:Object(V.jsxs)(Ws.a,{value:s,onChange:d,margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"threadsLoadMode"}),children:[Object(V.jsx)(Vs.a,{value:Sa,children:"Live threads"}),Object(V.jsx)(Vs.a,{value:"LOAD_DELETED_THREADS",children:"Deleted threads"})]})})})]})}):null,Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:2,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginBottom:4},children:"Sort by"}),Object(V.jsx)(Fi.a,{children:Object(V.jsx)(Gi.a,{fullWidth:!0,children:Object(V.jsxs)(Ws.a,{value:c,onChange:d,margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"threadsSortedMode"}),children:[Object(V.jsx)(Vs.a,{value:$O,children:"Newest"}),Object(V.jsx)(Vs.a,{value:ZO,children:"Mine"}),Object(V.jsx)(Vs.a,{value:ex,children:"Oldest"})]})})})]})})]})}),Object(V.jsx)(Fi.a,{style:{overflowX:"auto"},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsx)(cc.a,{children:Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Date"})})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Thread"})})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Description"})})}),Object(V.jsx)(st,{colSpan:1,cellColor:t?t.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Author"})})})]})}),Object(V.jsx)(lc.a,{children:this.renderThreads()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{style:{backgroundColor:Pe},rowsPerPageOptions:[5,20,50],count:p.length,rowsPerPage:o,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:this.tableChangePage("threads"),onChangeRowsPerPage:this.tableChangeRowsPerPage("threads")})})})]})})]})}}]),r}(n.Component),WO=Object(q.b)((function(e){return{groupProperties:e.manageGroupFromParams.groupProperties,currentUser:e.auth.user,forumSelected:e.manageForums.forumSelected,forumThreads:e.manageForums.forumThreads,forumThreadsLoaded:e.manageForums.forumThreadsLoaded,threadsTablePage:e.manageForums.threadsTablePage,threadsTableRowsPerPage:e.manageForums.threadsTableRowsPerPage,threadsLoadMode:e.manageForums.threadsLoadMode,threadsSortedMode:e.manageForums.threadsSortedMode}}),(function(e){return{toggleCreateNewThread:function(t,r){return e(Ho(t,r))},deleteThread:function(t){return e(function(e){return function(t,r){var n=r().auth.user,a=r().manageForums.forumSelected;if(n&&(!n||n.superAdmin)){var i=Object(gn.a)(r().manageForums.forumThreads),o=JSON.parse(JSON.stringify(i[i.findIndex((function(t){return t.id===e}))]));o.author={id:o.author.id},wa(e).then((function(){var e=Object(b.a)(Object(b.a)({},o),{},{deleted:!0});aa({userID:n.id,activityType:4,interactedObjectLocation:Et,interactedObjectID:o.id,activitySummary:'Deleted "%threadName%" thread in "%forumName%" forum.'.replace("%threadName%",o.name).replace("%forumName%",a.name),value:{before:o,after:e}}),t({type:Er,message:"Thread deleted.",color:"primary",position:"bottom"})})).catch((function(e){t({type:Er,message:"Error happened. Could not delete thread.",color:"error",position:"bottom"})}))}}}(t))},goBackToForumsList:function(){return e({type:Qo})},clickOnAParticularThread:function(t){return e(function(e){return function(t,r){t({type:zo,threadSelected:e}),Ta(e).then((function(e){t({type:Yo,replies:e})})).catch((function(e){t({type:Yo,replies:[],error:e}),t({type:Er,message:"Error happened. Could not load replies.",color:"error",position:"bottom"})}))}}(t))},handleForumsInputChanged:function(t){return e(Mo(t))},tableChangePage:function(t,r){return e(ts(t,r))},tableChangeRowsPerPage:function(t,r){return e(ns(t,r))}}}))(qO),QO=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleQuillChanged=function(t){return function(r,n,a,i){e.props.handleQuillChanged(t,i)}},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.threadReplySubject,r=e.threadReplyMessage,n=e.createThreadReplyError,a=e.handleForumsInputChanged,i=e.submitThreadReply,o=e.toggleThreadReply;return Object(V.jsx)(Fi.a,{style:{marginTop:20},className:Object(v.b)(JO.thread_reply_style),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(Yr.a,{name:"threadReplySubject",label:"Subject",required:!0,variant:"outlined",margin:"normal",value:t,error:n&&0===t.trim().length,onChange:a}),Object(V.jsxs)(x.a,{column:!0,marginTop:30,children:[Object(V.jsx)(A.a,{paragraph:!0,variant:"body1",children:"Message *"}),Object(V.jsx)(Jh.a,{placeholder:"Write your reply here. Add images for visual effects.",value:r,theme:"snow",onChange:this.handleQuillChanged(os),modules:HO})]}),Object(V.jsxs)(I.a,{noGutters:!0,children:[Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:8,style:{marginTop:30},children:Object(V.jsx)(x.a,{children:n?Object(V.jsx)(A.a,{variant:"body1",align:"left",color:"error",children:" Please fill in the required fields. "}):null})}),Object(V.jsx)(E.a,{xs:12,sm:12,md:6,lg:4,style:{marginTop:30},children:Object(V.jsxs)(x.a,{hAlignContent:"right",children:[Object(V.jsx)(x.a,{marginRight:5,children:Object(V.jsx)(G.a,{variant:"outlined",onClick:function(){return o(!1,null)},className:Object(v.b)(ot.no_text_transform),children:"Cancel"})}),Object(V.jsx)(x.a,{marginLeft:5,children:Object(V.jsx)(G.a,{variant:"contained",color:"primary",onClick:i,className:Object(v.b)(ot.no_text_transform),children:"Submit"})})]})})]})]})})}}]),r}(n.Component),VO=Object(q.b)((function(e){return{threadReplySubject:e.manageForums.threadReplySubject,threadReplyMessage:e.manageForums.threadReplyMessage,createThreadReplyError:e.manageForums.createThreadReplyError}}),(function(e){return{toggleThreadReply:function(t,r){return e(Zo(t,r))},submitThreadReply:function(){return e((function(e,t){var r=t().auth.user,n=t().manageForums.forumSelected,a=t().manageForums.forumThreadSelected,i=t().manageForums.threadReplySubject,o=t().manageForums.threadReplyMessage,s=t().manageForums.threadReplyEdited;if(0!==i.trim().length&&0!==o.ops.length)if(s){if(s.author={id:s.author.id},!r.superAdmin&&r.id!==s.author.id)return;var c=JSON.parse(JSON.stringify(s));c.subject=i,c.message=o,c.lastEdited=$t(),Ea(c).then((function(){e({type:Xo,open:!1,threadReplyEdited:null}),aa({userID:r.id,activityType:4,interactedObjectLocation:Dt,interactedObjectID:c.id,value:{before:s,after:c},activitySummary:'Edited reply in "%threadName%" thread of "%forumName%" forum.'.replace("%threadName%",a.name).replace("%forumName%",n.name)}),e({type:Er,message:"Reply updated.",color:"primary",position:"bottom"})})).catch((function(t){e({type:Er,message:"Error happened. Could not update reply.",color:"error",position:"bottom"})}))}else{var l={threadID:a.id,subject:i,message:o,replyDate:$t(),author:{id:r.id}};Ia(l).then((function(t){e({type:Xo,open:!1,threadReplyEdited:null}),aa({userID:r.id,activityType:4,interactedObjectLocation:Dt,interactedObjectID:t,value:Object(b.a)(Object(b.a)({},l),{},{id:t}),activitySummary:'Replied to "%thread%" thread in "%forum%" forum.'.replace("%thread%",a.name).replace("%forum%",n.name)})})).catch((function(t){e({type:Er,message:"Error happened. Could not create reply.",color:"error",position:"bottom"})}))}else e({type:$o})}))},handleQuillChanged:function(t,r){return e(ss(t,r))},handleForumsInputChanged:function(t){return e(Mo(t))}}}))(QO),HO={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},JO=v.a.create({thread_reply_style:{padding:20,marginTop:10,marginBottom:10}}),zO=75,YO=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).renderReplies=function(){var t=e.props,n=t.currentUser,a=t.forumThreadReplies,i=t.threadInReplyMode,o=t.threadReplyEdited,s=t.toggleThreadReply,c=t.deleteThreadReply;if(0!==a.length)return a.sort((function(e,t){return t.replyDate-e.replyDate})),a.map((function(e){return Object(V.jsx)(Fi.a,{className:Object(v.b)(XO.thread_reply_style),children:e.hasOwnProperty("deleted")&&!0===e.deleted?Object(V.jsx)(x.a,{children:Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("i",{children:"This reply has been removed."})})}):Object(V.jsxs)(x.a,{column:!0,width:"100%",children:[Object(V.jsxs)(x.a,{vAlignContent:"center",marginBottom:10,width:"100%",children:[Object(V.jsx)(x.a,{hAlignContent:"left",children:3===e.author.type?e.author.superAdmin?Object(V.jsx)(x.a,{width:zO,height:zO,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:r(387).default,style:{width:"100%",maxHeight:zO,objectFit:"contain"}})}):Object(V.jsx)(x.a,{width:zO,height:zO,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:pr(1,e.author.groupDetails),style:{width:"100%",maxHeight:zO,objectFit:"contain"}})}):!e.author.profilePicture||e.author.profilePicture&&-1===e.author.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(ic,{firstName:e.author.firstName,lastName:e.author.lastName,width:zO,height:zO,textVariant:"h5"}):Object(V.jsx)(x.a,{width:zO,height:zO,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:e.author.profilePicture[e.author.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,style:{width:"100%",maxHeight:zO,objectFit:"contain"}})})}),Object(V.jsxs)(x.a,{column:!0,marginLeft:15,hAlignContent:"left",children:[Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:3!==e.author.type?"".concat(e.author.firstName," ").concat(e.author.lastName):e.author.superAdmin?"Invest West Super Admin":"".concat(e.author.groupDetails.displayName," Admin")})}),Object(V.jsx)(A.a,{variant:"subtitle2",align:"left",children:e.hasOwnProperty("lastEdited")?"Last edited: ".concat(rr(e.lastEdited)):"Replied on: ".concat(rr(e.replyDate))})]}),3===n.type&&n.superAdmin||n.id===e.author.id?Object(V.jsxs)(x.a,{hAlignContent:"left",vAlignContent:"center",marginLeft:60,children:[Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"secondary",onClick:function(){return c(e.id)},style:{marginRight:10},children:["Delete",Object(V.jsx)(lu.a,{fontSize:"small",style:{marginLeft:6}})]}),Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"primary",onClick:function(){return s(!0,JSON.parse(JSON.stringify(e)))},children:["Edit",Object(V.jsx)(qu.a,{fontSize:"small",style:{marginLeft:6}})]})]}):null]}),e.message?Object(V.jsx)(x.a,{column:!0,marginTop:15,dangerouslySetInnerHTML:{__html:ir(e.message.ops)}}):null,i&&o&&o.id===e.id?Object(V.jsx)(VO,{}):null]})},e.id)}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.groupProperties,n=e.forumThreadSelected,a=e.forumThreadRepliesLoaded,i=e.threadInReplyMode,o=e.threadReplyEdited,s=e.goBackToThreadsList,c=e.toggleThreadReply;return a?Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{vAlignContent:"center",marginBottom:24,children:[Object(V.jsx)(C.a,{color:"primary","aria-label":"Back",onClick:s,children:Object(V.jsx)(MO.a,{})}),Object(V.jsx)(x.a,{marginLeft:8,children:Object(V.jsx)(A.a,{color:"primary",variant:"h6",children:"Thread: ".concat(n.name)})})]}),Object(V.jsx)(Fi.a,{className:Object(v.b)(XO.thread_reply_style),children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(x.a,{vAlignContent:"center",marginBottom:10,children:[3===n.author.type?n.author.superAdmin?Object(V.jsx)(x.a,{width:zO,height:zO,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:r(387).default,style:{width:"100%",maxHeight:zO,objectFit:"contain"}})}):Object(V.jsx)(x.a,{width:zO,height:zO,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:pr(1,n.author.groupDetails),style:{width:"100%",maxHeight:zO,objectFit:"contain"}})}):!n.author.profilePicture||n.author.profilePicture&&-1===n.author.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))?Object(V.jsx)(ic,{firstName:n.author.firstName,lastName:n.author.lastName,width:zO,height:zO,textVariant:"h5"}):Object(V.jsx)(x.a,{width:zO,height:zO,children:Object(V.jsx)(te.a,{roundedCircle:!0,thumbnail:!0,src:n.author.profilePicture[n.author.profilePicture.findIndex((function(e){return!e.hasOwnProperty("removed")}))].url,style:{width:"100%",maxHeight:zO,objectFit:"contain"}})}),Object(V.jsxs)(x.a,{column:!0,marginLeft:15,marginBottom:10,children:[Object(V.jsx)(A.a,{variant:"body1",children:Object(V.jsx)("b",{children:3!==n.author.type?"".concat(n.author.firstName," ").concat(n.author.lastName):n.author.superAdmin?"Invest West Super Admin":"".concat(n.author.groupDetails.displayName," Admin")})}),Object(V.jsx)(A.a,{variant:"subtitle2",align:"left",children:n.hasOwnProperty("lastEdited")?"Last edited: ".concat(rr(n.lastEdited)):"Created on: ".concat(rr(n.dateCreated))})]})]}),Object(V.jsx)(A.a,{variant:"body1",align:"left",children:Object(V.jsx)("b",{children:Object(V.jsx)("u",{children:"Description:"})})}),Object(V.jsx)(A.a,{variant:"body1",align:"left",style:{whiteSpace:"pre-line",marginTop:6,marginBottom:15},children:n.description}),n.message?Object(V.jsx)(x.a,{column:!0,dangerouslySetInnerHTML:{__html:ir(n.message.ops)},marginTop:25}):null,i?null:Object(V.jsx)(x.a,{marginTop:25,marginBottom:8,children:Object(V.jsx)(G.a,{className:Object(v.b)(ot.no_text_transform),variant:"outlined",color:"primary",onClick:function(){return c(!0,null)},children:"Reply"})})]})}),i?o?null:Object(V.jsx)(VO,{}):null,Object(V.jsx)(x.a,{column:!0,marginTop:20,children:this.renderReplies()})]}):Object(V.jsx)(x.a,{hAlignContent:"center",children:Object(V.jsx)(Ji.a,{color:t?t.settings.primaryColor:et})})}}]),n}(n.Component),KO=Object(q.b)((function(e){return{groupProperties:e.manageGroupFromParams.groupProperties,currentUser:e.auth.user,threadInReplyMode:e.manageForums.threadInReplyMode,threadReplyEdited:e.manageForums.threadReplyEdited,forumThreadSelected:e.manageForums.forumThreadSelected,forumThreadReplies:e.manageForums.forumThreadReplies,forumThreadRepliesLoaded:e.manageForums.forumThreadRepliesLoaded}}),(function(e){return{toggleThreadReply:function(t,r){return e(Zo(t,r))},deleteThreadReply:function(t){return e(function(e){return function(t,r){var n=r().auth.user,a=r().manageForums.forumSelected,i=r().manageForums.forumThreadSelected;if(n){var o=Object(gn.a)(r().manageForums.forumThreadReplies),s=JSON.parse(JSON.stringify(o[o.findIndex((function(t){return t.id===e}))]));s.author={id:s.author.id},(n.superAdmin||n.id===s.author.id)&&Da(e).then((function(){var e=Object(b.a)(Object(b.a)({},s),{},{deleted:!0});aa({userID:n.id,activityType:4,interactedObjectLocation:Et,interactedObjectID:s.id,activitySummary:'Deleted reply in "%threadName%" thread of "%forumName%" forum.'.replace("%threadName%",i.name).replace("%forumName%",a.name),value:{before:s,after:e}}),t({type:Er,message:"Reply deleted.",color:"primary",position:"bottom"})})).catch((function(e){t({type:Er,message:"Error happened. Could not delete reply.",color:"error",position:"bottom"})}))}}}(t))},goBackToThreadsList:function(){return e({type:Ko})}}}))(YO),XO=v.a.create({thread_reply_style:{padding:20,marginTop:10,marginBottom:10}}),ZO=(r(705),0),$O=1,ex=2,tx=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).tableChangePage=function(t){return function(r,n){e.props.tableChangePage(t,n)}},e.tableChangeRowsPerPage=function(t){return function(r){e.props.tableChangeRowsPerPage(t,r)}},e.addAndRemoveListeners=function(){var t=e.props,r=t.forums,n=t.forumsLoaded,a=t.forumSelected,i=t.forumThreads,o=t.forumThreadsLoaded,s=t.forumThreadSelected,c=t.forumThreadReplies,l=t.forumThreadRepliesLoaded,d=t.startListeningForForumsChanged,u=t.startListeningForThreadsChanged,p=t.stopListeningForThreadsChanged,h=t.startListeningForThreadRepliesChanged,j=t.stopListeningForThreadRepliesChanged;r&&n&&d(),a&&i&&o&&u(),a||o||p(),s&&c&&l&&h(),s||l||j()},e.renderContent=function(){var t=e.props,r=t.groupProperties,n=t.currentUser,a=t.modeForums,i=t.forums,o=t.forumsSortedMode,s=t.forumsLoadMode,c=t.forumsTablePage,l=t.forumsTableRowsPerPage,d=t.toggleCreateNewForum,u=t.handleForumsInputChanged;if(!n)return null;switch(a){case 0:var p=Object(gn.a)(i);return o===ZO&&(p=i.filter((function(e){return e.author.id===n.id}))).sort((function(e,t){return t.dateCreated-e.dateCreated})),Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",align:"left",children:["Forums are made up of individual discussion threads that can be organised around a particular subject. Create forums to organise discussions.",Object(V.jsx)("br",{}),Object(V.jsx)("u",{children:"Note that all forums are visible across the Invest West network."})]}),Object(V.jsx)(x.a,{marginTop:35,marginBottom:35,children:Object(V.jsxs)(G.a,{color:"primary",variant:"outlined",className:Object(v.b)(ot.no_text_transform),onClick:function(){return d(!0,null)},children:[Object(V.jsx)(ne.a,{fontSize:"small",style:{marginRight:10}}),"Create forum"]})}),Object(V.jsx)(_.a,{fluid:!0,style:{padding:0,marginBottom:40},children:Object(V.jsxs)(I.a,{children:[3===n.type&&n.superAdmin?Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:2,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginBottom:4},children:"Mode"}),Object(V.jsx)(Fi.a,{children:Object(V.jsx)(Gi.a,{fullWidth:!0,children:Object(V.jsxs)(Ws.a,{value:s,onChange:u,margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"forumsLoadMode"}),children:[Object(V.jsx)(Vs.a,{value:Oa,children:"Live forums"}),Object(V.jsx)(Vs.a,{value:xa,children:"Deleted forums"})]})})})]})}):null,Object(V.jsx)(E.a,{xs:12,sm:12,md:4,lg:2,children:Object(V.jsxs)(x.a,{column:!0,children:[Object(V.jsx)(A.a,{variant:"body2",align:"left",style:{marginBottom:4},children:"Sort by"}),Object(V.jsx)(Fi.a,{children:Object(V.jsx)(Gi.a,{fullWidth:!0,children:Object(V.jsxs)(Ws.a,{value:o,onChange:u,margin:"dense",input:Object(V.jsx)(Qs.a,{labelWidth:0,name:"forumsSortedMode"}),children:[Object(V.jsx)(Vs.a,{value:$O,children:"Newest"}),Object(V.jsx)(Vs.a,{value:ZO,children:"Mine"}),Object(V.jsx)(Vs.a,{value:ex,children:"Oldest"})]})})})]})})]})}),Object(V.jsx)(Fi.a,{style:{overflowX:"auto"},children:Object(V.jsxs)(sc.a,{children:[Object(V.jsx)(cc.a,{children:Object(V.jsxs)(oc.a,{children:[Object(V.jsx)(st,{colSpan:1,cellColor:r?r.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Date"})})}),Object(V.jsx)(st,{colSpan:1,cellColor:r?r.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Forum"})})}),Object(V.jsx)(st,{colSpan:1,cellColor:r?r.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Description"})})}),Object(V.jsx)(st,{colSpan:1,cellColor:r?r.settings.primaryColor:et,component:Object(V.jsx)(A.a,{align:"left",variant:"body2",className:Object(v.b)(ot.white_text),children:Object(V.jsx)("b",{children:"Author"})})})]})}),Object(V.jsx)(lc.a,{children:e.renderForums()}),Object(V.jsx)(dc.a,{children:Object(V.jsx)(oc.a,{children:Object(V.jsx)(uc.a,{style:{backgroundColor:Pe},rowsPerPageOptions:[5,20,50],count:p.length,rowsPerPage:l,page:c,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},SelectProps:{native:!0},onChangePage:e.tableChangePage("forums"),onChangeRowsPerPage:e.tableChangeRowsPerPage("forums")})})})]})})]});case 1:return Object(V.jsx)(UO,{});case 2:return Object(V.jsx)(WO,{});case 3:return Object(V.jsx)(BO,{});case 4:return Object(V.jsx)(KO,{});default:return null}},e.renderForums=function(){var t=e.props,r=t.groupProperties,n=t.currentUser,a=t.forums,i=t.forumsLoaded,o=t.forumsSortedMode,s=t.forumsTablePage,c=t.forumsTableRowsPerPage,l=t.clickOnAParticularForum,d=t.deleteForum,u=t.toggleCreateNewForum;if(!i)return Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:4,children:Object(V.jsx)(x.a,{hAlignContent:"center",marginTop:20,marginBottom:20,children:Object(V.jsx)(Ji.a,{color:r?r.settings.primaryColor:et})})})});var p=[];switch(o){case ZO:(p=a.filter((function(e){return e.author.id===n.id}))).sort((function(e,t){return t.dateCreated-e.dateCreated}));break;case $O:a.sort((function(e,t){return t.dateCreated-e.dateCreated})),p=a;break;case ex:a.sort((function(e,t){return e.dateCreated-t.dateCreated})),p=a}return 0===p.length?Object(V.jsx)(oc.a,{children:Object(V.jsx)(pe.a,{colSpan:4,children:Object(V.jsx)(A.a,{variant:"body1",align:"center",style:{marginTop:20,marginBottom:20},children:"No forums created."})})}):p.slice(s*c,s*c+c).map((function(e){return Object(V.jsx)(rx,{currentUser:n,forum:e,onForumClick:l,deleteForum:d,toggleEditForum:u},e.id)}))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.loadForums)(Oa),this.addAndRemoveListeners()}},{key:"componentDidUpdate",value:function(e,t,r){this.addAndRemoveListeners()}},{key:"render",value:function(){return this.props.groupPropertiesLoaded?Object(V.jsx)(_.a,{fluid:!0,style:{padding:30},children:this.renderContent()}):null}}]),r}(n.Component),rx=(Object(q.b)((function(e){return{groupPropertiesLoaded:e.manageGroupFromParams.groupPropertiesLoaded,groupProperties:e.manageGroupFromParams.groupProperties,shouldLoadOtherData:e.manageGroupFromParams.shouldLoadOtherData,currentUser:e.auth.user,modeForums:e.manageForums.modeForums,forumsSortedMode:e.manageForums.forumsSortedMode,forumsLoadMode:e.manageForums.forumsLoadMode,forums:e.manageForums.forums,forumsLoaded:e.manageForums.forumsLoaded,forumSelected:e.manageForums.forumSelected,forumThreads:e.manageForums.forumThreads,forumThreadsLoaded:e.manageForums.forumThreadsLoaded,forumsTablePage:e.manageForums.forumsTablePage,forumsTableRowsPerPage:e.manageForums.forumsTableRowsPerPage,forumThreadSelected:e.manageForums.forumThreadSelected,forumThreadReplies:e.manageForums.forumThreadReplies,forumThreadRepliesLoaded:e.manageForums.forumThreadRepliesLoaded,threadInReplyMode:e.manageForums.threadInReplyMode,threadReplySubject:e.manageForums.threadReplySubject,threadReplyMessage:e.manageForums.threadReplyMessage,createThreadReplyError:e.manageForums.createThreadReplyError}}),(function(e){return{loadForums:function(t){return e(function(e){return function(t,r){var n=r().manageForums.forums;r().manageForums.forumsLoaded||0!==n.length||(t({type:ko}),va(e).then((function(e){t({type:No,forums:e})})).catch((function(e){t({type:No,forums:[],error:e}),t({type:Er,message:"Error happened. Could not load forums.",color:"error",position:"bottom"})})))}}(t))},startListeningForForumsChanged:function(){return e((function(e,t){cs||((cs=R.database().ref(It)).on("child_added",(function(r){var n=r.val(),a=t().auth.user,i=t().manageForums.forumsLoadMode,o=Object(gn.a)(t().manageForums.forums);-1===o.findIndex((function(e){return e.id===n.id}))&&(i===Oa?(!n.hasOwnProperty("deleted")||n.hasOwnProperty("deleted")&&!1===n.deleted)&&(n.author.id===a.id?(n.author=a,o.push(n),e({type:us,forumsChanged:Object(gn.a)(o)})):ma(n.author.id).then((function(t){n.author=t,o.push(n),e({type:us,forumsChanged:Object(gn.a)(o)})})).catch((function(e){}))):n.hasOwnProperty("deleted")&&!0===n.deleted&&(n.author.id===a.id?(n.author=a,o.push(n),e({type:us,forumsChanged:Object(gn.a)(o)})):ma(n.author.id).then((function(t){n.author=t,o.push(n),e({type:us,forumsChanged:Object(gn.a)(o)})})).catch((function(e){}))))})),cs.on("child_changed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageForums.forums),i=a.findIndex((function(e){return e.id===n.id}));-1!==i?(!n.hasOwnProperty("deleted")||n.hasOwnProperty("deleted")&&!1===n.deleted?(n.author=a[i].author,a[i]=n):a.splice(i,1),e({type:us,forumsChanged:Object(gn.a)(a)})):ma(n.author.id).then((function(t){n.author=t,a.push(n),e({type:us,forumsChanged:Object(gn.a)(a)})})).catch((function(e){}))})),cs.on("child_removed",(function(r){var n=Object(gn.a)(t().manageForums.forums),a=n.findIndex((function(e){return e.id===r.key}));n.splice(a,1),e({type:us,forumsChanged:Object(gn.a)(n)})})))}))},stopListeningForForumsChanged:function(){return e(ps())},startListeningForThreadsChanged:function(){return e((function(e,t){var r=t().manageForums.forumSelected;ls||((ls=R.database().ref(Et).orderByChild("forumID").equalTo(r.id)).on("child_added",(function(r){var n=r.val(),a=t().auth.user,i=t().manageForums.threadsLoadMode,o=Object(gn.a)(t().manageForums.forumThreads);-1===o.findIndex((function(e){return e.id===n.id}))&&(i===Sa?(!n.hasOwnProperty("deleted")||n.hasOwnProperty("deleted")&&!1===n.deleted)&&(n.author.id===a.id?(n.author=a,o.push(n),e({type:hs,threadsChanged:Object(gn.a)(o)})):ma(n.author.id).then((function(t){n.author=t,o.push(n),e({type:hs,threadsChanged:Object(gn.a)(o)})})).catch((function(e){}))):n.hasOwnProperty("deleted")&&!0===n.deleted&&(n.author.id===a.id?(n.author=a,o.push(n),e({type:hs,threadsChanged:Object(gn.a)(o)})):ma(n.author.id).then((function(t){n.author=t,o.push(n),e({type:hs,forumsChanged:Object(gn.a)(o)})})).catch((function(e){}))))})),ls.on("child_changed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageForums.forumThreads),i=a.findIndex((function(e){return e.id===n.id}));-1!==i?(!n.hasOwnProperty("deleted")||n.hasOwnProperty("deleted")&&!1===n.deleted?(n.author=a[i].author,a[i]=n):a.splice(i,1),e({type:hs,threadsChanged:Object(gn.a)(a)})):ma(n.author.id).then((function(t){n.author=t,a.push(n),e({type:hs,threadsChanged:Object(gn.a)(a)})})).catch((function(e){}))})),ls.on("child_removed",(function(r){var n=Object(gn.a)(t().manageForums.forumThreads),a=n.findIndex((function(e){return e.id===r.key}));n.splice(a,1),e({type:hs,threadsChanged:Object(gn.a)(n)})})))}))},stopListeningForThreadsChanged:function(){return e(js())},startListeningForThreadRepliesChanged:function(){return e((function(e,t){var r=t().auth.user,n=t().manageForums.forumThreadSelected;ds||((ds=R.database().ref(Dt).orderByChild("threadID").equalTo(n.id)).on("child_added",(function(n){var a=n.val(),i=Object(gn.a)(t().manageForums.forumThreadReplies);-1===i.findIndex((function(e){return e.id===a.id}))&&(a.author.id===r.id?(a.author=r,i.push(a),e({type:gs,repliesChanged:Object(gn.a)(i)})):ma(a.author.id).then((function(t){a.author=t,i.push(a),e({type:gs,repliesChanged:Object(gn.a)(i)})})).catch((function(e){})))})),ds.on("child_changed",(function(r){var n=r.val(),a=Object(gn.a)(t().manageForums.forumThreadReplies),i=a.findIndex((function(e){return e.id===n.id}));n.author=a[i].author,a[i]=n,e({type:gs,repliesChanged:Object(gn.a)(a)})})),ds.on("child_removed",(function(r){var n=Object(gn.a)(t().manageForums.forumThreadReplies),a=n.findIndex((function(e){return e.id===r.key}));n.splice(a,1),e({type:gs,repliesChanged:Object(gn.a)(n)})})))}))},stopListeningForThreadRepliesChanged:function(){return e(bs())},toggleCreateNewForum:function(t,r){return e(Bo(t,r))},clickOnAParticularForum:function(t){return e(function(e){return function(t,r){var n=r().manageForums.threadsLoadMode;t({type:qo,forumSelected:e}),_a(n,e).then((function(e){t({type:Wo,threads:e})})).catch((function(e){t({type:Wo,threads:[],error:e}),t({type:Er,message:"Error happened. Could not load threads.",color:"error",position:"bottom"})}))}}(t))},deleteForum:function(t){return e(function(e){return function(t,r){var n=r().auth.user;if(n&&(!n||n.superAdmin)){var a=Object(gn.a)(r().manageForums.forums),i=JSON.parse(JSON.stringify(a[a.findIndex((function(t){return t.id===e}))]));i.author={id:i.author.id},Aa(e).then((function(){var e=Object(b.a)(Object(b.a)({},i),{},{deleted:!0});aa({userID:n.id,activityType:4,interactedObjectLocation:It,interactedObjectID:i.id,activitySummary:'Deleted "%forumName%" forum.'.replace("%forumName%",i.name),value:{before:i,after:e}}),t({type:Er,message:"Forum deleted.",color:"primary",position:"bottom"})})).catch((function(e){t({type:Er,message:"Error happened. Could not delete forum.",color:"error",position:"bottom"})}))}}}(t))},handleForumsInputChanged:function(t){return e(Mo(t))},tableChangePage:function(t,r){return e(ts(t,r))},tableChangeRowsPerPage:function(t,r){return e(ns(t,r))}}}))(tx),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onForumClick=function(t){e.props.onForumClick(t)},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.currentUser,n=t.forum,a=t.deleteForum,i=t.toggleEditForum;return Object(V.jsxs)(oc.a,{hover:!0,children:[Object(V.jsxs)(pe.a,{children:[" ",Object(V.jsx)(A.a,{align:"left",variant:"body2",children:rr(n.dateCreated)})]}),Object(V.jsx)(pe.a,{style:{maxWidth:400},children:Object(V.jsxs)(x.a,{column:!0,hAlignContent:"left",children:[Object(V.jsx)(NO.a,{onClick:function(){return e.onForumClick(n)},children:Object(V.jsx)(A.a,{align:"left",variant:"body2",color:"primary",noWrap:!0,children:n.name})}),3===r.type&&r.superAdmin&&(!n.hasOwnProperty("deleted")||n.hasOwnProperty("deleted")&&!1===n.deleted)?Object(V.jsxs)(x.a,{marginTop:12,children:[Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"secondary",onClick:function(){return a(n.id)},style:{marginRight:10},children:["Delete",Object(V.jsx)(lu.a,{fontSize:"small",style:{marginLeft:6}})]}),Object(V.jsxs)(G.a,{variant:"outlined",className:Object(v.b)(ot.no_text_transform),size:"small",color:"primary",onClick:function(){return i(!0,JSON.parse(JSON.stringify(n)))},children:["Edit",Object(V.jsx)(qu.a,{fontSize:"small",style:{marginLeft:6}})]})]}):null]})}),Object(V.jsx)(pe.a,{style:{maxWidth:400},children:Object(V.jsx)(A.a,{variant:"body2",align:"left",noWrap:!0,children:n.description})}),Object(V.jsx)(pe.a,{style:{maxWidth:200},children:Object(V.jsx)(A.a,{align:"left",variant:"body2",noWrap:!0,children:3!==n.author.type?"".concat(n.author.firstName," ").concat(n.author.lastName):n.author.superAdmin?"Invest West Super Admin":"".concat(n.author.groupDetails.displayName," Admin")})})]})}}]),r}(n.Component)),nx={modeForums:0,forumsSortedMode:$O,forumsLoadMode:Oa,threadsLoadMode:Sa,threadsSortedMode:$O,forums:[],forumsLoaded:!1,forumsTablePage:0,forumsTableRowsPerPage:5,forumSelected:null,forumThreads:[],forumThreadsLoaded:!1,forumThreadSelected:null,forumThreadReplies:[],forumThreadRepliesLoaded:!1,threadsTablePage:0,threadsTableRowsPerPage:5,createForumName:"",createForumDesc:"",createForumAuthor:null,createForumError:!1,forumEdited:null,createThreadName:"",createThreadBriefDesc:"",createThreadMessage:{ops:[]},createThreadError:!1,threadEdited:null,threadInReplyMode:!1,threadReplyEdited:null,threadReplySubject:"",threadReplyMessage:{ops:[]},createThreadReplyError:!1},ax=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return nx;case Uo:return Object(b.a)(Object(b.a)({},nx),{},{forums:e.forums,forumsLoaded:e.forumsLoaded,forumsSortedMode:e.forumsSortedMode,forumsLoadMode:e.forumsLoadMode,forumsTablePage:e.forumsTablePage,forumsTableRowsPerPage:e.forumsTableRowsPerPage});case ko:return Object(b.a)(Object(b.a)({},e),{},{forums:[],forumsLoaded:!1});case No:return Object(b.a)(Object(b.a)({},e),{},{forums:Object(gn.a)(t.forums),forumsLoaded:!0});case Ro:return Object(b.a)(Object(b.a)({},e),{},{forums:[],forumsLoaded:!0});case Lo:return Object(b.a)(Object(b.a)({},e),{},{modeForums:t.open?1:0,forumEdited:t.forumEdited?JSON.parse(JSON.stringify(t.forumEdited)):null,createForumName:t.forumEdited?t.forumEdited.name:"",createForumDesc:t.forumEdited?t.forumEdited.description:"",createForumError:!1,createForumAuthor:null});case Fo:return Object(b.a)(Object(b.a)({},e),{},{createForumError:!0});case Go:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.name,t.value));case qo:return Object(b.a)(Object(b.a)({},e),{},{modeForums:2,forumSelected:JSON.parse(JSON.stringify(t.forumSelected)),forumThreadsLoaded:!1});case Wo:return Object(b.a)(Object(b.a)({},e),{},{forumThreads:Object(gn.a)(t.threads),forumThreadsLoaded:!0});case Qo:return Object(b.a)(Object(b.a)({},nx),{},{forums:e.forums,forumsLoaded:e.forumsLoaded,forumsSortedMode:e.forumsSortedMode,forumsLoadMode:e.forumsLoadMode,forumsTablePage:e.forumsTablePage,forumsTableRowsPerPage:e.forumsTableRowsPerPage});case Vo:return Object(b.a)(Object(b.a)({},e),{},{modeForums:t.open?3:2,threadEdited:t.threadEdited?JSON.parse(JSON.stringify(t.threadEdited)):null,createThreadName:t.threadEdited?t.threadEdited.name:"",createThreadBriefDesc:t.threadEdited?t.threadEdited.description:"",createThreadMessage:t.threadEdited?t.threadEdited.message:{ops:[]},createThreadError:!1});case Jo:return Object(b.a)(Object(b.a)({},e),{},{createThreadError:!0});case zo:return Object(b.a)(Object(b.a)({},e),{},{modeForums:4,forumThreadSelected:JSON.parse(JSON.stringify(t.threadSelected)),forumThreadRepliesLoaded:!1});case Yo:return Object(b.a)(Object(b.a)({},e),{},{forumThreadReplies:Object(gn.a)(t.replies),forumThreadRepliesLoaded:!0});case Ko:return Object(b.a)(Object(b.a)({},e),{},{modeForums:2,forumThreadSelected:null,forumThreadReplies:[],forumThreadRepliesLoaded:!1,threadInReplyMode:!1,threadReplyMessage:{ops:[]}});case Xo:return Object(b.a)(Object(b.a)({},e),{},{threadInReplyMode:t.open,threadReplyEdited:JSON.parse(JSON.stringify(t.threadReplyEdited)),threadReplySubject:t.open?t.threadReplyEdited?t.threadReplyEdited.subject:"RE: ".concat(e.forumThreadSelected.name):"",threadReplyMessage:t.open&&t.threadReplyEdited?t.threadReplyEdited.message:{ops:[]},createThreadReplyError:!1});case $o:return Object(b.a)(Object(b.a)({},e),{},{createThreadReplyError:!0});case as:return Object(b.a)(Object(b.a)({},e),{},{createThreadMessage:t.field===is?t.quill:e.createThreadMessage,threadReplyMessage:t.field===os?t.quill:e.threadReplyMessage});case us:return Object(b.a)(Object(b.a)({},e),{},{forums:Object(gn.a)(t.forumsChanged)});case hs:return Object(b.a)(Object(b.a)({},e),{},{forumThreads:Object(gn.a)(t.threadsChanged)});case gs:return Object(b.a)(Object(b.a)({},e),{},{forumThreadReplies:Object(gn.a)(t.repliesChanged)});case es:return Object(b.a)(Object(b.a)({},e),{},{forumsTablePage:"forums"===t.table?t.newPage:e.forumsTablePage,threadsTablePage:"threads"===t.table?t.newPage:e.threadsTablePage});case rs:return Object(b.a)(Object(b.a)({},e),{},{forumsTableRowsPerPage:"forums"===t.table?t.value:e.forumsTableRowsPerPage,threadsTableRowsPerPage:"threads"===t.table?t.value:e.threadsTableRowsPerPage});default:return e}},ix={notificationsAnchorEl:null,notificationBellRef:void 0,notifications:[],loadingNotifications:!1,notificationsLoaded:!1},ox=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ix,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return ix;case pu:return Object(b.a)(Object(b.a)({},e),{},{notificationsAnchorEl:t.notificationsAnchorEl});case ju:return Object(b.a)(Object(b.a)({},e),{},{notificationBellRef:t.notificationBellRef});case bu:return Object(b.a)(Object(b.a)({},e),{},{loadingNotifications:!0,notificationsLoaded:!1});case mu:return Object(b.a)(Object(b.a)({},e),{},{loadingNotifications:!1,notificationsLoaded:!0,notifications:Object(gn.a)(t.notifications)});case Ou:return Object(b.a)(Object(b.a)({},e),{},{notifications:Object(gn.a)(t.notifications)});default:return e}},sx={sidebarDocked:eO.matches||tO.matches,sidebarOpen:!1},cx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return sx;case Do:return Object(b.a)(Object(b.a)({},e),{},{sidebarDocked:t.hasOwnProperty("sidebarDocked")?t.sidebarDocked:e.sidebarDocked,sidebarOpen:t.sidebarOpen});case Df.MediaQueryChanged:return Object(b.a)(Object(b.a)({},e),{},{sidebarDocked:"isLaptop"===t.name||"isDesktop"===t.name?t.value:e.sidebarDocked,sidebarOpen:!1});default:return e}},lx={isMobile:Zf.matches,isTablet:$f.matches,isLaptop:eO.matches,isDesktop:tO.matches,minHeightScreen:rO.matches},dx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lx,t=arguments.length>1?arguments[1]:void 0;return t.type===Df.MediaQueryChanged?Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.name,t.value)):e},ux={clubAttributesEdited:null,addNewPledgeFAQ:!1,addedPledgeQuestion:"",addedPledgeAnswer:"",expandedPledgeFAQ:null,editExpandedPledgeFAQ:!1,editedPledgeQuestion:"",editedPledgeAnswer:""},px=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ux,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh:return Object(b.a)(Object(b.a)({},e),{},{clubAttributesEdited:JSON.parse(JSON.stringify(t.clubAttributes))});case Hf:return Object(b.a)(Object(b.a)({},e),{},{clubAttributesEdited:Object(b.a)(Object(b.a)({},e.clubAttributesEdited),{},Object(Bi.a)({},t.key,t.value)),expandedPledgeFAQ:e.expandedPledgeFAQ?t.key!==St?e.expandedPledgeFAQ:t.value.hasOwnProperty(St)&&e.expandedPledgeFAQ?-1===t.value.findIndex((function(t){return t.id===e.expandedPledgeFAQ.id}))?e.expandedPledgeFAQ:t.value[t.value.findIndex((function(t){return t.id===e.expandedPledgeFAQ.id}))]:null:null});case Yh:var r=t.isPropertyOfClubAttributes;return r?Object(b.a)(Object(b.a)({},e),{},{clubAttributesEdited:Object(b.a)(Object(b.a)({},e.clubAttributesEdited),{},Object(Bi.a)({},t.name,t.value))}):Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.name,t.value));case Kh:return Object(b.a)(Object(b.a)({},e),{},{clubAttributesEdited:Object(b.a)(Object(b.a)({},e.clubAttributesEdited),{},Object(Bi.a)({},t.fieldName,t.value))});case Xh:return Object(b.a)(Object(b.a)({},e),{},{expandedPledgeFAQ:t.expandedPledgeFAQ,editExpandedPledgeFAQ:t.editExpandedPledgeFAQ});case $h:return Object(b.a)(Object(b.a)({},e),{},{addNewPledgeFAQ:!e.addNewPledgeFAQ,addedPledgeQuestion:"",addedPledgeAnswer:""});case Zh:return Object(b.a)(Object(b.a)({},e),{},{editExpandedPledgeFAQ:!e.editExpandedPledgeFAQ,editedPledgeQuestion:e.editExpandedPledgeFAQ?"":e.expandedPledgeFAQ.question,editedPledgeAnswer:e.editExpandedPledgeFAQ?"":e.expandedPledgeFAQ.answer});default:return e}},hx={groupAttributesEdited:null,website:"",description:"",primaryColor:"",secondaryColor:"",addNewPledgeFAQ:!1,addedPledgeQuestion:"",addedPledgeAnswer:"",expandedPledgeFAQ:null,editExpandedPledgeFAQ:!1,editedPledgeQuestion:"",editedPledgeAnswer:""},jx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return hx;case fj:var r=JSON.parse(JSON.stringify(t.group.settings));return r.hasOwnProperty("defaultPitchExpiryDate")||(r.defaultPitchExpiryDate=er(1)),Object(b.a)(Object(b.a)({},e),{},{groupAttributesEdited:r,website:t.group.hasOwnProperty("website")?t.group.website:"",description:t.group.hasOwnProperty("description")?t.group.description:"",primaryColor:t.group.settings.primaryColor,secondaryColor:t.group.settings.secondaryColor});case Oj:var n=t.isPropertyOfGroupAttributes;return n?Object(b.a)(Object(b.a)({},e),{},{groupAttributesEdited:Object(b.a)(Object(b.a)({},e.groupAttributesEdited),{},Object(Bi.a)({},t.name,t.value))}):Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.name,t.value));case ao:return"settings"===t.key?Object(b.a)(Object(b.a)({},e),{},{groupAttributesEdited:JSON.parse(JSON.stringify(t.value)),primaryColor:t.value.primaryColor,secondaryColor:t.value.secondaryColor,expandedPledgeFAQ:t.value.hasOwnProperty(St)&&e.expandedPledgeFAQ?-1!==t.value.PledgeFAQs.findIndex((function(t){return t.id===e.expandedPledgeFAQ.id}))?t.value.PledgeFAQs[t.value.PledgeFAQs.findIndex((function(t){return t.id===e.expandedPledgeFAQ.id}))]:e.expandedPledgeFAQ:null}):Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.key,t.value));case xj:return Object(b.a)(Object(b.a)({},e),{},{expandedPledgeFAQ:t.expandedPledgeFAQ,editExpandedPledgeFAQ:t.editExpandedPledgeFAQ});case yj:return Object(b.a)(Object(b.a)({},e),{},{addNewPledgeFAQ:!e.addNewPledgeFAQ,addedPledgeQuestion:"",addedPledgeAnswer:""});case vj:return Object(b.a)(Object(b.a)({},e),{},{editExpandedPledgeFAQ:!e.editExpandedPledgeFAQ,editedPledgeQuestion:e.editExpandedPledgeFAQ?"":e.expandedPledgeFAQ.question,editedPledgeAnswer:e.editExpandedPledgeFAQ?"":e.expandedPledgeFAQ.answer});case Aj:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.name,t.value));case Cj:return Object(b.a)(Object(b.a)({},e),{},{primaryColor:"primaryColor"===t.field?t.color:e.primaryColor,secondaryColor:"secondaryColor"===t.field?t.color:e.secondaryColor});default:return e}},gx={userID:null,legalDocuments:null,legalDocumentsLoaded:!1,legalDocumentsBeingLoaded:!1},bx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return gx;case El:return Object(b.a)(Object(b.a)({},e),{},{userID:t.userID});case Dl:return Object(b.a)(Object(b.a)({},e),{},{legalDocuments:[],legalDocumentsLoaded:!1,legalDocumentsBeingLoaded:!0});case Tl:return Object(b.a)(Object(b.a)({},e),{},{legalDocuments:t.legalDocuments,legalDocumentsLoaded:!0,legalDocumentsBeingLoaded:!1});case Nl:return Object(b.a)(Object(b.a)({},e),{},{legalDocuments:t.legalDocuments});default:return e}},mx={invitedUsers:[],invitedUsersLoaded:!1,invitedUsersBeingLoaded:!1,invitedUsersPage:0,invitedUsersRowsPerPage:5,filterRegistrationStatus:Gj,filterUserType:0,filterGroup:"null",filterMembers:Mj,invitedUserSearchText:"",invitedUsersInSearchMode:!1,requestingCsv:!1,addingMembersFromOneGroupToAnotherGroup:!1,matchedInvitedUsers:[]},fx=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mx,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Po:return mx;case Ij:return Object(b.a)(Object(b.a)({},t),{},{invitedUsers:[],invitedUsersLoaded:!1,invitedUsersBeingLoaded:!0});case Ej:return Object(b.a)(Object(b.a)({},t),{},{invitedUsers:Object(gn.a)(r.invitedUsers),matchedInvitedUsers:Object(gn.a)(r.invitedUsers),invitedUsersLoaded:!0,invitedUsersBeingLoaded:!1});case Dj:return Object(b.a)(Object(b.a)({},t),{},{invitedUsersInSearchMode:!t.invitedUsersInSearchMode,invitedUserSearchText:t.invitedUsersInSearchMode?"":t.invitedUserSearchText,invitedUsersPage:0,matchedInvitedUsers:r.matchedInvitedUsers});case Tj:return Object(b.a)(Object(b.a)({},t),{},(e={},Object(Bi.a)(e,r.name,r.value),Object(Bi.a)(e,"matchedInvitedUsers",r.matchedInvitedUsers),Object(Bi.a)(e,"invitedUsersPage",0),e));case Nj:return Object(b.a)(Object(b.a)({},t),{},{invitedUsersPage:r.newPage});case Rj:return Object(b.a)(Object(b.a)({},t),{},{invitedUsersRowsPerPage:parseInt(r.rows,10),invitedUsersPage:0});case Fj:return Object(b.a)(Object(b.a)({},t),{},{invitedUsers:r.invitedUsers,matchedInvitedUsers:r.matchedInvitedUsers});case Lj:return Object(b.a)(Object(b.a)({},t),{},{requestingCsv:r.value});case Uj:return Object(b.a)(Object(b.a)({},t),{},{addingMembersFromOneGroupToAnotherGroup:r.value});default:return t}},Ox={invitationDialogOpen:!1,title:Gt[0],firstName:"",lastName:"",email:"",userType:"",sendButtonClick:!1,sendResult:0,sendStatusExtraInfo:null},xx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ox,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Ox;case Ih:return Object(b.a)(Object(b.a)({},Ox),{},{invitationDialogOpen:!e.invitationDialogOpen});case Dh:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.event.target.name,t.event.target.value));case Th:return Object(b.a)(Object(b.a)({},e),{},{sendButtonClick:!0});case kh:return Object(b.a)(Object(b.a)({},e),{},{sendResult:t.result,title:t.result===Bh?Gt[0]:e.title,firstName:t.result===Bh?"":e.firstName,lastName:t.result===Bh?"":e.lastName,email:t.result===Bh?"":e.email,userType:t.result===Bh?"":e.userType,sendButtonClick:t.result!==Bh&&e.sendButtonClick,sendStatusExtraInfo:t.extraInfo});default:return e}},vx={addAngelNetworkDialogOpen:!1,angelNetworkName:"",angelNetworkUsername:"",email:"",website:"",primaryColor:"",secondaryColor:"",plainLogo:null,loadingPlainLogo:!1,logoWithText:null,loadingLogoWithText:!1,uploadMode:0,uploadProgress:0,imgUploadError:"",imgUploadErrorSnackbarOpen:!1,addButtonClicked:!1,addResult:0},yx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return vx;case Kj:return Object(b.a)(Object(b.a)({},vx),{},{addAngelNetworkDialogOpen:!e.addAngelNetworkDialogOpen});case Zj:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.event.target.name,t.event.target.value));case eg:return Object(b.a)(Object(b.a)({},e),{},{addButtonClicked:!0});case tg:return Object(b.a)(Object(b.a)({},e),{},{addResult:t.result,angelNetworkName:6===t.result?"":e.angelNetworkName,angelNetworkUsername:6===t.result?"":e.angelNetworkUsername,email:6===t.result?"":e.email,primaryColor:6===t.result?"":e.primaryColor,secondaryColor:6===t.result?"":e.secondaryColor,plainLogo:6===t.result?null:e.plainLogo,logoWithText:6===t.result?null:e.logoWithText,uploadMode:6===t.result?0:t.hasOwnProperty("mode")?t.mode:e.uploadMode,uploadProgress:6===t.result?0:t.hasOwnProperty("progress")?t.progress:e.uploadProgress,addButtonClicked:6!==t.result&&e.addButtonClicked});case ag:return Object(b.a)(Object(b.a)({},e),{},{plainLogo:1===t.mode?null:e.plainLogo,loadingPlainLogo:1===t.mode||e.loadingPlainLogo,logoWithText:2===t.mode?null:e.logoWithText,loadingLogoWithText:2===t.mode||e.loadingLogoWithText});case ig:return Object(b.a)(Object(b.a)({},e),{},{plainLogo:1===t.mode?t.blob:e.plainLogo,loadingPlainLogo:1!==t.mode&&e.loadingPlainLogo,logoWithText:2===t.mode?t.blob:e.logoWithText,loadingLogoWithText:2!==t.mode&&e.loadingLogoWithText});case sg:return Object(b.a)(Object(b.a)({},e),{},{imgUploadError:"Image is too large. The maximum size is ".concat(Vt,"MB."),imgUploadErrorSnackbarOpen:!0});case ug:return Object(b.a)(Object(b.a)({},e),{},{imgUploadError:""});case lg:return Object(b.a)(Object(b.a)({},e),{},{imgUploadErrorSnackbarOpen:!1});default:return e}},Ax={groupUserName:null,anid:null,groupProperties:null,groupPropertiesLoaded:!1,angelNetworkBeingLoaded:!1,expectedPath:null,currentPath:null,shouldLoadOtherData:!1},Cx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ax,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ki:return Object(b.a)(Object(b.a)({},e),{},{groupUserName:t.groupUserName,groupProperties:null,groupPropertiesLoaded:!1,angelNetworkBeingLoaded:!1});case Zi:return Object(b.a)(Object(b.a)({},e),{},{expectedPath:t.expectedPath,currentPath:t.currentPath});case eo:return Object(b.a)(Object(b.a)({},e),{},{groupProperties:null,groupPropertiesLoaded:!1,angelNetworkBeingLoaded:!0,shouldLoadOtherData:!1});case to:return Object(b.a)(Object(b.a)({},e),{},{groupProperties:JSON.parse(JSON.stringify(t.angelNetwork)),groupPropertiesLoaded:!0,angelNetworkBeingLoaded:!1,shouldLoadOtherData:t.shouldLoadOtherData});case ao:return Object(b.a)(Object(b.a)({},e),{},{groupProperties:Object(b.a)(Object(b.a)({},e.groupProperties),{},Object(Bi.a)({},t.key,t.value))});default:return e}},Px={userID:null,statementType:2,checkBox1Ticked:!1,checkBox2Ticked:!1,checkBox3Ticked:!1,certificationExpired:!1,investorSelfCertificationAgreement:null,investorSelfCertificationAgreementLoaded:!1,investorSelfCertificationAgreementBeingLoaded:!1},wx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Px,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Px;case Ul:return Object(b.a)(Object(b.a)({},Px),{},{userID:t.uid});case Bl:return Object(b.a)(Object(b.a)({},e),{},{investorSelfCertificationAgreement:null,investorSelfCertificationAgreementLoaded:!1,investorSelfCertificationAgreementBeingLoaded:!0});case Fl:var r=Rl(t.result.selfCertificationTimestamp);return Object(b.a)(Object(b.a)({},e),{},{investorSelfCertificationAgreement:JSON.parse(JSON.stringify(t.result)),investorSelfCertificationAgreementLoaded:!0,investorSelfCertificationAgreementBeingLoaded:!1,certificationExpired:r});case Ml:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.event.target.name,t.event.target.checked));case Wl:return Object(b.a)(Object(b.a)({},e),{},{statementType:t.event.target.value,checkBox1Ticked:!1,checkBox2Ticked:!1});case ql:return Object(b.a)(Object(b.a)({},e),{},{investorSelfCertificationAgreement:JSON.parse(JSON.stringify(t.agreement))});default:return e}},Sx={angelNetworks:[],loadingAngelNetworks:!1,angelNetworksLoaded:!1,page:0,rowsPerPage:5,searchText:"",inSearchMode:!1,matchedAngelNetworks:[]},_x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Sx;case hg:return Object(b.a)(Object(b.a)({},e),{},{loadingAngelNetworks:!0,angelNetworksLoaded:!1,angelNetworks:[]});case jg:return Object(b.a)(Object(b.a)({},e),{},{loadingAngelNetworks:!1,angelNetworksLoaded:!0,angelNetworks:t.hasOwnProperty("angelNetworks")?Object(gn.a)(t.angelNetworks):[]});case gg:return Object(b.a)(Object(b.a)({},e),{},{page:t.newPage});case bg:return Object(b.a)(Object(b.a)({},e),{},{rowsPerPage:t.value});case mg:return Object(b.a)(Object(b.a)({},e),{},{searchText:t.searchText,matchedAngelNetworks:Object(gn.a)(t.matchedAngelNetworks)});case fg:return Object(b.a)(Object(b.a)({},e),{},{inSearchMode:t.enter,searchText:t.enter?e.searchText:"",matchedAngelNetworks:Object(gn.a)(t.matchedAngelNetworks)});case xg:return Object(b.a)(Object(b.a)({},e),{},{angelNetworks:Object(gn.a)(t.angelNetworks)});default:return e}},Ix={joinRequests:[],loadingJoinRequests:!1,joinRequestsLoaded:!1,searchText:"",inSearchMode:!1,matchedJoinRequests:[],page:0,rowsPerPage:5},Ex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ix,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Ix;case Ag:return Object(b.a)(Object(b.a)({},e),{},{joinRequests:[],loadingJoinRequests:!0,joinRequestsLoaded:!1});case Cg:return Object(b.a)(Object(b.a)({},e),{},{joinRequests:Object(gn.a)(t.joinRequests),loadingJoinRequests:!1,joinRequestsLoaded:!0});case wg:return Object(b.a)(Object(b.a)({},e),{},{page:t.newPage});case Sg:return Object(b.a)(Object(b.a)({},e),{},{rowsPerPage:t.value});case _g:return Object(b.a)(Object(b.a)({},e),{},{searchText:t.searchText,matchedJoinRequests:t.matchedJoinRequests});case Pg:return Object(b.a)(Object(b.a)({},e),{},{inSearchMode:t.enter,searchText:t.enter?e.searchText:"",matchedJoinRequests:t.matchedJoinRequests});case Eg:return Object(b.a)(Object(b.a)({},e),{},{joinRequests:Object(gn.a)(t.joinRequests)});default:return e}},Dx={project:null,pledges:[],pledgesLoaded:!1,loadingPledges:!1,searchText:"",inSearchMode:!1,matchedPledges:[],page:0,rowsPerPage:10},Tx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Dx;case Zb:return Object(b.a)(Object(b.a)({},Dx),{},{project:JSON.parse(JSON.stringify(t.project))});case $b:return Object(b.a)(Object(b.a)({},e),{},{pledges:[],pledgesLoaded:!1,loadingPledges:!0});case em:return Object(b.a)(Object(b.a)({},e),{},{pledges:Object(gn.a)(t.pledges),pledgesLoaded:!0,loadingPledges:!1});case rm:return Object(b.a)(Object(b.a)({},e),{},{page:t.newPage});case nm:return Object(b.a)(Object(b.a)({},e),{},{rowsPerPage:t.value,page:0});case am:return Object(b.a)(Object(b.a)({},e),{},{searchText:t.searchText,matchedPledges:Object(gn.a)(t.matchedPledges)});case tm:return Object(b.a)(Object(b.a)({},e),{},{inSearchMode:t.enter,searchText:t.enter?e.searchText:"",matchedPledges:Object(gn.a)(t.matchedPledges)});case om:return Object(b.a)(Object(b.a)({},e),{},{pledges:Object(gn.a)(t.pledges)});default:return e}},kx={open:!1,message:"",color:"",position:""},Nx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _r:return Object(b.a)(Object(b.a)({},e),{},{open:!1});case Er:return Object(b.a)(Object(b.a)({},e),{},{open:!0,message:t.message,color:t.color,position:t.position});case Tr:return Object(b.a)({},kx);default:return e}},Rx={tableUser:null,activities:[],activitiesLoaded:!1,loadingActivities:!1,page:0,rowsPerPage:10},Ux=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Rx;case xc:return Object(b.a)(Object(b.a)({},Rx),{},{tableUser:JSON.parse(JSON.stringify(t.user))});case yc:return Object(b.a)(Object(b.a)({},e),{},{activities:[],activitiesLoaded:!1,loadingActivities:!0});case Ac:return Object(b.a)(Object(b.a)({},e),{},{activities:Object(gn.a)(t.activities),activitiesLoaded:!0,loadingActivities:!1});case Sc:return Object(b.a)(Object(b.a)({},e),{},{activities:Object(gn.a)(t.activities)});case Cc:return Object(b.a)(Object(b.a)({},e),{},{page:t.newPage});case Pc:return Object(b.a)(Object(b.a)({},e),{},{rowsPerPage:t.value});default:return e}},Lx={dialogOpen:!1,jsonBefore:{},jsonAfter:{}},Bx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Lx;case bc:return Object(b.a)(Object(b.a)({},e),{},{dialogOpen:!0,jsonBefore:JSON.parse(JSON.stringify(t.jsonBefore)),jsonAfter:JSON.parse(JSON.stringify(t.jsonAfter))});case mc:return Object(b.a)(Object(b.a)({},e),{},{dialogOpen:!1,jsonBefore:{},jsonAfter:{}});default:return e}},Fx={tableGroup:null,groupAdmins:[],groupAdminsLoaded:!1,loadingGroupAdmins:!1,searchText:"",inSearchMode:!1,page:0,rowsPerPage:10,addNewGroupAdminDialogOpen:!1,newGroupAdminEmail:"",addNewGroupAdminStatus:0},Gx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Fx;case Ng:return Object(b.a)(Object(b.a)({},Fx),{},{tableGroup:JSON.parse(JSON.stringify(t.group))});case Rg:return Object(b.a)(Object(b.a)({},e),{},{groupAdmins:[],groupAdminsLoaded:!1,loadingGroupAdmins:!0});case Ug:return Object(b.a)(Object(b.a)({},e),{},{groupAdmins:Object(gn.a)(t.groupAdmins),groupAdminsLoaded:!0,loadingGroupAdmins:!1});case Lg:return Object(b.a)(Object(b.a)({},e),{},{rowsPerPage:t.newPage});case Bg:return Object(b.a)(Object(b.a)({},e),{},{rowsPerPage:t.value});case Fg:return Object(b.a)(Object(b.a)({},e),{},{searchText:e.inSearchMode?"":e.searchText,inSearchMode:!e.inSearchMode});case Gg:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.event.target.name,t.event.target.value));case Mg:return Object(b.a)(Object(b.a)({},e),{},{addNewGroupAdminDialogOpen:!e.addNewGroupAdminDialogOpen,newGroupAdminEmail:"",addNewGroupAdminStatus:0});case Qg:return Object(b.a)(Object(b.a)({},e),{},{groupAdmins:Object(gn.a)(t.groupAdmins)});case qg:return Object(b.a)(Object(b.a)({},e),{},{addNewGroupAdminStatus:t.status});default:return e}},Mx={open:!1,project:null,postMoneyValuation:"",expiredDate:null,extraNotes:"",createStatus:0},qx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Mx;case Gb:return Object(b.a)(Object(b.a)({},Mx),{},{open:!e.open});case qb:return Object(b.a)(Object(b.a)({},e),{},{project:JSON.parse(JSON.stringify(t.project)),postMoneyValuation:t.project.Pitch.hasOwnProperty("postMoneyValuation")?Number(t.project.Pitch.postMoneyValuation.toFixed(2)).toLocaleString():"",expiredDate:er(1),extraNotes:""});case Wb:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.event.target.name,t.event.target.value));case Qb:return Object(b.a)(Object(b.a)({},e),{},{expiredDate:t.date&&"Invalid Date"===t.date?NaN:null===t.date?null:t.date.getTime()});case Vb:return Object(b.a)(Object(b.a)({},e),{},{createStatus:t.status});default:return e}},Wx={projectVisibilitySetting:-1,project:null},Qx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Wx;case hb:return Object(b.a)(Object(b.a)({},Wx),{},{project:JSON.parse(JSON.stringify(t.project))});case gb:return Object(b.a)(Object(b.a)({},e),{},Object(Bi.a)({},t.event.target.name,t.event.target.value));default:return e}},Vx={systemGroups:[],loadingGroups:!1,groupsLoaded:!1},Hx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Vx;case iO:return Object(b.a)(Object(b.a)({},e),{},{systemGroups:[],loadingGroups:!0,groupsLoaded:!1});case oO:return Object(b.a)(Object(b.a)({},e),{},{systemGroups:t.groups,loadingGroups:!1,groupsLoaded:!0});case cO:return Object(b.a)(Object(b.a)({},e),{},{systemGroups:t.groups});default:return e}},Jx="LOADING_MARKETING_PREFERENCES",zx="FINISHED_LOADING_MARKETING_PREFERENCES",Yx={marketingPreferences:[],loadingMarketingPreferences:!1,marketingPreferencesLoaded:!1},Kx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return Yx;case Jx:return Object(b.a)(Object(b.a)({},e),{},{marketingPreferences:[],loadingMarketingPreferences:!0,marketingPreferencesLoaded:!1});case zx:return Object(b.a)(Object(b.a)({},e),{},{marketingPreferences:JSON.parse(JSON.stringify(t.marketingPreferences)),loadingMarketingPreferences:!1,marketingPreferencesLoaded:!0});default:return e}},Xx="CREATE_PROJECT_SET_COMPONENT_PROPS",Zx="CREATE_PROJECT_LOADING_DATA",$x="CREATE_PROJECT_FINISHED_LOADING_DATA",ev="CREATE_PROJECT_DRAFT_PROJECT_CHANGED",tv={componentContext:null,recoveredFromPreviousState:!1,projectBeforeEdited:null,projectEdited:null,projectEditedLoaded:!1,requestToLoadData:!0,projectIDToBeLoadedAfterSavingFirstTime:null,saveProgress:!1,progressBeingSaved:!1,draftBeingDeleted:!1,createNewPitch:{activeStep:0,pitchSector:"-",pitchProjectName:"",pitchProjectDescription:"",pitchExpiredDate:null,pitchAmountRaisedToDate:"",pitchRaiseRequired:"",pitchPostMoneyValuation:"",pitchInvestorsCommitted:"",hasRaisedMoneyBefore:"",hasEIS:"",hasSEIS:"",pitchCover:[],pitchCoverVideoURL:"",pitchCoverTypeSelected:null,pitchSupportingDocuments:[],pitchPresentationDocument:[],pitchPresentationText:{ops:[]},pitchPublishCheck:0,pitchNextStepButtonTarget:null,pitchPublishErrorMessageShowed:!1,uploadFileProgress:0,uploadFileMode:0,openUploadingProgressDialog:!1,snackbarErrorMessage:"",errorSnackbarOpen:!1,acceptedTermsAndConditions:!1,projectID:null}},rv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Po:return tv;case Xx:return Object(b.a)(Object(b.a)({},e),{},{componentContext:t.context});case Zx:return Object(b.a)(Object(b.a)({},e),{},{requestToLoadData:!1});case $x:if(t.hasOwnProperty("error"))return Object(b.a)(Object(b.a)({},e),{},{projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null});if(!t.hasOwnProperty("mode"))return tv;switch(t.mode){case 1:var r=JSON.parse(JSON.stringify(t.projectEdited));return Object(b.a)(Object(b.a)({},e),{},{projectBeforeEdited:r,projectEdited:r,projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null,createNewPitch:Object(b.a)(Object(b.a)({},e.createNewPitch),{},{pitchSector:r.hasOwnProperty("sector")?r.sector:"",pitchProjectName:r.hasOwnProperty("projectName")?r.projectName:"",pitchProjectDescription:r.hasOwnProperty("description")?r.description:"",hasEIS:!!r.hasOwnProperty("hasEIS")&&r.hasEIS,hasSEIS:!!r.hasOwnProperty("hasSEIS")&&r.hasSEIS,pitchExpiredDate:r.Pitch.hasOwnProperty("expiredDate")?r.Pitch.expiredDate:null,pitchAmountRaisedToDate:r.Pitch.hasOwnProperty("amountRaised")?Number(r.Pitch.amountRaised.toFixed(2)).toLocaleString():"",pitchRaiseRequired:r.Pitch.hasOwnProperty("fundRequired")?Number(r.Pitch.fundRequired.toFixed(2)).toLocaleString():"",pitchPostMoneyValuation:r.Pitch.hasOwnProperty("postMoneyValuation")?Number(r.Pitch.postMoneyValuation.toFixed(2)).toLocaleString():"",pitchInvestorsCommitted:r.Pitch.hasOwnProperty("investorsCommitted")?r.Pitch.investorsCommitted:"",hasRaisedMoneyBefore:r.Pitch.hasOwnProperty("amountRaised")?r.Pitch.amountRaised>0?"true":"false":"",pitchPresentationText:r.Pitch.presentationText?r.Pitch.presentationText:{ops:[]}})});case 2:return Object(b.a)(Object(b.a)({},e),{},{projectEditedLoaded:!0,projectIDToBeLoadedAfterSavingFirstTime:null});default:return tv}case ev:return Object(b.a)(Object(b.a)({},e),{},{projectEdited:JSON.parse(JSON.stringify(t.projectChanged))});default:return e}},nv={openRiskWarningDialog:!1},av=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aj.OpenRiskWarningDialog:var r=t;return Object(b.a)(Object(b.a)({},e),{},{selectedDocument:r.selectedDocument,openRiskWarningDialog:!0});case aj.CloseRiskWarningDialog:return Object(b.a)(Object(b.a)({},e),{},{selectedDocument:void 0,openRiskWarningDialog:!1});default:return e}};!function(e){e.SetCopiedUser="PersonalDetailsEvents.SetCopiedUser"}(jO||(jO={}));var iv;!function(e){e.PersonalDetails="InputCategories.PersonalDetails",e.BusinessProfile="InputCategories.BusinessProfile",e.RegisteredOffice="InputCategories.RegisteredOffice",e.TradingAddress="InputCategories.TradingAddress",e.Director="InputCategories.Director",e.BusinessProfileCheckBox="InputCategories.BusinessProfileCheckBox"}(iv||(iv={}));var ov;!function(e){e.ToggleDialog="EditImageDialogEvents.ToggleDialog",e.SetEditor="EditImageDialogEvents.SetEditor",e.ChangeMode="EditImageDialogEvents.ChangeMode",e.SuccessfullySelectedImage="EditImageDialogEvents.SuccessfullySelectedImage",e.SliderChanged="EditImageDialogEvents.SliderChanged",e.SavingImage="EditImageDialogEvents.SavingImage",e.DeletingImage="EditImageDialogEvents.DeletingImage"}(ov||(ov={}));var sv;!function(e){e.NewBusinessProfileChanged="BusinessProfileEvents.NewBusinessProfileChanged",e.CheckBoxChanged="BusinessProfileEvents.CheckBoxChanged",e.FindingAddress="BusinessProfileEvents.FindingAddress",e.FinishedFindingAddress="BusinessProfileEvents.FinishedFindingAddress",e.ChangeAddressState="BusinessProfileEvents.ChangeAddressState"}(sv||(sv={}));var cv,lv;!function(e){e.EnterPostcode="AddressFindingStates.EnterPostcode",e.FindingAddresses="AddressFindingStates.FindingAddresses",e.DisplayFoundAddresses="AddressFindingStates.DisplayFoundAddresses"}(cv||(cv={})),function(e){e.AddPhoto="EditImageDialogModes.AddPhoto",e.EditPhoto="EditImageDialogModes.EditPhoto",e.DisplayPhoto="EditImageDialogModes.DisplayPhoto"}(lv||(lv={}));var dv={editedBusinessProfile:{companyName:"",companyWebsite:"",registrationNo:"",sector:"none",directors:[""],registeredOffice:{address1:"none",address2:"",address3:"",postcode:"",townCity:""},tradingAddress:{address1:"none",address2:"",address3:"",postcode:"",townCity:""},logo:[{storageID:-1,url:""}]},registeredOfficeState:cv.EnterPostcode,tradingAddressState:cv.EnterPostcode,tradingAddressSameAsRegisteredOffice:!0},uv={dialogOpen:!1,mode:lv.AddPhoto,scale:1,rotate:0,savingImage:!1,deletingImage:!1},pv={hasInitiallySetCopiedUser:!1,PersonalDetailsState:{},BusinessProfileState:dv,EditImageDialogState:uv},hv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jO.SetCopiedUser:var r=t;return Object(b.a)(Object(b.a)({},e),{},{copiedUser:r.copiedUser,hasInitiallySetCopiedUser:!0===r.firstTimeSetCopiedUser||e.hasInitiallySetCopiedUser});case ov.ToggleDialog:var n=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},uv),{},{dialogOpen:!e.EditImageDialogState.dialogOpen,rawImage:n.image})});case ov.SetEditor:var a=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},e.EditImageDialogState),{},{editor:a.editor})});case ov.ChangeMode:var i=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},e.EditImageDialogState),{},{mode:i.mode})});case ov.SuccessfullySelectedImage:var o=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},e.EditImageDialogState),{},{rawImage:o.selectedImage})});case ov.SliderChanged:var s=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},e.EditImageDialogState),{},Object(Bi.a)({},s.name,s.value))});case ov.SavingImage:var c=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},e.EditImageDialogState),{},{savingImage:c.saving})});case ov.DeletingImage:var l=t;return Object(b.a)(Object(b.a)({},e),{},{EditImageDialogState:Object(b.a)(Object(b.a)({},e.EditImageDialogState),{},{deletingImage:l.deleting})});case sv.CheckBoxChanged:var d=t;return Object(b.a)(Object(b.a)({},e),{},{BusinessProfileState:Object(b.a)(Object(b.a)({},e.BusinessProfileState),{},Object(Bi.a)({},d.name,d.value))});case sv.FindingAddress:var u=t;return Object(b.a)(Object(b.a)({},e),{},{BusinessProfileState:Object(b.a)(Object(b.a)({},e.BusinessProfileState),{},{registeredOfficeState:"registeredOffice"===u.mode?cv.FindingAddresses:e.BusinessProfileState.registeredOfficeState,tradingAddressState:"tradingAddress"===u.mode?cv.FindingAddresses:e.BusinessProfileState.tradingAddressState})});case sv.FinishedFindingAddress:var p=t;return Object(b.a)(Object(b.a)({},e),{},{BusinessProfileState:Object(b.a)(Object(b.a)({},e.BusinessProfileState),{},{foundAddressesForRegisteredOffice:"registeredOffice"===p.mode?p.foundAddresses:e.BusinessProfileState.foundAddressesForRegisteredOffice,foundAddressesForTradingAddress:"tradingAddress"===p.mode?p.foundAddresses:e.BusinessProfileState.foundAddressesForTradingAddress,errorFindingAddressesForRegisteredOffice:"registeredOffice"===p.mode&&void 0!==p.error?{detail:p.error}:e.BusinessProfileState.errorFindingAddressesForRegisteredOffice,errorFindingAddressesForTradingAddress:"tradingAddress"===p.mode&&void 0!==p.error?{detail:p.error}:e.BusinessProfileState.errorFindingAddressesForTradingAddress})});case sv.ChangeAddressState:var h=t;return Object(b.a)(Object(b.a)({},e),{},{BusinessProfileState:Object(b.a)(Object(b.a)({},e.BusinessProfileState),{},{registeredOfficeState:"registeredOffice"===h.mode?h.addressState:e.BusinessProfileState.registeredOfficeState,tradingAddressState:"tradingAddress"===h.mode?h.addressState:e.BusinessProfileState.tradingAddressState,foundAddressesForRegisteredOffice:"registeredOffice"===h.mode&&h.addressState===cv.EnterPostcode?void 0:e.BusinessProfileState.foundAddressesForRegisteredOffice,foundAddressesForTradingAddress:"tradingAddress"===h.mode&&h.addressState===cv.EnterPostcode?void 0:e.BusinessProfileState.foundAddressesForTradingAddress,errorFindingAddressesForRegisteredOffice:"registeredOffice"===h.mode&&h.addressState===cv.EnterPostcode?void 0:e.BusinessProfileState.errorFindingAddressesForRegisteredOffice,errorFindingAddressesForTradingAddress:"tradingAddress"===h.mode&&h.addressState===cv.EnterPostcode?void 0:e.BusinessProfileState.errorFindingAddressesForTradingAddress,editedBusinessProfile:Object(b.a)(Object(b.a)({},e.BusinessProfileState.editedBusinessProfile),{},{registeredOffice:"registeredOffice"===h.mode&&h.addressState===cv.EnterPostcode?dv.editedBusinessProfile.registeredOffice:e.BusinessProfileState.editedBusinessProfile.registeredOffice,tradingAddress:"tradingAddress"===h.mode&&h.addressState===cv.EnterPostcode?dv.editedBusinessProfile.tradingAddress:e.BusinessProfileState.editedBusinessProfile.tradingAddress})})});default:return e}},jv=Object(gO.b)({MediaQueryState:dx,ManageSystemIdleTimeState:uO,ManageGroupUrlState:cd,AuthenticationState:As,ManageSystemAttributesState:sj,SignInLocalState:of,SignUpLocalState:Lf,ExploreOffersLocalState:ku,OffersTableLocalState:yd,ExploreGroupsLocalState:ip,GroupDetailsLocalState:Hm,ResetPasswordLocalState:Cf,ResourcesLocalState:Pp,FeedbackSnackbarLocalState:vp,DocumentsDownloadLocalState:av,ContactPitchOwnerDialogLocalState:jm,ManageSectorsLocalState:dj,ProfileLocalState:hv,auth:mO,createBusinessProfile:OO,editUser:vO,editImage:AO,editVideo:PO,uploadFiles:SO,uploadingStatus:IO,changePassword:DO,manageClubAttributes:kO,manageForums:ax,manageNotifications:ox,dashboardSidebar:cx,superAdminSettings:px,groupAdminSettings:jx,legalDocuments:bx,invitedUsers:fx,manageInvitationDialog:xx,manageAddAngelNetworkDialog:yx,manageGroupFromParams:Cx,manageInvestorSelfCertificationAgreement:wx,manageAngelNetworks:_x,manageJoinRequests:Ex,managePledgesTable:Tx,manageFeedbackSnackbar:Nx,manageActivitiesTable:Ux,manageJSONCompareChangesDialog:Bx,manageGroupAdminsTable:Gx,manageCreatePledgeDialog:qx,manageSelectProjectVisibility:Qx,manageSystemGroups:Hx,manageMarketingPreferences:Kx,manageCreateProject:rv}),gv=r(410),bv=Object(gO.c)(jv,Object(gO.a)(gv.a));o.a.render(Object(V.jsx)(q.a,{store:bv,children:Object(V.jsx)(hO,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[706,1,2]]]);
//# sourceMappingURL=main.25690592.chunk.js.map